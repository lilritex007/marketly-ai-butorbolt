{"version":3,"file":"index2.js","sources":["../../node_modules/lucide-react/dist/esm/icons/mic-off.js","../../node_modules/lucide-react/dist/esm/icons/mic.js","../../node_modules/lucide-react/dist/esm/icons/volume-2.js","../../src/components/search/VoiceSearch.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MicOff = createLucideIcon(\"MicOff\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2\", key: \"80xlxr\" }],\n  [\"path\", { d: \"M5 10v2a7 7 0 0 0 12 5\", key: \"p2k8kg\" }],\n  [\"path\", { d: \"M15 9.34V5a3 3 0 0 0-5.68-1.33\", key: \"1gzdoj\" }],\n  [\"path\", { d: \"M9 9v3a3 3 0 0 0 5.12 2.12\", key: \"r2i35w\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { MicOff as default };\n//# sourceMappingURL=mic-off.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mic = createLucideIcon(\"Mic\", [\n  [\"path\", { d: \"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\", key: \"131961\" }],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { Mic as default };\n//# sourceMappingURL=mic.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Volume2 = createLucideIcon(\"Volume2\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }],\n  [\"path\", { d: \"M19.364 18.364a9 9 0 0 0 0-12.728\", key: \"ijwkga\" }]\n]);\n\nexport { Volume2 as default };\n//# sourceMappingURL=volume-2.js.map\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Loader2, Volume2 } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n/**\n * VoiceSearch - AI-powered voice search using Web Speech API\n * Real-time voice recognition for product search\n */\nconst VoiceSearch = ({ onSearchQuery, className = '' }) => {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const recognitionRef = useRef(null);\n\n  useEffect(() => {\n    // Check browser support\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      setError('A bÃ¶ngÃ©szÅ‘ nem tÃ¡mogatja a hangfelismerÃ©st.');\n      return;\n    }\n\n    // Initialize Speech Recognition\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    recognitionRef.current = new SpeechRecognition();\n    recognitionRef.current.continuous = false;\n    recognitionRef.current.interimResults = true;\n    recognitionRef.current.lang = 'hu-HU';\n\n    recognitionRef.current.onresult = (event) => {\n      let interimTranscript = '';\n      let finalTranscript = '';\n\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcriptPiece = event.results[i][0].transcript;\n        if (event.results[i].isFinal) {\n          finalTranscript += transcriptPiece;\n        } else {\n          interimTranscript += transcriptPiece;\n        }\n      }\n\n      setTranscript(finalTranscript || interimTranscript);\n\n      if (finalTranscript) {\n        handleFinalTranscript(finalTranscript);\n      }\n    };\n\n    recognitionRef.current.onerror = (event) => {\n      setIsListening(false);\n      if (event.error === 'no-speech') {\n        setError('Nem hallottam semmit. PrÃ³bÃ¡ld Ãºjra!');\n      } else if (event.error === 'not-allowed') {\n        setError('Mikrofon hozzÃ¡fÃ©rÃ©s megtagadva.');\n      } else {\n        setError(`Hiba: ${event.error}`);\n      }\n      setTimeout(() => setError(null), 3000);\n    };\n\n    recognitionRef.current.onend = () => {\n      setIsListening(false);\n    };\n\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n    };\n  }, []);\n\n  const handleFinalTranscript = async (text) => {\n    setIsProcessing(true);\n    \n    // Haptic feedback\n    if (window.navigator?.vibrate) {\n      window.navigator.vibrate(50);\n    }\n\n    try {\n      // Process the voice query\n      const cleanedQuery = text.trim().toLowerCase();\n      \n      // Trigger search with the transcript\n      if (onSearchQuery) {\n        await onSearchQuery(cleanedQuery);\n      }\n\n      // Clear transcript after a delay\n      setTimeout(() => {\n        setTranscript('');\n        setIsProcessing(false);\n      }, 2000);\n\n    } catch (error) {\n      setError('Nem sikerÃ¼lt feldolgozni a keresÃ©st.');\n      setIsProcessing(false);\n    }\n  };\n\n  const toggleListening = () => {\n    if (!recognitionRef.current) return;\n\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      setTranscript('');\n      setError(null);\n      recognitionRef.current.start();\n      setIsListening(true);\n    }\n  };\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Voice Button */}\n      <motion.button\n        onClick={toggleListening}\n        disabled={isProcessing || !!error}\n        className={`\n          relative overflow-hidden\n          p-3 rounded-full\n          transition-all duration-300\n          ${isListening \n            ? 'bg-red-500 text-white shadow-lg shadow-red-500/50' \n            : 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-md'\n          }\n          disabled:opacity-50 disabled:cursor-not-allowed\n        `}\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n      >\n        {isProcessing ? (\n          <Loader2 className=\"w-5 h-5 animate-spin\" />\n        ) : isListening ? (\n          <MicOff className=\"w-5 h-5\" />\n        ) : (\n          <Mic className=\"w-5 h-5\" />\n        )}\n\n        {/* Pulse animation when listening */}\n        {isListening && (\n          <motion.div\n            className=\"absolute inset-0 bg-red-500 rounded-full\"\n            animate={{\n              scale: [1, 1.5, 1],\n              opacity: [0.5, 0, 0.5]\n            }}\n            transition={{\n              duration: 1.5,\n              repeat: Infinity,\n              ease: 'easeInOut'\n            }}\n          />\n        )}\n      </motion.button>\n\n      {/* Transcript Popup */}\n      <AnimatePresence>\n        {(transcript || error) && (\n          <motion.div\n            initial={{ opacity: 0, y: 10, scale: 0.9 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 10, scale: 0.9 }}\n            className=\"absolute top-full right-0 mt-2 z-50 min-w-[250px]\"\n          >\n            <div className={`\n              rounded-xl shadow-2xl p-4 border-2\n              ${error \n                ? 'bg-red-50 border-red-200' \n                : 'bg-white border-indigo-200'\n              }\n            `}>\n              {error ? (\n                <div className=\"flex items-start gap-2 text-red-700\">\n                  <Volume2 className=\"w-5 h-5 mt-0.5 flex-shrink-0\" />\n                  <span className=\"text-sm\">{error}</span>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-indigo-600\">\n                    <Volume2 className=\"w-5 h-5\" />\n                    <span className=\"text-sm font-medium\">Hallgatom...</span>\n                  </div>\n                  <p className=\"text-gray-900 font-medium\">\n                    \"{transcript}\"\n                  </p>\n                  {isProcessing && (\n                    <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                      <Loader2 className=\"w-3 h-3 animate-spin\" />\n                      <span>KeresÃ©s...</span>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Helper tooltip */}\n      {!isListening && !transcript && !error && (\n        <div className=\"absolute top-full right-0 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap\">\n          Kattints Ã©s mondj valamit ðŸŽ¤\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VoiceSearch;\n"],"names":["MicOff","createLucideIcon","Mic","Volume2","VoiceSearch","onSearchQuery","className","isListening","setIsListening","useState","transcript","setTranscript","isProcessing","setIsProcessing","error","setError","recognitionRef","useRef","useEffect","SpeechRecognition","event","interimTranscript","finalTranscript","i","transcriptPiece","handleFinalTranscript","text","_a","cleanedQuery","toggleListening","jsxs","motion","jsx","Loader2","AnimatePresence"],"mappings":"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","x_google_ignoreList":[0,1,2]}