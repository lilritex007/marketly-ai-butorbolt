{"version":3,"file":"AIStyleQuiz.js","sources":["../../src/components/ai/AIStyleQuiz.jsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { \n  Sparkles, ArrowRight, X, Loader2, CheckCircle,\n  Building2, TreePine, Factory, Clock, Palette,\n  CircleDot, Leaf, Zap, Circle,\n  DollarSign, Gem, Crown, Target,\n  Sofa, Paintbrush, Shield, RefreshCw, TreeDeciduous,\n  Tv, BedDouble, UtensilsCrossed, Briefcase, Home,\n  ShoppingBag, Star\n} from 'lucide-react';\nimport { generateText } from '../../services/geminiService';\nimport { saveStyleDNA, getPersonalizedRecommendations } from '../../services/userPreferencesService';\n\n/**\n * AIStyleQuiz - Személyre szabott stílus kvíz Gemini AI-val\n * Teljes adatbázis ismeretével\n */\nconst AIStyleQuiz = ({ products, onRecommendations, onClose }) => {\n  const [step, setStep] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [styleDNA, setStyleDNA] = useState(null);\n  const [recommendations, setRecommendations] = useState([]);\n  const [aiExplanation, setAiExplanation] = useState('');\n\n  // Termék statisztikák az AI számára\n  const productStats = useMemo(() => {\n    if (!products || products.length === 0) return null;\n    \n    const categories = {};\n    const priceRanges = { budget: 0, mid: 0, premium: 0 };\n    \n    products.forEach(p => {\n      // Kategóriák\n      const cat = (p.category || 'Egyéb').split(' > ')[0];\n      categories[cat] = (categories[cat] || 0) + 1;\n      \n      // Árkategóriák\n      const price = p.salePrice || p.price || 0;\n      if (price < 100000) priceRanges.budget++;\n      else if (price <= 300000) priceRanges.mid++;\n      else priceRanges.premium++;\n    });\n    \n    const topCategories = Object.entries(categories)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => `${name} (${count})`)\n      .join(', ');\n    \n    return { \n      total: products.length, \n      topCategories,\n      priceRanges\n    };\n  }, [products]);\n\n  const questions = [\n    {\n      id: 'space',\n      question: 'Milyen a lakásod jelenlegi stílusa?',\n      icon: Home,\n      options: [\n        { id: 'modern', label: 'Modern & Minimalista', icon: Building2, color: 'text-blue-600 bg-blue-50', keywords: ['modern', 'minimalista', 'letisztult', 'egyszerű', 'fehér'] },\n        { id: 'scandinavian', label: 'Skandináv & Világos', icon: TreePine, color: 'text-emerald-600 bg-emerald-50', keywords: ['skandináv', 'natúr', 'világos', 'fa', 'természetes'] },\n        { id: 'industrial', label: 'Indusztriális & Nyers', icon: Factory, color: 'text-gray-600 bg-gray-100', keywords: ['indusztriális', 'loft', 'fém', 'ipari', 'beton'] },\n        { id: 'vintage', label: 'Vintage & Retro', icon: Clock, color: 'text-amber-600 bg-amber-50', keywords: ['vintage', 'retro', 'antik', 'klasszikus', 'régi'] },\n        { id: 'bohemian', label: 'Bohém & Színes', icon: Palette, color: 'text-pink-600 bg-pink-50', keywords: ['bohém', 'színes', 'egyedi', 'mintás', 'kreatív'] },\n      ]\n    },\n    {\n      id: 'colors',\n      question: 'Milyen színeket preferálsz?',\n      icon: Palette,\n      options: [\n        { id: 'neutral', label: 'Semleges (Fehér, Bézs, Szürke)', icon: CircleDot, color: 'text-gray-500 bg-gray-50', keywords: ['fehér', 'bézs', 'szürke', 'krém', 'natúr'] },\n        { id: 'earth', label: 'Földszínek (Barna, Zöld)', icon: Leaf, color: 'text-amber-700 bg-amber-50', keywords: ['barna', 'zöld', 'fa', 'dió', 'tölgy'] },\n        { id: 'bold', label: 'Merész (Kék, Piros)', icon: Zap, color: 'text-red-600 bg-red-50', keywords: ['kék', 'piros', 'sárga', 'élénk', 'színes'] },\n        { id: 'dark', label: 'Sötét (Fekete, Antracit)', icon: Circle, color: 'text-gray-800 bg-gray-200', keywords: ['fekete', 'antracit', 'sötét', 'grafit', 'éjfekete'] },\n        { id: 'pastel', label: 'Pasztell (Rózsaszín, Menta)', icon: Sparkles, color: 'text-secondary-500 bg-secondary-50', keywords: ['rózsaszín', 'menta', 'pasztell', 'halvány', 'lágy'] },\n      ]\n    },\n    {\n      id: 'budget',\n      question: 'Mi a preferált árkategóriád?',\n      icon: DollarSign,\n      options: [\n        { id: 'budget', label: 'Megfizethető (< 100k Ft)', icon: DollarSign, color: 'text-green-600 bg-green-50' },\n        { id: 'mid', label: 'Közép (100-300k Ft)', icon: Gem, color: 'text-blue-600 bg-blue-50' },\n        { id: 'premium', label: 'Prémium (> 300k Ft)', icon: Crown, color: 'text-amber-600 bg-amber-50' },\n        { id: 'flexible', label: 'Rugalmas', icon: Target, color: 'text-primary-500 bg-primary-50' },\n      ]\n    },\n    {\n      id: 'priority',\n      question: 'Mi a legfontosabb számodra?',\n      icon: Target,\n      options: [\n        { id: 'comfort', label: 'Kényelem', icon: Sofa, color: 'text-primary-500 bg-primary-50', keywords: ['kényelmes', 'puha', 'tágas'] },\n        { id: 'design', label: 'Design', icon: Paintbrush, color: 'text-pink-600 bg-pink-50', keywords: ['design', 'stílusos', 'elegáns', 'divatos'] },\n        { id: 'durability', label: 'Tartósság', icon: Shield, color: 'text-gray-600 bg-gray-100', keywords: ['tartós', 'strapabíró', 'erős', 'masszív'] },\n        { id: 'versatility', label: 'Sokoldalúság', icon: RefreshCw, color: 'text-blue-600 bg-blue-50', keywords: ['praktikus', 'átalakítható', 'multifunkciós'] },\n        { id: 'eco', label: 'Fenntarthatóság', icon: TreeDeciduous, color: 'text-green-600 bg-green-50', keywords: ['öko', 'natúr', 'fenntartható', 'bio'] },\n      ]\n    },\n    {\n      id: 'room',\n      question: 'Melyik helyiségbe keresel bútort?',\n      icon: Home,\n      options: [\n        { id: 'living', label: 'Nappali', icon: Tv, color: 'text-primary-500 bg-primary-50', keywords: ['kanapé', 'fotel', 'dohányzó', 'tv', 'nappali', 'ülőgarnitúra', 'sarok'] },\n        { id: 'bedroom', label: 'Hálószoba', icon: BedDouble, color: 'text-secondary-700 bg-secondary-50', keywords: ['ágy', 'matrac', 'éjjeli', 'hálószoba', 'gardrób', 'komód', 'franciaágy'] },\n        { id: 'dining', label: 'Étkező', icon: UtensilsCrossed, color: 'text-amber-600 bg-amber-50', keywords: ['étkező', 'asztal', 'szék', 'tálaló', 'étkezőasztal', 'étkezőszék'] },\n        { id: 'office', label: 'Dolgozószoba', icon: Briefcase, color: 'text-gray-600 bg-gray-100', keywords: ['íróasztal', 'iroda', 'forgószék', 'polc', 'könyvespolc'] },\n        { id: 'all', label: 'Teljes lakás', icon: Home, color: 'text-emerald-600 bg-emerald-50', keywords: [] },\n      ]\n    }\n  ];\n\n  const currentQuestion = questions[step];\n  const progress = ((step + 1) / questions.length) * 100;\n\n  const handleAnswer = (optionId) => {\n    const newAnswers = { ...answers, [currentQuestion.id]: optionId };\n    setAnswers(newAnswers);\n    \n    if (step < questions.length - 1) {\n      setTimeout(() => setStep(step + 1), 200);\n    } else {\n      setTimeout(() => analyzeStyle(newAnswers), 300);\n    }\n  };\n\n  const analyzeStyle = async (allAnswers) => {\n    setIsAnalyzing(true);\n\n    try {\n      // Összegyűjtjük a kulcsszavakat a válaszok alapján\n      const selectedKeywords = [];\n      questions.forEach(q => {\n        const answer = allAnswers[q.id];\n        const option = q.options.find(o => o.id === answer);\n        if (option?.keywords) {\n          selectedKeywords.push(...option.keywords);\n        }\n      });\n\n      // AI-val keresünk termékeket\n      const matchedProducts = await findMatchingProductsWithAI(allAnswers, selectedKeywords);\n      setRecommendations(matchedProducts);\n\n      // Stílus leírások\n      const styleLabels = {\n        modern: 'modern, minimalista',\n        scandinavian: 'skandináv, világos',\n        industrial: 'indusztriális, loft',\n        vintage: 'vintage, retro',\n        bohemian: 'bohém, színes'\n      };\n      \n      const colorLabels = {\n        neutral: 'semleges színeket (fehér, bézs, szürke)',\n        earth: 'földszíneket (barna, zöld)',\n        bold: 'élénk színeket (kék, piros)',\n        dark: 'sötét tónusokat (fekete, antracit)',\n        pastel: 'pasztell árnyalatokat'\n      };\n\n      const roomLabels = {\n        living: 'nappaliba',\n        bedroom: 'hálószobába',\n        dining: 'étkezőbe',\n        office: 'dolgozószobába',\n        all: 'a teljes lakásba'\n      };\n\n      const budgetLabels = {\n        budget: '100 ezer Ft alatt',\n        mid: '100-300 ezer Ft között',\n        premium: '300 ezer Ft felett',\n        flexible: 'rugalmas költségvetéssel'\n      };\n\n      // AI prompt a személyre szabott profilhoz\n      const prompt = `Te egy profi lakberendező tanácsadó vagy. Készíts személyre szabott profilt és adj konkrét termékajánlásokat!\n\nVÁSÁRLÓ PREFERENCIÁI:\n- Stílus: ${styleLabels[allAnswers.space] || allAnswers.space}\n- Színek: ${colorLabels[allAnswers.colors] || allAnswers.colors}\n- Helyiség: ${roomLabels[allAnswers.room] || allAnswers.room}\n- Költségvetés: ${budgetLabels[allAnswers.budget] || allAnswers.budget}\n\nELÉRHETŐ TERMÉKEK (${productStats?.total || 0} db összesen):\n${matchedProducts.slice(0, 8).map(p => `- ${p.name}: ${(p.salePrice || p.price || 0).toLocaleString('hu-HU')} Ft`).join('\\n')}\n\nFELADATOD:\n1. Írj egy 2-3 mondatos személyre szabott stílusprofilt\n2. Magyarázd el, MIÉRT ezeket a termékeket ajánlod (1 mondat)\n\nLegyél barátságos, használj tegezést. Magyarul válaszolj!`;\n\n      const result = await generateText(prompt, { temperature: 0.8, maxTokens: 250 });\n\n      let finalStyleDNA;\n      if (result.success && result.text) {\n        finalStyleDNA = result.text;\n      } else {\n        finalStyleDNA = getLocalStyleDNA(allAnswers);\n      }\n      \n      setStyleDNA(finalStyleDNA);\n      saveStyleDNA(allAnswers, finalStyleDNA);\n\n      if (onRecommendations && matchedProducts.length > 0) {\n        onRecommendations(matchedProducts);\n      }\n\n    } catch (error) {\n      console.error('Quiz hiba:', error);\n      const fallbackProducts = findMatchingProductsLocal(allAnswers);\n      setRecommendations(fallbackProducts);\n      const fallbackDNA = getLocalStyleDNA(allAnswers);\n      setStyleDNA(fallbackDNA);\n      saveStyleDNA(allAnswers, fallbackDNA);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  // AI-val támogatott termék keresés\n  const findMatchingProductsWithAI = async (allAnswers, keywords) => {\n    if (!products || products.length === 0) return [];\n    \n    // Először lokálisan szűrünk\n    let filtered = [...products];\n    \n    // Budget szűrés\n    if (allAnswers.budget === 'budget') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) < 100000);\n    } else if (allAnswers.budget === 'mid') {\n      filtered = filtered.filter(p => {\n        const price = p.salePrice || p.price;\n        return price >= 100000 && price <= 300000;\n      });\n    } else if (allAnswers.budget === 'premium') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) > 300000);\n    }\n\n    // Helyiség és kulcsszó alapú szűrés\n    const roomOption = questions.find(q => q.id === 'room')?.options.find(o => o.id === allAnswers.room);\n    const roomKeywords = roomOption?.keywords || [];\n    const allKeywords = [...keywords, ...roomKeywords];\n\n    // Pontozás a termékeknek\n    const scored = filtered.map(p => {\n      const productText = `${p.name || ''} ${p.category || ''} ${p.description || ''}`.toLowerCase();\n      let score = 0;\n      \n      allKeywords.forEach(kw => {\n        if (productText.includes(kw.toLowerCase())) {\n          score += 10;\n        }\n      });\n      \n      // Kategória egyezés extra pont\n      if (roomKeywords.length > 0) {\n        roomKeywords.forEach(kw => {\n          if (productText.includes(kw.toLowerCase())) {\n            score += 5;\n          }\n        });\n      }\n      \n      return { product: p, score };\n    });\n\n    // Top termékek\n    const topProducts = scored\n      .filter(s => s.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 20)\n      .map(s => s.product);\n\n    // Ha van elég találat, random válogatás a változatosságért\n    if (topProducts.length > 12) {\n      return topProducts.sort(() => Math.random() - 0.5).slice(0, 12);\n    }\n\n    // Ha kevés a pontos találat, töltsük fel releváns termékekkel\n    if (topProducts.length < 6) {\n      const additionalProducts = filtered\n        .filter(p => !topProducts.some(tp => tp.id === p.id))\n        .sort(() => Math.random() - 0.5)\n        .slice(0, 12 - topProducts.length);\n      \n      return [...topProducts, ...additionalProducts];\n    }\n\n    return topProducts;\n  };\n\n  // Lokális fallback keresés\n  const findMatchingProductsLocal = (allAnswers) => {\n    if (!products || products.length === 0) return [];\n    \n    let filtered = [...products];\n    \n    if (allAnswers.budget === 'budget') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) < 100000);\n    } else if (allAnswers.budget === 'mid') {\n      filtered = filtered.filter(p => {\n        const price = p.salePrice || p.price;\n        return price >= 100000 && price <= 300000;\n      });\n    } else if (allAnswers.budget === 'premium') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) > 300000);\n    }\n\n    const roomKeywords = {\n      living: ['kanapé', 'fotel', 'dohányzó', 'tv', 'nappali', 'ülőgarnitúra'],\n      bedroom: ['ágy', 'matrac', 'éjjeli', 'hálószoba', 'gardrób', 'komód'],\n      dining: ['étkező', 'asztal', 'szék', 'tálaló'],\n      office: ['íróasztal', 'iroda', 'forgószék', 'polc']\n    };\n\n    if (allAnswers.room && allAnswers.room !== 'all') {\n      const keywords = roomKeywords[allAnswers.room] || [];\n      if (keywords.length > 0) {\n        const roomFiltered = filtered.filter(p => \n          keywords.some(kw => \n            (p.name || '').toLowerCase().includes(kw) || \n            (p.category || '').toLowerCase().includes(kw)\n          )\n        );\n        if (roomFiltered.length > 0) {\n          filtered = roomFiltered;\n        }\n      }\n    }\n\n    return filtered.sort(() => Math.random() - 0.5).slice(0, 12);\n  };\n\n  const getLocalStyleDNA = (allAnswers) => {\n    const styleMap = {\n      modern: 'Modern, letisztult ízlésed van',\n      scandinavian: 'A skandináv egyszerűséget kedveled',\n      industrial: 'Az ipari, loft stílus híve vagy',\n      vintage: 'A vintage báj rajongója vagy',\n      bohemian: 'Egyedi, bohém stílusod van'\n    };\n\n    const priorityMap = {\n      comfort: 'a kényelmet',\n      design: 'az esztétikát',\n      durability: 'a minőséget',\n      versatility: 'a praktikumot',\n      eco: 'a környezettudatosságot'\n    };\n\n    return `${styleMap[allAnswers.space] || 'Egyedi ízlésed van'}, és ${priorityMap[allAnswers.priority] || 'a minőséget'} helyezed előtérbe. Az ajánlott termékek tökéletesen illenek a stílusodhoz!`;\n  };\n\n  const formatPrice = (price) => (price || 0).toLocaleString('hu-HU') + ' Ft';\n\n  const QuestionIcon = currentQuestion?.icon || Home;\n\n  return (\n    <div \n      className=\"fixed inset-0 lg:top-[60px] z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-primary-500 to-secondary-700 p-5 relative\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n          \n          <div className=\"flex items-center gap-3 mb-3\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n              <Sparkles className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">Style DNA Quiz</h2>\n              <p className=\"text-white/80 text-sm\">\n                {productStats ? `${productStats.total.toLocaleString()} termékből válogatunk` : 'Fedezd fel a stílusodat!'}\n              </p>\n            </div>\n          </div>\n          \n          {/* Progress */}\n          {!styleDNA && !isAnalyzing && (\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-white/80 mb-1.5\">\n                <span>Kérdés {step + 1}/{questions.length}</span>\n                <span>{Math.round(progress)}%</span>\n              </div>\n              <div className=\"h-2 bg-white/20 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-white rounded-full transition-all duration-300\"\n                  style={{ width: `${progress}%` }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"p-5\">\n          {isAnalyzing ? (\n            <div className=\"py-12 text-center\">\n              <Loader2 className=\"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4\" />\n              <h3 className=\"text-lg font-bold text-gray-900 mb-2\">AI elemzés folyamatban...</h3>\n              <p className=\"text-gray-500 text-sm\">\n                {productStats?.total.toLocaleString()} termékből keressük a neked valókat\n              </p>\n            </div>\n          ) : styleDNA ? (\n            <div className=\"space-y-5\">\n              {/* Result */}\n              <div className=\"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-xl p-5 border border-primary-100\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  <h3 className=\"text-lg font-bold text-gray-900\">A Te Style DNA-d</h3>\n                </div>\n                <p className=\"text-gray-700 leading-relaxed whitespace-pre-wrap\">{styleDNA}</p>\n              </div>\n\n              {/* Recommendations */}\n              {recommendations.length > 0 && (\n                <div>\n                  <h4 className=\"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2\">\n                    <Star className=\"w-4 h-4 text-amber-500\" />\n                    Személyre szabott ajánlatok ({recommendations.length})\n                  </h4>\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    {recommendations.slice(0, 6).map((product) => (\n                      <div key={product.id} className=\"bg-gray-50 rounded-lg p-2 text-center hover:bg-primary-50 transition-colors cursor-pointer\">\n                        <img\n                          src={product.images?.[0] || product.image || '/placeholder.png'}\n                          alt={product.name}\n                          className=\"w-full aspect-square object-contain rounded bg-white mb-1\"\n                          onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/><text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" fill=\"%239ca3af\" font-size=\"12\">Kép</text></svg>'; }}\n                        />\n                        <p className=\"text-[10px] text-gray-600 truncate\">{product.name}</p>\n                        <p className=\"text-xs font-bold text-primary-500\">{formatPrice(product.salePrice || product.price)}</p>\n                      </div>\n                    ))}\n                  </div>\n                  {recommendations.length > 6 && (\n                    <p className=\"text-center text-xs text-gray-500 mt-2\">\n                      + {recommendations.length - 6} további ajánlat\n                    </p>\n                  )}\n                </div>\n              )}\n\n              <button\n                onClick={onClose}\n                className=\"w-full bg-gradient-to-r from-primary-500 to-secondary-700 text-white py-3.5 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2\"\n              >\n                <ShoppingBag className=\"w-5 h-5\" />\n                Termékek megtekintése\n              </button>\n            </div>\n          ) : (\n            <div>\n              {/* Question */}\n              <div className=\"flex items-center gap-3 mb-5\">\n                <div className=\"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center shrink-0\">\n                  <QuestionIcon className=\"w-5 h-5 text-primary-500\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-gray-900\">{currentQuestion.question}</h3>\n              </div>\n\n              {/* Options */}\n              <div className=\"space-y-2\">\n                {currentQuestion.options.map((option) => {\n                  const OptionIcon = option.icon;\n                  const isSelected = answers[currentQuestion.id] === option.id;\n                  \n                  return (\n                    <button\n                      key={option.id}\n                      onClick={() => handleAnswer(option.id)}\n                      className={`\n                        w-full p-3.5 rounded-xl border-2 text-left transition-all\n                        flex items-center gap-3\n                        ${isSelected \n                          ? 'border-primary-500 bg-primary-50' \n                          : 'border-gray-200 hover:border-primary-300 hover:bg-gray-50'\n                        }\n                      `}\n                    >\n                      <div className={`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${option.color}`}>\n                        <OptionIcon className=\"w-5 h-5\" />\n                      </div>\n                      <span className=\"text-sm font-medium text-gray-800 flex-1\">{option.label}</span>\n                      {isSelected && <ArrowRight className=\"w-5 h-5 text-primary-500\" />}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AIStyleQuiz;\n"],"names":["AIStyleQuiz","products","onRecommendations","onClose","step","setStep","useState","answers","setAnswers","isAnalyzing","setIsAnalyzing","styleDNA","setStyleDNA","recommendations","setRecommendations","aiExplanation","setAiExplanation","productStats","useMemo","categories","priceRanges","p","cat","price","topCategories","a","b","name","count","questions","Home","Building2","TreePine","Factory","Clock","Palette","CircleDot","Leaf","Zap","Circle","Sparkles","DollarSign","Gem","Crown","Target","Sofa","Paintbrush","Shield","RefreshCw","TreeDeciduous","Tv","BedDouble","UtensilsCrossed","Briefcase","currentQuestion","progress","handleAnswer","optionId","newAnswers","analyzeStyle","allAnswers","selectedKeywords","q","answer","option","o","matchedProducts","findMatchingProductsWithAI","styleLabels","colorLabels","roomLabels","budgetLabels","prompt","result","generateText","finalStyleDNA","getLocalStyleDNA","saveStyleDNA","error","fallbackProducts","findMatchingProductsLocal","fallbackDNA","keywords","filtered","roomOption","_a","roomKeywords","allKeywords","topProducts","productText","score","kw","s","additionalProducts","tp","roomFiltered","styleMap","priorityMap","formatPrice","QuestionIcon","jsx","jsxs","X","Loader2","CheckCircle","Star","product","e","ShoppingBag","OptionIcon","isSelected","ArrowRight"],"mappings":"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"}