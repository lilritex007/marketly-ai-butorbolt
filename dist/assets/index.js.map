{"version":3,"file":"index.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/Icon.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/armchair.js","../../node_modules/lucide-react/dist/esm/icons/arrow-left-right.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/arrow-up.js","../../node_modules/lucide-react/dist/esm/icons/award.js","../../node_modules/lucide-react/dist/esm/icons/baby.js","../../node_modules/lucide-react/dist/esm/icons/bath.js","../../node_modules/lucide-react/dist/esm/icons/bed-double.js","../../node_modules/lucide-react/dist/esm/icons/bell-ring.js","../../node_modules/lucide-react/dist/esm/icons/bell.js","../../node_modules/lucide-react/dist/esm/icons/book-open.js","../../node_modules/lucide-react/dist/esm/icons/bot.js","../../node_modules/lucide-react/dist/esm/icons/box.js","../../node_modules/lucide-react/dist/esm/icons/briefcase.js","../../node_modules/lucide-react/dist/esm/icons/building-2.js","../../node_modules/lucide-react/dist/esm/icons/camera.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/circle-check.js","../../node_modules/lucide-react/dist/esm/icons/circle-dot.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/crown.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../node_modules/lucide-react/dist/esm/icons/eye.js","../../node_modules/lucide-react/dist/esm/icons/facebook.js","../../node_modules/lucide-react/dist/esm/icons/factory.js","../../node_modules/lucide-react/dist/esm/icons/filter.js","../../node_modules/lucide-react/dist/esm/icons/flame.js","../../node_modules/lucide-react/dist/esm/icons/flower-2.js","../../node_modules/lucide-react/dist/esm/icons/gem.js","../../node_modules/lucide-react/dist/esm/icons/gift.js","../../node_modules/lucide-react/dist/esm/icons/git-compare.js","../../node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../../node_modules/lucide-react/dist/esm/icons/heart.js","../../node_modules/lucide-react/dist/esm/icons/house.js","../../node_modules/lucide-react/dist/esm/icons/info.js","../../node_modules/lucide-react/dist/esm/icons/instagram.js","../../node_modules/lucide-react/dist/esm/icons/lamp-desk.js","../../node_modules/lucide-react/dist/esm/icons/lamp.js","../../node_modules/lucide-react/dist/esm/icons/layout-grid.js","../../node_modules/lucide-react/dist/esm/icons/leaf.js","../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/map-pin.js","../../node_modules/lucide-react/dist/esm/icons/maximize-2.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/message-circle.js","../../node_modules/lucide-react/dist/esm/icons/moon.js","../../node_modules/lucide-react/dist/esm/icons/move-3d.js","../../node_modules/lucide-react/dist/esm/icons/move.js","../../node_modules/lucide-react/dist/esm/icons/package.js","../../node_modules/lucide-react/dist/esm/icons/paintbrush.js","../../node_modules/lucide-react/dist/esm/icons/palette.js","../../node_modules/lucide-react/dist/esm/icons/percent.js","../../node_modules/lucide-react/dist/esm/icons/phone.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/rows-3.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/send.js","../../node_modules/lucide-react/dist/esm/icons/server.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../node_modules/lucide-react/dist/esm/icons/shield-check.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/shirt.js","../../node_modules/lucide-react/dist/esm/icons/shopping-bag.js","../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js","../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../node_modules/lucide-react/dist/esm/icons/smartphone.js","../../node_modules/lucide-react/dist/esm/icons/sofa.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/star.js","../../node_modules/lucide-react/dist/esm/icons/sun.js","../../node_modules/lucide-react/dist/esm/icons/table.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/target.js","../../node_modules/lucide-react/dist/esm/icons/thumbs-down.js","../../node_modules/lucide-react/dist/esm/icons/thumbs-up.js","../../node_modules/lucide-react/dist/esm/icons/timer.js","../../node_modules/lucide-react/dist/esm/icons/tree-deciduous.js","../../node_modules/lucide-react/dist/esm/icons/tree-pine.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../node_modules/lucide-react/dist/esm/icons/truck.js","../../node_modules/lucide-react/dist/esm/icons/tv.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/utensils-crossed.js","../../node_modules/lucide-react/dist/esm/icons/warehouse.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../node_modules/lucide-react/dist/esm/icons/zoom-in.js","../../src/services/unasApi.js","../../src/services/userPreferencesService.js","../../src/components/ui/Skeleton.jsx","../../src/components/ui/Toast.jsx","../../src/components/ui/EmptyState.jsx","../../src/components/ui/Badge.jsx","../../src/components/ui/Icons.jsx","../../src/components/ai/AIShowcase.jsx","../../src/services/geminiService.js","../../src/components/ai/AIChatAssistant.jsx","../../src/components/ai/AIRoomDesigner.jsx","../../src/components/ai/AIStyleQuiz.jsx","../../src/components/debug/AIDebugPanel.jsx","../../src/components/category/CategorySwipe.jsx","../../src/components/product/EnhancedProductCard.jsx","../../src/components/category/CategoryPage.jsx","../../src/components/ux/ScrollProgress.jsx","../../src/components/ux/BackToTop.jsx","../../src/utils/motion-shim.jsx","../../src/components/ux/LiveSocialProof.jsx","../../src/components/landing/ModernHero.jsx","../../src/utils/helpers.js","../../src/components/landing/ShowcaseSections.jsx","../../src/hooks/index.js","../../src/components/product/SmartSearch.jsx","../../src/components/product/SimilarProducts.jsx","../../src/components/product/RecentlyViewed.jsx","../../src/components/product/ProductComparison.jsx","../../src/components/product/AdvancedFilters.jsx","../../src/components/product/QuickAddToCart.jsx","../../src/components/product/ProductQuickPeek.jsx","../../src/components/marketing/SmartNewsletterPopup.jsx","../../src/components/marketing/ExitIntentPopup.jsx","../../src/components/ar/ARProductPreview.jsx","../../src/components/product/CompleteTheLook.jsx","../../src/components/home/PersonalizedSection.jsx","../../src/components/product/ImageGallery.jsx","../../src/components/product/StickyAddToCart.jsx","../../src/components/product/PriceAlert.jsx","../../src/components/ui/Animations.jsx","../../src/components/mobile/BottomSheet.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Armchair = createLucideIcon(\"Armchair\", [\n  [\"path\", { d: \"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3\", key: \"irtipd\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z\",\n      key: \"1qyhux\"\n    }\n  ],\n  [\"path\", { d: \"M5 18v2\", key: \"ppbyun\" }],\n  [\"path\", { d: \"M19 18v2\", key: \"gy7782\" }]\n]);\n\nexport { Armchair as default };\n//# sourceMappingURL=armchair.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeftRight = createLucideIcon(\"ArrowLeftRight\", [\n  [\"path\", { d: \"M8 3 4 7l4 4\", key: \"9rb6wj\" }],\n  [\"path\", { d: \"M4 7h16\", key: \"6tx8e3\" }],\n  [\"path\", { d: \"m16 21 4-4-4-4\", key: \"siv7j2\" }],\n  [\"path\", { d: \"M20 17H4\", key: \"h6l3hr\" }]\n]);\n\nexport { ArrowLeftRight as default };\n//# sourceMappingURL=arrow-left-right.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowUp = createLucideIcon(\"ArrowUp\", [\n  [\"path\", { d: \"m5 12 7-7 7 7\", key: \"hav0vg\" }],\n  [\"path\", { d: \"M12 19V5\", key: \"x0mq9r\" }]\n]);\n\nexport { ArrowUp as default };\n//# sourceMappingURL=arrow-up.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Award = createLucideIcon(\"Award\", [\n  [\n    \"path\",\n    {\n      d: \"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",\n      key: \"1yiouv\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }]\n]);\n\nexport { Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Baby = createLucideIcon(\"Baby\", [\n  [\"path\", { d: \"M9 12h.01\", key: \"157uk2\" }],\n  [\"path\", { d: \"M15 12h.01\", key: \"1k8ypt\" }],\n  [\"path\", { d: \"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5\", key: \"1u7htd\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1\",\n      key: \"5yv0yz\"\n    }\n  ]\n]);\n\nexport { Baby as default };\n//# sourceMappingURL=baby.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bath = createLucideIcon(\"Bath\", [\n  [\n    \"path\",\n    {\n      d: \"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5\",\n      key: \"1r8yf5\"\n    }\n  ],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"5\", y2: \"7\", key: \"h5g8z4\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"12\", y2: \"12\", key: \"1dnqot\" }],\n  [\"line\", { x1: \"7\", x2: \"7\", y1: \"19\", y2: \"21\", key: \"16jp00\" }],\n  [\"line\", { x1: \"17\", x2: \"17\", y1: \"19\", y2: \"21\", key: \"1pxrnk\" }]\n]);\n\nexport { Bath as default };\n//# sourceMappingURL=bath.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BedDouble = createLucideIcon(\"BedDouble\", [\n  [\"path\", { d: \"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8\", key: \"1k78r4\" }],\n  [\"path\", { d: \"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4\", key: \"fb3tl2\" }],\n  [\"path\", { d: \"M12 4v6\", key: \"1dcgq2\" }],\n  [\"path\", { d: \"M2 18h20\", key: \"ajqnye\" }]\n]);\n\nexport { BedDouble as default };\n//# sourceMappingURL=bed-double.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BellRing = createLucideIcon(\"BellRing\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }],\n  [\"path\", { d: \"M4 2C2.8 3.7 2 5.7 2 8\", key: \"tap9e0\" }],\n  [\"path\", { d: \"M22 8c0-2.3-.8-4.3-2-6\", key: \"5bb3ad\" }]\n]);\n\nexport { BellRing as default };\n//# sourceMappingURL=bell-ring.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BookOpen = createLucideIcon(\"BookOpen\", [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n]);\n\nexport { BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bot = createLucideIcon(\"Bot\", [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n]);\n\nexport { Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Box = createLucideIcon(\"Box\", [\n  [\n    \"path\",\n    {\n      d: \"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z\",\n      key: \"hh9hay\"\n    }\n  ],\n  [\"path\", { d: \"m3.3 7 8.7 5 8.7-5\", key: \"g66t2b\" }],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }]\n]);\n\nexport { Box as default };\n//# sourceMappingURL=box.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Briefcase = createLucideIcon(\"Briefcase\", [\n  [\"path\", { d: \"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\", key: \"jecpp\" }],\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"6\", rx: \"2\", key: \"i6l2r4\" }]\n]);\n\nexport { Briefcase as default };\n//# sourceMappingURL=briefcase.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Building2 = createLucideIcon(\"Building2\", [\n  [\"path\", { d: \"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z\", key: \"1b4qmf\" }],\n  [\"path\", { d: \"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2\", key: \"i71pzd\" }],\n  [\"path\", { d: \"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2\", key: \"10jefs\" }],\n  [\"path\", { d: \"M10 6h4\", key: \"1itunk\" }],\n  [\"path\", { d: \"M10 10h4\", key: \"tcdvrf\" }],\n  [\"path\", { d: \"M10 14h4\", key: \"kelpxr\" }],\n  [\"path\", { d: \"M10 18h4\", key: \"1ulq68\" }]\n]);\n\nexport { Building2 as default };\n//# sourceMappingURL=building-2.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Camera = createLucideIcon(\"Camera\", [\n  [\n    \"path\",\n    {\n      d: \"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",\n      key: \"1tc9qg\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"13\", r: \"3\", key: \"1vg3eu\" }]\n]);\n\nexport { Camera as default };\n//# sourceMappingURL=camera.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\nexport { ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"ChevronLeft\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronUp = createLucideIcon(\"ChevronUp\", [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]]);\n\nexport { ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"CircleAlert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheck = createLucideIcon(\"CircleCheck\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CircleCheck as default };\n//# sourceMappingURL=circle-check.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleDot = createLucideIcon(\"CircleDot\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }]\n]);\n\nexport { CircleDot as default };\n//# sourceMappingURL=circle-dot.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"CircleX\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Circle = createLucideIcon(\"Circle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Crown = createLucideIcon(\"Crown\", [\n  [\n    \"path\",\n    {\n      d: \"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z\",\n      key: \"1vdc57\"\n    }\n  ],\n  [\"path\", { d: \"M5 21h14\", key: \"11awu3\" }]\n]);\n\nexport { Crown as default };\n//# sourceMappingURL=crown.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Facebook = createLucideIcon(\"Facebook\", [\n  [\n    \"path\",\n    { d: \"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z\", key: \"1jg4f8\" }\n  ]\n]);\n\nexport { Facebook as default };\n//# sourceMappingURL=facebook.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Factory = createLucideIcon(\"Factory\", [\n  [\n    \"path\",\n    {\n      d: \"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z\",\n      key: \"159hny\"\n    }\n  ],\n  [\"path\", { d: \"M17 18h1\", key: \"uldtlt\" }],\n  [\"path\", { d: \"M12 18h1\", key: \"s9uhes\" }],\n  [\"path\", { d: \"M7 18h1\", key: \"1neino\" }]\n]);\n\nexport { Factory as default };\n//# sourceMappingURL=factory.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flame = createLucideIcon(\"Flame\", [\n  [\n    \"path\",\n    {\n      d: \"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\",\n      key: \"96xj49\"\n    }\n  ]\n]);\n\nexport { Flame as default };\n//# sourceMappingURL=flame.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flower2 = createLucideIcon(\"Flower2\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1\",\n      key: \"3pnvol\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"2\", key: \"1822b1\" }],\n  [\"path\", { d: \"M12 10v12\", key: \"6ubwww\" }],\n  [\"path\", { d: \"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z\", key: \"9hd38g\" }],\n  [\"path\", { d: \"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z\", key: \"ufn41s\" }]\n]);\n\nexport { Flower2 as default };\n//# sourceMappingURL=flower-2.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gem = createLucideIcon(\"Gem\", [\n  [\"path\", { d: \"M6 3h12l4 6-10 13L2 9Z\", key: \"1pcd5k\" }],\n  [\"path\", { d: \"M11 3 8 9l4 13 4-13-3-6\", key: \"1fcu3u\" }],\n  [\"path\", { d: \"M2 9h20\", key: \"16fsjt\" }]\n]);\n\nexport { Gem as default };\n//# sourceMappingURL=gem.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gift = createLucideIcon(\"Gift\", [\n  [\"rect\", { x: \"3\", y: \"8\", width: \"18\", height: \"4\", rx: \"1\", key: \"bkv52\" }],\n  [\"path\", { d: \"M12 8v13\", key: \"1c76mn\" }],\n  [\"path\", { d: \"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7\", key: \"6wjy6b\" }],\n  [\n    \"path\",\n    {\n      d: \"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5\",\n      key: \"1ihvrl\"\n    }\n  ]\n]);\n\nexport { Gift as default };\n//# sourceMappingURL=gift.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst GitCompare = createLucideIcon(\"GitCompare\", [\n  [\"circle\", { cx: \"18\", cy: \"18\", r: \"3\", key: \"1xkwt0\" }],\n  [\"circle\", { cx: \"6\", cy: \"6\", r: \"3\", key: \"1lh9wr\" }],\n  [\"path\", { d: \"M13 6h3a2 2 0 0 1 2 2v7\", key: \"1yeb86\" }],\n  [\"path\", { d: \"M11 18H8a2 2 0 0 1-2-2V9\", key: \"19pyzm\" }]\n]);\n\nexport { GitCompare as default };\n//# sourceMappingURL=git-compare.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Grid3x3 = createLucideIcon(\"Grid3x3\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n]);\n\nexport { Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Heart = createLucideIcon(\"Heart\", [\n  [\n    \"path\",\n    {\n      d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",\n      key: \"c3ymky\"\n    }\n  ]\n]);\n\nexport { Heart as default };\n//# sourceMappingURL=heart.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst House = createLucideIcon(\"House\", [\n  [\"path\", { d: \"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\", key: \"5wwlr5\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\n      key: \"1d0kgt\"\n    }\n  ]\n]);\n\nexport { House as default };\n//# sourceMappingURL=house.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Instagram = createLucideIcon(\"Instagram\", [\n  [\"rect\", { width: \"20\", height: \"20\", x: \"2\", y: \"2\", rx: \"5\", ry: \"5\", key: \"2e1cvw\" }],\n  [\"path\", { d: \"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z\", key: \"9exkf1\" }],\n  [\"line\", { x1: \"17.5\", x2: \"17.51\", y1: \"6.5\", y2: \"6.5\", key: \"r4j83e\" }]\n]);\n\nexport { Instagram as default };\n//# sourceMappingURL=instagram.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LampDesk = createLucideIcon(\"LampDesk\", [\n  [\"path\", { d: \"m14 5-3 3 2 7 8-8-7-2Z\", key: \"1b0msb\" }],\n  [\"path\", { d: \"m14 5-3 3-3-3 3-3 3 3Z\", key: \"1uemms\" }],\n  [\"path\", { d: \"M9.5 6.5 4 12l3 6\", key: \"1bx08v\" }],\n  [\"path\", { d: \"M3 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H3Z\", key: \"wap775\" }]\n]);\n\nexport { LampDesk as default };\n//# sourceMappingURL=lamp-desk.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lamp = createLucideIcon(\"Lamp\", [\n  [\"path\", { d: \"M8 2h8l4 10H4L8 2Z\", key: \"9dma5w\" }],\n  [\"path\", { d: \"M12 12v6\", key: \"3ahymv\" }],\n  [\"path\", { d: \"M8 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H8Z\", key: \"mwf4oh\" }]\n]);\n\nexport { Lamp as default };\n//# sourceMappingURL=lamp.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutGrid = createLucideIcon(\"LayoutGrid\", [\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"3\", rx: \"1\", key: \"1g98yp\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"3\", rx: \"1\", key: \"6d4xhi\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"14\", rx: \"1\", key: \"nxv5o0\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"14\", rx: \"1\", key: \"1bb6yr\" }]\n]);\n\nexport { LayoutGrid as default };\n//# sourceMappingURL=layout-grid.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Leaf = createLucideIcon(\"Leaf\", [\n  [\n    \"path\",\n    {\n      d: \"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",\n      key: \"nnexq3\"\n    }\n  ],\n  [\"path\", { d: \"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\", key: \"mt58a7\" }]\n]);\n\nexport { Leaf as default };\n//# sourceMappingURL=leaf.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lightbulb = createLucideIcon(\"Lightbulb\", [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n]);\n\nexport { Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"Mail\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\n    \"path\",\n    {\n      d: \"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",\n      key: \"1r0f0z\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Maximize2 = createLucideIcon(\"Maximize2\", [\n  [\"polyline\", { points: \"15 3 21 3 21 9\", key: \"mznyad\" }],\n  [\"polyline\", { points: \"9 21 3 21 3 15\", key: \"1avn1i\" }],\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"3\", y2: \"10\", key: \"ota7mn\" }],\n  [\"line\", { x1: \"3\", x2: \"10\", y1: \"21\", y2: \"14\", key: \"1atl0r\" }]\n]);\n\nexport { Maximize2 as default };\n//# sourceMappingURL=maximize-2.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageCircle = createLucideIcon(\"MessageCircle\", [\n  [\"path\", { d: \"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\", key: \"vv11sd\" }]\n]);\n\nexport { MessageCircle as default };\n//# sourceMappingURL=message-circle.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Moon = createLucideIcon(\"Moon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Move3d = createLucideIcon(\"Move3d\", [\n  [\"path\", { d: \"M5 3v16h16\", key: \"1mqmf9\" }],\n  [\"path\", { d: \"m5 19 6-6\", key: \"jh6hbb\" }],\n  [\"path\", { d: \"m2 6 3-3 3 3\", key: \"tkyvxa\" }],\n  [\"path\", { d: \"m18 16 3 3-3 3\", key: \"1d4glt\" }]\n]);\n\nexport { Move3d as default };\n//# sourceMappingURL=move-3d.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Move = createLucideIcon(\"Move\", [\n  [\"path\", { d: \"M12 2v20\", key: \"t6zp3m\" }],\n  [\"path\", { d: \"m15 19-3 3-3-3\", key: \"11eu04\" }],\n  [\"path\", { d: \"m19 9 3 3-3 3\", key: \"1mg7y2\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }],\n  [\"path\", { d: \"m5 9-3 3 3 3\", key: \"j64kie\" }],\n  [\"path\", { d: \"m9 5 3-3 3 3\", key: \"l8vdw6\" }]\n]);\n\nexport { Move as default };\n//# sourceMappingURL=move.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Package = createLucideIcon(\"Package\", [\n  [\n    \"path\",\n    {\n      d: \"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z\",\n      key: \"1a0edw\"\n    }\n  ],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }],\n  [\"path\", { d: \"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7\", key: \"yx3hmr\" }],\n  [\"path\", { d: \"m7.5 4.27 9 5.15\", key: \"1c824w\" }]\n]);\n\nexport { Package as default };\n//# sourceMappingURL=package.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Paintbrush = createLucideIcon(\"Paintbrush\", [\n  [\"path\", { d: \"m14.622 17.897-10.68-2.913\", key: \"vj2p1u\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z\",\n      key: \"18tc5c\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15\",\n      key: \"ytzfxy\"\n    }\n  ]\n]);\n\nexport { Paintbrush as default };\n//# sourceMappingURL=paintbrush.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Palette = createLucideIcon(\"Palette\", [\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\n    \"path\",\n    {\n      d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\",\n      key: \"12rzf8\"\n    }\n  ]\n]);\n\nexport { Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Percent = createLucideIcon(\"Percent\", [\n  [\"line\", { x1: \"19\", x2: \"5\", y1: \"5\", y2: \"19\", key: \"1x9vlm\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"6.5\", r: \"2.5\", key: \"4mh3h7\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"17.5\", r: \"2.5\", key: \"1mdrzq\" }]\n]);\n\nexport { Percent as default };\n//# sourceMappingURL=percent.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Phone = createLucideIcon(\"Phone\", [\n  [\n    \"path\",\n    {\n      d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",\n      key: \"foiqr5\"\n    }\n  ]\n]);\n\nexport { Phone as default };\n//# sourceMappingURL=phone.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Rows3 = createLucideIcon(\"Rows3\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M21 9H3\", key: \"1338ky\" }],\n  [\"path\", { d: \"M21 15H3\", key: \"9uk58r\" }]\n]);\n\nexport { Rows3 as default };\n//# sourceMappingURL=rows-3.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Server = createLucideIcon(\"Server\", [\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"2\", rx: \"2\", ry: \"2\", key: \"ngkwjq\" }],\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"14\", rx: \"2\", ry: \"2\", key: \"iecqi9\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"6\", y2: \"6\", key: \"16zg32\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"18\", y2: \"18\", key: \"nzw8ys\" }]\n]);\n\nexport { Server as default };\n//# sourceMappingURL=server.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Share2 = createLucideIcon(\"Share2\", [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n]);\n\nexport { Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShieldCheck = createLucideIcon(\"ShieldCheck\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shirt = createLucideIcon(\"Shirt\", [\n  [\n    \"path\",\n    {\n      d: \"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z\",\n      key: \"1wgbhj\"\n    }\n  ]\n]);\n\nexport { Shirt as default };\n//# sourceMappingURL=shirt.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShoppingBag = createLucideIcon(\"ShoppingBag\", [\n  [\"path\", { d: \"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z\", key: \"hou9p0\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M16 10a4 4 0 0 1-8 0\", key: \"1ltviw\" }]\n]);\n\nexport { ShoppingBag as default };\n//# sourceMappingURL=shopping-bag.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ShoppingCart = createLucideIcon(\"ShoppingCart\", [\n  [\"circle\", { cx: \"8\", cy: \"21\", r: \"1\", key: \"jimo8o\" }],\n  [\"circle\", { cx: \"19\", cy: \"21\", r: \"1\", key: \"13723u\" }],\n  [\n    \"path\",\n    {\n      d: \"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12\",\n      key: \"9zh506\"\n    }\n  ]\n]);\n\nexport { ShoppingCart as default };\n//# sourceMappingURL=shopping-cart.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SlidersHorizontal = createLucideIcon(\"SlidersHorizontal\", [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n]);\n\nexport { SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Smartphone = createLucideIcon(\"Smartphone\", [\n  [\"rect\", { width: \"14\", height: \"20\", x: \"5\", y: \"2\", rx: \"2\", ry: \"2\", key: \"1yt0o3\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n]);\n\nexport { Smartphone as default };\n//# sourceMappingURL=smartphone.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sofa = createLucideIcon(\"Sofa\", [\n  [\"path\", { d: \"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3\", key: \"1dgpiv\" }],\n  [\n    \"path\",\n    {\n      d: \"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z\",\n      key: \"xacw8m\"\n    }\n  ],\n  [\"path\", { d: \"M4 18v2\", key: \"jwo5n2\" }],\n  [\"path\", { d: \"M20 18v2\", key: \"1ar1qi\" }],\n  [\"path\", { d: \"M12 4v9\", key: \"oqhhn3\" }]\n]);\n\nexport { Sofa as default };\n//# sourceMappingURL=sofa.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ],\n  [\"path\", { d: \"M20 3v4\", key: \"1olli1\" }],\n  [\"path\", { d: \"M22 5h-4\", key: \"1gvqau\" }],\n  [\"path\", { d: \"M4 17v2\", key: \"vumght\" }],\n  [\"path\", { d: \"M5 18H3\", key: \"zchphs\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Star = createLucideIcon(\"Star\", [\n  [\n    \"path\",\n    {\n      d: \"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z\",\n      key: \"r04s7s\"\n    }\n  ]\n]);\n\nexport { Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sun = createLucideIcon(\"Sun\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Table = createLucideIcon(\"Table\", [\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }]\n]);\n\nexport { Table as default };\n//# sourceMappingURL=table.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tag = createLucideIcon(\"Tag\", [\n  [\n    \"path\",\n    {\n      d: \"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"vktsd0\"\n    }\n  ],\n  [\"circle\", { cx: \"7.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"kqv944\" }]\n]);\n\nexport { Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ThumbsDown = createLucideIcon(\"ThumbsDown\", [\n  [\"path\", { d: \"M17 14V2\", key: \"8ymqnk\" }],\n  [\n    \"path\",\n    {\n      d: \"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z\",\n      key: \"m61m77\"\n    }\n  ]\n]);\n\nexport { ThumbsDown as default };\n//# sourceMappingURL=thumbs-down.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ThumbsUp = createLucideIcon(\"ThumbsUp\", [\n  [\"path\", { d: \"M7 10v12\", key: \"1qc93n\" }],\n  [\n    \"path\",\n    {\n      d: \"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z\",\n      key: \"emmmcr\"\n    }\n  ]\n]);\n\nexport { ThumbsUp as default };\n//# sourceMappingURL=thumbs-up.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Timer = createLucideIcon(\"Timer\", [\n  [\"line\", { x1: \"10\", x2: \"14\", y1: \"2\", y2: \"2\", key: \"14vaq8\" }],\n  [\"line\", { x1: \"12\", x2: \"15\", y1: \"14\", y2: \"11\", key: \"17fdiu\" }],\n  [\"circle\", { cx: \"12\", cy: \"14\", r: \"8\", key: \"1e1u0o\" }]\n]);\n\nexport { Timer as default };\n//# sourceMappingURL=timer.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TreeDeciduous = createLucideIcon(\"TreeDeciduous\", [\n  [\n    \"path\",\n    {\n      d: \"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z\",\n      key: \"oadzkq\"\n    }\n  ],\n  [\"path\", { d: \"M12 19v3\", key: \"npa21l\" }]\n]);\n\nexport { TreeDeciduous as default };\n//# sourceMappingURL=tree-deciduous.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TreePine = createLucideIcon(\"TreePine\", [\n  [\n    \"path\",\n    {\n      d: \"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z\",\n      key: \"cpyugq\"\n    }\n  ],\n  [\"path\", { d: \"M12 22v-3\", key: \"kmzjlo\" }]\n]);\n\nexport { TreePine as default };\n//# sourceMappingURL=tree-pine.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"TrendingDown\", [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TriangleAlert = createLucideIcon(\"TriangleAlert\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Truck = createLucideIcon(\"Truck\", [\n  [\"path\", { d: \"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2\", key: \"wrbu53\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14\",\n      key: \"lysw3i\"\n    }\n  ],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }]\n]);\n\nexport { Truck as default };\n//# sourceMappingURL=truck.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tv = createLucideIcon(\"Tv\", [\n  [\"rect\", { width: \"20\", height: \"15\", x: \"2\", y: \"7\", rx: \"2\", ry: \"2\", key: \"10ag99\" }],\n  [\"polyline\", { points: \"17 2 12 7 7 2\", key: \"11pgbg\" }]\n]);\n\nexport { Tv as default };\n//# sourceMappingURL=tv.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst UtensilsCrossed = createLucideIcon(\"UtensilsCrossed\", [\n  [\"path\", { d: \"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8\", key: \"n7qcjb\" }],\n  [\n    \"path\",\n    { d: \"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7\", key: \"d0u48b\" }\n  ],\n  [\"path\", { d: \"m2.1 21.8 6.4-6.3\", key: \"yn04lh\" }],\n  [\"path\", { d: \"m19 5-7 7\", key: \"194lzd\" }]\n]);\n\nexport { UtensilsCrossed as default };\n//# sourceMappingURL=utensils-crossed.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Warehouse = createLucideIcon(\"Warehouse\", [\n  [\n    \"path\",\n    {\n      d: \"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z\",\n      key: \"gksnxg\"\n    }\n  ],\n  [\"path\", { d: \"M6 18h12\", key: \"9pbo8z\" }],\n  [\"path\", { d: \"M6 14h12\", key: \"4cwo0f\" }],\n  [\"rect\", { width: \"12\", height: \"12\", x: \"6\", y: \"10\", key: \"apd30q\" }]\n]);\n\nexport { Warehouse as default };\n//# sourceMappingURL=warehouse.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","/**\n * @license lucide-react v0.456.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ZoomIn = createLucideIcon(\"ZoomIn\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"11\", x2: \"11\", y1: \"8\", y2: \"14\", key: \"1vmskp\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\nexport { ZoomIn as default };\n//# sourceMappingURL=zoom-in.js.map\n","/**\n * UNAS API Service\n * Termkek kizrlag a backend API-bl (DB)  egyetlen igazsgforrs.\n */\n\n// Backend origin (apiBase lehet /api-ra vgzd vagy sima URL)\nconst getApiBase = () => {\n  let base = '';\n  if (typeof window !== 'undefined' && window.MARKETLY_CONFIG?.apiBase) {\n    base = window.MARKETLY_CONFIG.apiBase;\n  } else {\n    base = import.meta.env.VITE_API_URL || 'http://localhost:3002';\n  }\n  base = (base || '').replace(/\\/+$/, '');\n  if (base && !base.endsWith('/api')) base = base + '/api';\n  return base;\n};\n\n/** Backend gykr URL (health, stb.  nem /api alatt van) */\nconst getBackendOrigin = () => {\n  const api = getApiBase();\n  return api ? api.replace(/\\/api\\/?$/, '') : '';\n};\n\n/**\n * Termkek betltse  csak backend API (DB). Nincs static JSON, mindig friss adat.\n * Never throws: hiba esetn res tmb + error, UI ne omoljon ssze.\n */\nexport const fetchUnasProducts = async (filters = {}) => {\n  if (typeof window === 'undefined') return { products: [], total: 0, count: 0, lastSync: null, source: 'api' };\n\n  try {\n    const API_BASE = getApiBase();\n    const params = new URLSearchParams();\n    if (filters.category) params.append('category', filters.category);\n    if (filters.search) params.append('search', filters.search);\n    if (filters.limit) params.append('limit', filters.limit);\n    if (filters.offset) params.append('offset', filters.offset);\n    if (filters.slim) params.append('slim', 'true'); // Slim mode: only essential fields\n    const url = `${API_BASE}/products${params.toString() ? '?' + params.toString() : ''}`;\n\n    const res = await fetch(url, { method: 'GET' });\n    if (!res.ok) {\n      const err = await res.json().catch(() => ({}));\n      return { products: [], total: 0, count: 0, lastSync: null, source: 'api', error: err.message || String(res.status) };\n    }\n    const data = await res.json();\n    const products = (data.products || []).map(p => ({\n      ...p,\n      inStock: p.inStock !== undefined ? p.inStock : Boolean(p.in_stock)\n    }));\n    return {\n      products,\n      total: data.total ?? 0,\n      count: data.count ?? products.length,\n      lastSync: data.lastSync ?? null,\n      source: 'api'\n    };\n  } catch (error) {\n    return { products: [], total: 0, count: 0, lastSync: null, source: 'api', error: error.message };\n  }\n};\n\n/**\n * Fetch categories from backend\n */\nexport const fetchCategories = async () => {\n  try {\n    const API_BASE = getApiBase();\n    const res = await fetch(`${API_BASE}/categories`);\n    if (!res.ok) return ['sszes'];\n    const data = await res.json();\n    // Backend returns category objects, extract just the names\n    const categoryNames = (data.categories || [])\n      .map(cat => typeof cat === 'string' ? cat : cat.name)\n      .filter(Boolean)\n      .sort();\n    return ['sszes', ...categoryNames];\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n    return ['sszes'];\n  }\n};\n\n/**\n * Force refresh products from UNAS (trigger sync)\n */\nexport const refreshUnasProducts = async () => {\n  try {\n    const API_BASE = getApiBase();\n    // API_BASE already includes /api, so we need /admin/sync, not /api/admin/sync\n    const response = await fetch(`${API_BASE}/admin/sync`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return {\n      success: data.success,\n      fetched: data.fetched,\n      added: data.added,\n      updated: data.updated\n    };\n  } catch (error) {\n    console.error('Error refreshing UNAS products:', error);\n    throw new Error(`Failed to refresh products: ${error.message}`);\n  }\n};\n\n/**\n * Get cache information from backend\n */\nexport const getCacheInfo = async () => {\n  try {\n    const API_BASE = getApiBase();\n    // API_BASE already includes /api, so we need /stats, not /api/stats\n    const response = await fetch(`${API_BASE}/stats`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching stats:', error);\n    throw new Error(`Failed to fetch stats: ${error.message}`);\n  }\n};\n\n/**\n * Clear backend cache (trigger manual sync)\n */\nexport const clearCache = async () => {\n  try {\n    const API_BASE = getApiBase();\n    // API_BASE already includes /api, so we need /admin/sync, not /api/admin/sync\n    const response = await fetch(`${API_BASE}/admin/sync`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error triggering sync:', error);\n    throw new Error(`Failed to trigger sync: ${error.message}`);\n  }\n};\n\n/**\n * Backend health (GET /health a gykrn, nem /api alatt)\n */\nexport const checkBackendHealth = async () => {\n  try {\n    const origin = getBackendOrigin();\n    const response = await fetch(`${origin}/health`, { method: 'GET' });\n    if (!response.ok) return { status: 'error', message: `HTTP ${response.status}` };\n    return await response.json();\n  } catch (error) {\n    return { status: 'error', message: error.message };\n  }\n};\n","/**\r\n * User Preferences Service\r\n * Kzponti szolgltats a felhasznli viselkeds s preferencik kvetsre\r\n * localStorage-ban trolja az adatokat\r\n */\r\n\r\nconst STORAGE_KEYS = {\r\n  VIEWED_PRODUCTS: 'mkt_viewed_products',\r\n  LIKED_PRODUCTS: 'mkt_liked_products',\r\n  DISLIKED_PRODUCTS: 'mkt_disliked_products',\r\n  SEARCH_HISTORY: 'mkt_search_history',\r\n  STYLE_DNA: 'mkt_style_dna',\r\n  AI_FEEDBACK: 'mkt_ai_feedback',\r\n  CHAT_CONTEXT: 'mkt_chat_context',\r\n  USER_PREFERENCES: 'mkt_user_preferences',\r\n};\r\n\r\nconst MAX_ITEMS = {\r\n  VIEWED: 50,\r\n  LIKED: 100,\r\n  SEARCHES: 20,\r\n  FEEDBACK: 100,\r\n};\r\n\r\n// ==================== VIEWED PRODUCTS ====================\r\n\r\n/**\r\n * Termk megtekintsnek rgztse\r\n */\r\nexport function trackProductView(product) {\r\n  if (!product?.id) return;\r\n  \r\n  const viewed = getViewedProducts();\r\n  \r\n  // Eltvoltjuk ha mr volt, s az elejre tesszk\r\n  const filtered = viewed.filter(p => p.id !== product.id);\r\n  \r\n  const productData = {\r\n    id: product.id,\r\n    name: product.name,\r\n    price: product.salePrice || product.price,\r\n    category: product.category,\r\n    image: product.images?.[0] || product.image,\r\n    viewedAt: Date.now(),\r\n  };\r\n  \r\n  const updated = [productData, ...filtered].slice(0, MAX_ITEMS.VIEWED);\r\n  \r\n  try {\r\n    localStorage.setItem(STORAGE_KEYS.VIEWED_PRODUCTS, JSON.stringify(updated));\r\n  } catch (e) {\r\n    console.warn('Failed to save viewed products:', e);\r\n  }\r\n  \r\n  // Preferencik frisstse a kategria alapjn\r\n  updateCategoryPreference(product.category);\r\n}\r\n\r\n/**\r\n * Megtekintett termkek lekrdezse\r\n */\r\nexport function getViewedProducts(limit = 20) {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.VIEWED_PRODUCTS);\r\n    const parsed = data ? JSON.parse(data) : [];\r\n    return limit ? parsed.slice(0, limit) : parsed;\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Legutbbi megtekintett termk ID-k\r\n */\r\nexport function getRecentlyViewedIds(limit = 10) {\r\n  return getViewedProducts(limit).map(p => p.id);\r\n}\r\n\r\n// ==================== LIKED/DISLIKED PRODUCTS ====================\r\n\r\n/**\r\n * Termk kedvelse\r\n */\r\nexport function likeProduct(productId) {\r\n  if (!productId) return;\r\n  \r\n  const liked = getLikedProducts();\r\n  if (!liked.includes(productId)) {\r\n    const updated = [productId, ...liked].slice(0, MAX_ITEMS.LIKED);\r\n    localStorage.setItem(STORAGE_KEYS.LIKED_PRODUCTS, JSON.stringify(updated));\r\n  }\r\n  \r\n  // Eltvolts a disliked-bl\r\n  const disliked = getDislikedProducts();\r\n  if (disliked.includes(productId)) {\r\n    localStorage.setItem(\r\n      STORAGE_KEYS.DISLIKED_PRODUCTS, \r\n      JSON.stringify(disliked.filter(id => id !== productId))\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Termk elutastsa\r\n */\r\nexport function dislikeProduct(productId) {\r\n  if (!productId) return;\r\n  \r\n  const disliked = getDislikedProducts();\r\n  if (!disliked.includes(productId)) {\r\n    const updated = [productId, ...disliked].slice(0, MAX_ITEMS.LIKED);\r\n    localStorage.setItem(STORAGE_KEYS.DISLIKED_PRODUCTS, JSON.stringify(updated));\r\n  }\r\n  \r\n  // Eltvolts a liked-bl\r\n  const liked = getLikedProducts();\r\n  if (liked.includes(productId)) {\r\n    localStorage.setItem(\r\n      STORAGE_KEYS.LIKED_PRODUCTS, \r\n      JSON.stringify(liked.filter(id => id !== productId))\r\n    );\r\n  }\r\n}\r\n\r\nexport function getLikedProducts() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.LIKED_PRODUCTS);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function getDislikedProducts() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.DISLIKED_PRODUCTS);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function isProductLiked(productId) {\r\n  return getLikedProducts().includes(productId);\r\n}\r\n\r\n// ==================== SEARCH HISTORY ====================\r\n\r\n/**\r\n * Keress rgztse\r\n */\r\nexport function trackSearch(query) {\r\n  if (!query || query.length < 2) return;\r\n  \r\n  const searches = getSearchHistory();\r\n  const filtered = searches.filter(s => s.query.toLowerCase() !== query.toLowerCase());\r\n  \r\n  const updated = [\r\n    { query, timestamp: Date.now() },\r\n    ...filtered\r\n  ].slice(0, MAX_ITEMS.SEARCHES);\r\n  \r\n  localStorage.setItem(STORAGE_KEYS.SEARCH_HISTORY, JSON.stringify(updated));\r\n}\r\n\r\nexport function getSearchHistory(limit = 10) {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.SEARCH_HISTORY);\r\n    const parsed = data ? JSON.parse(data) : [];\r\n    return limit ? parsed.slice(0, limit) : parsed;\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\n// ==================== STYLE DNA (Quiz Results) ====================\r\n\r\n/**\r\n * Style DNA mentse a quiz eredmnybl\r\n */\r\nexport function saveStyleDNA(quizAnswers, styleDNAText) {\r\n  const data = {\r\n    answers: quizAnswers,\r\n    styleDNA: styleDNAText,\r\n    savedAt: Date.now(),\r\n  };\r\n  \r\n  localStorage.setItem(STORAGE_KEYS.STYLE_DNA, JSON.stringify(data));\r\n}\r\n\r\nexport function getStyleDNA() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.STYLE_DNA);\r\n    return data ? JSON.parse(data) : null;\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n\r\n// ==================== AI FEEDBACK ====================\r\n\r\n/**\r\n * AI vlasz visszajelzsnek rgztse\r\n */\r\nexport function trackAIFeedback(messageId, isPositive, context = {}) {\r\n  const feedback = getAIFeedback();\r\n  \r\n  const updated = [\r\n    {\r\n      messageId,\r\n      isPositive,\r\n      context,\r\n      timestamp: Date.now(),\r\n    },\r\n    ...feedback\r\n  ].slice(0, MAX_ITEMS.FEEDBACK);\r\n  \r\n  localStorage.setItem(STORAGE_KEYS.AI_FEEDBACK, JSON.stringify(updated));\r\n}\r\n\r\nexport function getAIFeedback() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.AI_FEEDBACK);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * AI feedback statisztikk\r\n */\r\nexport function getAIFeedbackStats() {\r\n  const feedback = getAIFeedback();\r\n  const positive = feedback.filter(f => f.isPositive).length;\r\n  const negative = feedback.filter(f => !f.isPositive).length;\r\n  \r\n  return {\r\n    total: feedback.length,\r\n    positive,\r\n    negative,\r\n    satisfactionRate: feedback.length > 0 ? (positive / feedback.length * 100).toFixed(1) : 0,\r\n  };\r\n}\r\n\r\n// ==================== CHAT CONTEXT ====================\r\n\r\n/**\r\n * Chat kontextus mentse (elz beszlgetsek sszefoglalja)\r\n */\r\nexport function saveChatContext(summary) {\r\n  const context = {\r\n    summary,\r\n    savedAt: Date.now(),\r\n  };\r\n  \r\n  localStorage.setItem(STORAGE_KEYS.CHAT_CONTEXT, JSON.stringify(context));\r\n}\r\n\r\nexport function getChatContext() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.CHAT_CONTEXT);\r\n    return data ? JSON.parse(data) : null;\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n\r\n// ==================== USER PREFERENCES ====================\r\n\r\n/**\r\n * Kategria preferencia frisstse\r\n */\r\nfunction updateCategoryPreference(category) {\r\n  if (!category) return;\r\n  \r\n  const prefs = getUserPreferences();\r\n  const categories = prefs.categoryInterests || {};\r\n  \r\n  categories[category] = (categories[category] || 0) + 1;\r\n  \r\n  prefs.categoryInterests = categories;\r\n  prefs.lastUpdated = Date.now();\r\n  \r\n  localStorage.setItem(STORAGE_KEYS.USER_PREFERENCES, JSON.stringify(prefs));\r\n}\r\n\r\nexport function getUserPreferences() {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEYS.USER_PREFERENCES);\r\n    return data ? JSON.parse(data) : { categoryInterests: {} };\r\n  } catch (e) {\r\n    return { categoryInterests: {} };\r\n  }\r\n}\r\n\r\n/**\r\n * Top kategrik a felhasznli rdeklds alapjn\r\n */\r\nexport function getTopCategories(limit = 5) {\r\n  const prefs = getUserPreferences();\r\n  const categories = prefs.categoryInterests || {};\r\n  \r\n  return Object.entries(categories)\r\n    .sort((a, b) => b[1] - a[1])\r\n    .slice(0, limit)\r\n    .map(([name]) => name);\r\n}\r\n\r\n// ==================== PERSONALIZED CONTEXT FOR AI ====================\r\n\r\n/**\r\n * Szemlyre szabott kontextus generlsa az AI szmra\r\n */\r\nexport function getPersonalizedContext() {\r\n  const viewedProducts = getViewedProducts(5);\r\n  const likedProducts = getLikedProducts();\r\n  const topCategories = getTopCategories(3);\r\n  const styleDNA = getStyleDNA();\r\n  const searchHistory = getSearchHistory(5);\r\n  \r\n  let context = '';\r\n  \r\n  if (styleDNA?.styleDNA) {\r\n    context += `A felhasznl stlus profilja: ${styleDNA.styleDNA}\\n`;\r\n  }\r\n  \r\n  if (topCategories.length > 0) {\r\n    context += `Kedvelt kategrik: ${topCategories.join(', ')}\\n`;\r\n  }\r\n  \r\n  if (viewedProducts.length > 0) {\r\n    context += `Nemrg nzett termkek: ${viewedProducts.map(p => p.name).join(', ')}\\n`;\r\n  }\r\n  \r\n  if (searchHistory.length > 0) {\r\n    context += `Korbbi keressek: ${searchHistory.map(s => s.query).join(', ')}\\n`;\r\n  }\r\n  \r\n  if (likedProducts.length > 0) {\r\n    context += `Kedvelt termkek szma: ${likedProducts.length}\\n`;\r\n  }\r\n  \r\n  return context || 'j felhasznl, nincs elzmny.';\r\n}\r\n\r\n/**\r\n * Szemlyre szabott termk ajnlsok\r\n * Figyelembe veszi: megtekintett, kedvelt, kategria preferencik\r\n */\r\nexport function getPersonalizedRecommendations(allProducts, limit = 12) {\r\n  if (!allProducts || allProducts.length === 0) return [];\r\n  \r\n  const viewedIds = getRecentlyViewedIds();\r\n  const likedIds = getLikedProducts();\r\n  const dislikedIds = getDislikedProducts();\r\n  const topCategories = getTopCategories(5);\r\n  const styleDNA = getStyleDNA();\r\n  \r\n  // Pontozzuk a termkeket\r\n  const scored = allProducts.map(product => {\r\n    let score = 0;\r\n    \r\n    // Ne ajnljunk olyat, amit mr nzett vagy nem kedvelt\r\n    if (viewedIds.includes(product.id)) score -= 10;\r\n    if (dislikedIds.includes(product.id)) score -= 50;\r\n    if (likedIds.includes(product.id)) score += 20;\r\n    \r\n    // Kategria preferencia\r\n    const productCategory = product.category || '';\r\n    topCategories.forEach((cat, index) => {\r\n      if (productCategory.toLowerCase().includes(cat.toLowerCase())) {\r\n        score += (5 - index) * 5; // Els kategria +25, msodik +20, stb.\r\n      }\r\n    });\r\n    \r\n    // Style DNA alap pontozs\r\n    if (styleDNA?.answers) {\r\n      const { space, colors, budget, priority, room } = styleDNA.answers;\r\n      const productText = `${product.name} ${product.category} ${product.description || ''}`.toLowerCase();\r\n      \r\n      // Stlus\r\n      const styleKeywords = {\r\n        modern: ['modern', 'minimalista', 'letisztult'],\r\n        scandinavian: ['skandinv', 'natr', 'vilgos', 'fehr'],\r\n        industrial: ['indusztrilis', 'loft', 'fm', 'ipari'],\r\n        vintage: ['vintage', 'retro', 'antik'],\r\n        bohemian: ['bohm', 'sznes', 'mints'],\r\n      };\r\n      \r\n      if (space && styleKeywords[space]) {\r\n        styleKeywords[space].forEach(kw => {\r\n          if (productText.includes(kw)) score += 10;\r\n        });\r\n      }\r\n      \r\n      // Budget\r\n      const price = product.salePrice || product.price || 0;\r\n      if (budget === 'budget' && price < 100000) score += 15;\r\n      if (budget === 'mid' && price >= 100000 && price <= 300000) score += 15;\r\n      if (budget === 'premium' && price > 300000) score += 15;\r\n      \r\n      // Szoba tpus\r\n      const roomKeywords = {\r\n        living: ['kanap', 'fotel', 'dohnyz', 'tv', 'nappali'],\r\n        bedroom: ['gy', 'matrac', 'jjeli', 'hlszoba'],\r\n        dining: ['tkez', 'asztal', 'szk'],\r\n        office: ['rasztal', 'iroda', 'forgszk'],\r\n      };\r\n      \r\n      if (room && roomKeywords[room]) {\r\n        roomKeywords[room].forEach(kw => {\r\n          if (productText.includes(kw)) score += 10;\r\n        });\r\n      }\r\n    }\r\n    \r\n    // Kis random faktor a vltozatossgrt\r\n    score += Math.random() * 5;\r\n    \r\n    return { product, score };\r\n  });\r\n  \r\n  // Top termkek visszaadsa\r\n  return scored\r\n    .sort((a, b) => b.score - a.score)\r\n    .slice(0, limit)\r\n    .map(s => s.product);\r\n}\r\n\r\n/**\r\n * Hasonl termkek keresse\r\n */\r\nexport function getSimilarProducts(product, allProducts, limit = 8) {\r\n  if (!product || !allProducts) return [];\r\n  \r\n  const dislikedIds = getDislikedProducts();\r\n  \r\n  const productName = (product.name || '').toLowerCase();\r\n  const productCategory = (product.category || '').toLowerCase();\r\n  const productPrice = product.salePrice || product.price || 0;\r\n  \r\n  // Kulcsszavak kinyerse a nvbl\r\n  const keywords = productName\r\n    .split(/[\\s,\\-\\/]+/)\r\n    .filter(w => w.length > 3)\r\n    .slice(0, 5);\r\n  \r\n  const scored = allProducts\r\n    .filter(p => p.id !== product.id && !dislikedIds.includes(p.id))\r\n    .map(p => {\r\n      let score = 0;\r\n      const pName = (p.name || '').toLowerCase();\r\n      const pCategory = (p.category || '').toLowerCase();\r\n      const pPrice = p.salePrice || p.price || 0;\r\n      \r\n      // Ugyanaz a kategria\r\n      if (pCategory && productCategory && pCategory.includes(productCategory.split(' > ')[0])) {\r\n        score += 30;\r\n      }\r\n      \r\n      // Hasonl r (30%)\r\n      if (pPrice > 0 && productPrice > 0) {\r\n        const priceDiff = Math.abs(pPrice - productPrice) / productPrice;\r\n        if (priceDiff < 0.3) score += 20;\r\n        else if (priceDiff < 0.5) score += 10;\r\n      }\r\n      \r\n      // Kulcssz egyezs\r\n      keywords.forEach(kw => {\r\n        if (pName.includes(kw)) score += 5;\r\n      });\r\n      \r\n      return { product: p, score };\r\n    });\r\n  \r\n  return scored\r\n    .filter(s => s.score > 0)\r\n    .sort((a, b) => b.score - a.score)\r\n    .slice(0, limit)\r\n    .map(s => s.product);\r\n}\r\n\r\n// ==================== CLEAR DATA ====================\r\n\r\nexport function clearAllData() {\r\n  Object.values(STORAGE_KEYS).forEach(key => {\r\n    localStorage.removeItem(key);\r\n  });\r\n}\r\n\r\nexport default {\r\n  trackProductView,\r\n  getViewedProducts,\r\n  getRecentlyViewedIds,\r\n  likeProduct,\r\n  dislikeProduct,\r\n  getLikedProducts,\r\n  getDislikedProducts,\r\n  isProductLiked,\r\n  trackSearch,\r\n  getSearchHistory,\r\n  saveStyleDNA,\r\n  getStyleDNA,\r\n  trackAIFeedback,\r\n  getAIFeedback,\r\n  getAIFeedbackStats,\r\n  saveChatContext,\r\n  getChatContext,\r\n  getUserPreferences,\r\n  getTopCategories,\r\n  getPersonalizedContext,\r\n  getPersonalizedRecommendations,\r\n  getSimilarProducts,\r\n  clearAllData,\r\n};\r\n","import React from 'react';\n\n/**\n * Modern Skeleton Loading Components\n * Shimmer effect with smooth animations\n */\n\n// Base skeleton with shimmer\nexport const Skeleton = ({ className = '', variant = 'rectangular' }) => {\n  const baseClasses = 'animate-pulse bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 bg-[length:200%_100%] animate-shimmer';\n  \n  const variants = {\n    rectangular: 'rounded-lg',\n    circular: 'rounded-full',\n    text: 'rounded h-4',\n    rounded: 'rounded-xl'\n  };\n\n  return (\n    <div className={`${baseClasses} ${variants[variant]} ${className}`} />\n  );\n};\n\n// Product Card Skeleton\nexport const ProductCardSkeleton = () => (\n  <div className=\"bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-sm border border-gray-100 h-full\">\n    {/* Image placeholder */}\n    <div className=\"aspect-square relative overflow-hidden bg-gray-100\">\n      <div className=\"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-shimmer bg-[length:200%_100%]\" />\n      {/* Fake badge */}\n      <div className=\"absolute top-3 left-3\">\n        <Skeleton className=\"w-12 h-5 rounded-full\" />\n      </div>\n      {/* Fake wishlist button */}\n      <div className=\"absolute top-3 right-3\">\n        <Skeleton variant=\"circular\" className=\"w-10 h-10\" />\n      </div>\n    </div>\n    \n    {/* Content */}\n    <div className=\"p-3 sm:p-4 lg:p-5 space-y-3\">\n      {/* Category */}\n      <Skeleton className=\"w-16 h-3\" />\n      \n      {/* Title - 2 lines */}\n      <div className=\"space-y-2\">\n        <Skeleton className=\"w-full h-4\" />\n        <Skeleton className=\"w-3/4 h-4\" />\n      </div>\n      \n      {/* Price section */}\n      <div className=\"pt-3 border-t border-gray-100 flex justify-between items-center\">\n        <div className=\"space-y-1\">\n          <Skeleton className=\"w-12 h-3\" />\n          <Skeleton className=\"w-20 h-6\" />\n        </div>\n        <Skeleton variant=\"circular\" className=\"w-10 h-10\" />\n      </div>\n    </div>\n  </div>\n);\n\n// Grid of Product Skeletons\nexport const ProductGridSkeleton = ({ count = 8 }) => (\n  <div className=\"product-grid\">\n    {Array.from({ length: count }).map((_, i) => (\n      <ProductCardSkeleton key={i} />\n    ))}\n  </div>\n);\n\n// Category Pills Skeleton\nexport const CategorySkeleton = () => (\n  <div className=\"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 mb-4 sm:mb-6 p-4\">\n    {/* Header */}\n    <div className=\"flex items-center justify-between mb-4\">\n      <div className=\"flex items-center gap-3\">\n        <Skeleton variant=\"rounded\" className=\"w-10 h-10\" />\n        <div className=\"space-y-2\">\n          <Skeleton className=\"w-24 h-5\" />\n          <Skeleton className=\"w-16 h-3 hidden sm:block\" />\n        </div>\n      </div>\n      <div className=\"space-y-1 text-right\">\n        <Skeleton className=\"w-20 h-5\" />\n        <Skeleton className=\"w-16 h-3\" />\n      </div>\n    </div>\n    \n    {/* Pills */}\n    <div className=\"flex flex-wrap gap-2\">\n      {Array.from({ length: 8 }).map((_, i) => (\n        <Skeleton \n          key={i} \n          variant=\"rounded\" \n          className=\"h-10\"\n          style={{ width: `${60 + Math.random() * 40}px` }}\n        />\n      ))}\n    </div>\n  </div>\n);\n\n// Search Bar Skeleton\nexport const SearchSkeleton = () => (\n  <div className=\"relative\">\n    <Skeleton variant=\"rounded\" className=\"w-full h-12\" />\n  </div>\n);\n\n// Hero Section Skeleton\nexport const HeroSkeleton = () => (\n  <div className=\"min-h-[60vh] flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-8\">\n    <div className=\"text-center space-y-6 max-w-2xl\">\n      <Skeleton className=\"w-40 h-8 mx-auto rounded-full\" />\n      <div className=\"space-y-3\">\n        <Skeleton className=\"w-full h-12 mx-auto\" />\n        <Skeleton className=\"w-3/4 h-12 mx-auto\" />\n      </div>\n      <Skeleton className=\"w-2/3 h-6 mx-auto\" />\n      <div className=\"flex gap-4 justify-center pt-4\">\n        <Skeleton variant=\"rounded\" className=\"w-40 h-14\" />\n        <Skeleton variant=\"rounded\" className=\"w-40 h-14\" />\n      </div>\n    </div>\n  </div>\n);\n\n// Inline Content Skeleton (for text areas)\nexport const TextSkeleton = ({ lines = 3, className = '' }) => (\n  <div className={`space-y-2 ${className}`}>\n    {Array.from({ length: lines }).map((_, i) => (\n      <Skeleton \n        key={i} \n        variant=\"text\" \n        className={i === lines - 1 ? 'w-2/3' : 'w-full'}\n      />\n    ))}\n  </div>\n);\n\n// Stats Card Skeleton\nexport const StatsSkeleton = () => (\n  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n    {Array.from({ length: 4 }).map((_, i) => (\n      <div key={i} className=\"bg-white rounded-2xl p-6 text-center\">\n        <Skeleton variant=\"circular\" className=\"w-10 h-10 mx-auto mb-3\" />\n        <Skeleton className=\"w-16 h-8 mx-auto mb-2\" />\n        <Skeleton className=\"w-20 h-4 mx-auto\" />\n      </div>\n    ))}\n  </div>\n);\n\nexport default {\n  Skeleton,\n  ProductCardSkeleton,\n  ProductGridSkeleton,\n  CategorySkeleton,\n  SearchSkeleton,\n  HeroSkeleton,\n  TextSkeleton,\n  StatsSkeleton\n};\n","import React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\nimport { \n  CheckCircle2, XCircle, AlertCircle, Info, X, \n  ShoppingCart, Heart, Sparkles, Bell, Truck\n} from 'lucide-react';\n\n/**\n * Modern Toast Notification System\n * Beautiful, accessible notifications with icons and animations\n */\n\n// Toast Context\nconst ToastContext = createContext(null);\n\n// Toast Types with icons and colors\nconst TOAST_TYPES = {\n  success: {\n    icon: CheckCircle2,\n    bg: 'bg-emerald-50 border-emerald-200',\n    iconBg: 'bg-emerald-100',\n    iconColor: 'text-emerald-600',\n    title: 'text-emerald-900',\n    message: 'text-emerald-700',\n    progress: 'bg-emerald-500'\n  },\n  error: {\n    icon: XCircle,\n    bg: 'bg-red-50 border-red-200',\n    iconBg: 'bg-red-100',\n    iconColor: 'text-red-600',\n    title: 'text-red-900',\n    message: 'text-red-700',\n    progress: 'bg-red-500'\n  },\n  warning: {\n    icon: AlertCircle,\n    bg: 'bg-amber-50 border-amber-200',\n    iconBg: 'bg-amber-100',\n    iconColor: 'text-amber-600',\n    title: 'text-amber-900',\n    message: 'text-amber-700',\n    progress: 'bg-amber-500'\n  },\n  info: {\n    icon: Info,\n    bg: 'bg-blue-50 border-blue-200',\n    iconBg: 'bg-blue-100',\n    iconColor: 'text-blue-600',\n    title: 'text-blue-900',\n    message: 'text-blue-700',\n    progress: 'bg-blue-500'\n  },\n  cart: {\n    icon: ShoppingCart,\n    bg: 'bg-indigo-50 border-indigo-200',\n    iconBg: 'bg-indigo-100',\n    iconColor: 'text-indigo-600',\n    title: 'text-indigo-900',\n    message: 'text-indigo-700',\n    progress: 'bg-indigo-500'\n  },\n  wishlist: {\n    icon: Heart,\n    bg: 'bg-pink-50 border-pink-200',\n    iconBg: 'bg-pink-100',\n    iconColor: 'text-pink-600',\n    title: 'text-pink-900',\n    message: 'text-pink-700',\n    progress: 'bg-pink-500'\n  },\n  ai: {\n    icon: Sparkles,\n    bg: 'bg-purple-50 border-purple-200',\n    iconBg: 'bg-purple-100',\n    iconColor: 'text-purple-600',\n    title: 'text-purple-900',\n    message: 'text-purple-700',\n    progress: 'bg-purple-500'\n  },\n  notification: {\n    icon: Bell,\n    bg: 'bg-gray-50 border-gray-200',\n    iconBg: 'bg-gray-100',\n    iconColor: 'text-gray-600',\n    title: 'text-gray-900',\n    message: 'text-gray-700',\n    progress: 'bg-gray-500'\n  },\n  shipping: {\n    icon: Truck,\n    bg: 'bg-teal-50 border-teal-200',\n    iconBg: 'bg-teal-100',\n    iconColor: 'text-teal-600',\n    title: 'text-teal-900',\n    message: 'text-teal-700',\n    progress: 'bg-teal-500'\n  }\n};\n\n// Single Toast Component\nconst Toast = ({ id, type = 'info', title, message, duration = 4000, onClose, action }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isLeaving, setIsLeaving] = useState(false);\n  const config = TOAST_TYPES[type] || TOAST_TYPES.info;\n  const Icon = config.icon;\n\n  useEffect(() => {\n    // Animate in\n    requestAnimationFrame(() => setIsVisible(true));\n    \n    // Auto dismiss\n    if (duration > 0) {\n      const timer = setTimeout(() => handleClose(), duration);\n      return () => clearTimeout(timer);\n    }\n  }, [duration]);\n\n  const handleClose = () => {\n    setIsLeaving(true);\n    setTimeout(() => onClose?.(id), 300);\n  };\n\n  return (\n    <div\n      className={`\n        relative w-full max-w-sm overflow-hidden\n        ${config.bg} border rounded-xl shadow-lg\n        transform transition-all duration-300 ease-out\n        ${isVisible && !isLeaving ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'}\n      `}\n      role=\"alert\"\n    >\n      <div className=\"p-4 flex items-start gap-3\">\n        {/* Icon */}\n        <div className={`${config.iconBg} rounded-lg p-2 shrink-0`}>\n          <Icon className={`w-5 h-5 ${config.iconColor}`} />\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          {title && (\n            <h4 className={`font-semibold text-sm ${config.title}`}>{title}</h4>\n          )}\n          {message && (\n            <p className={`text-sm mt-0.5 ${config.message}`}>{message}</p>\n          )}\n          {action && (\n            <button\n              onClick={() => { action.onClick?.(); handleClose(); }}\n              className={`mt-2 text-sm font-semibold ${config.iconColor} hover:underline`}\n            >\n              {action.label}\n            </button>\n          )}\n        </div>\n\n        {/* Close button */}\n        <button\n          onClick={handleClose}\n          className=\"shrink-0 p-1 rounded-lg hover:bg-black/5 transition-colors\"\n          aria-label=\"Bezrs\"\n        >\n          <X className=\"w-4 h-4 text-gray-400\" />\n        </button>\n      </div>\n\n      {/* Progress bar */}\n      {duration > 0 && (\n        <div className=\"h-1 w-full bg-black/5\">\n          <div\n            className={`h-full ${config.progress} transition-all ease-linear`}\n            style={{\n              width: '100%',\n              animation: `shrink ${duration}ms linear forwards`\n            }}\n          />\n        </div>\n      )}\n\n      <style>{`\n        @keyframes shrink {\n          from { width: 100%; }\n          to { width: 0%; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// Toast Container - mobile aware of 40px UNAS bottom nav\nconst ToastContainer = ({ toasts, removeToast }) => {\n  if (!toasts || toasts.length === 0) return null;\n\n  return (\n    <div className=\"fixed bottom-[calc(1rem+44px)] md:bottom-4 right-2 md:right-4 z-[100] flex flex-col gap-2 md:gap-3 pointer-events-none max-w-[calc(100vw-1rem)] md:max-w-none\">\n      {toasts.map(toast => (\n        <div key={toast.id} className=\"pointer-events-auto\">\n          <Toast {...toast} onClose={removeToast} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Toast Provider\nexport const ToastProvider = ({ children }) => {\n  const [toasts, setToasts] = useState([]);\n\n  const addToast = useCallback((options) => {\n    const id = Date.now() + Math.random();\n    setToasts(prev => [...prev, { id, ...options }]);\n    return id;\n  }, []);\n\n  const removeToast = useCallback((id) => {\n    setToasts(prev => prev.filter(t => t.id !== id));\n  }, []);\n\n  // Convenience methods\n  const toast = {\n    success: (message, options = {}) => addToast({ type: 'success', title: 'Siker!', message, ...options }),\n    error: (message, options = {}) => addToast({ type: 'error', title: 'Hiba!', message, ...options }),\n    warning: (message, options = {}) => addToast({ type: 'warning', title: 'Figyelem!', message, ...options }),\n    info: (message, options = {}) => addToast({ type: 'info', message, ...options }),\n    cart: (message, options = {}) => addToast({ type: 'cart', title: 'Kosr', message, ...options }),\n    wishlist: (message, options = {}) => addToast({ type: 'wishlist', title: 'Kedvencek', message, ...options }),\n    ai: (message, options = {}) => addToast({ type: 'ai', title: 'AI Asszisztens', message, ...options }),\n    notification: (message, options = {}) => addToast({ type: 'notification', message, ...options }),\n    shipping: (message, options = {}) => addToast({ type: 'shipping', title: 'Szllts', message, ...options }),\n    custom: (options) => addToast(options),\n    dismiss: removeToast\n  };\n\n  return (\n    <ToastContext.Provider value={toast}>\n      {children}\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\n    </ToastContext.Provider>\n  );\n};\n\n// Hook to use toast\nexport const useToast = () => {\n  const context = useContext(ToastContext);\n  if (!context) {\n    // Return a mock toast for when provider is not available\n    return {\n      success: console.log,\n      error: console.error,\n      warning: console.warn,\n      info: console.log,\n      cart: console.log,\n      wishlist: console.log,\n      ai: console.log,\n      notification: console.log,\n      shipping: console.log,\n      custom: console.log,\n      dismiss: () => {}\n    };\n  }\n  return context;\n};\n\nexport default { Toast, ToastProvider, useToast };\n","import React from 'react';\nimport { \n  Search, Package, Heart, ShoppingCart, Filter, \n  FolderOpen, AlertCircle, RefreshCw, ArrowRight,\n  Sparkles, Frown\n} from 'lucide-react';\n\n/**\n * Modern Empty State Components\n * Beautiful, helpful empty states with actions\n */\n\n// Base Empty State\nexport const EmptyState = ({ \n  icon: Icon = Package,\n  title,\n  description,\n  action,\n  secondaryAction,\n  size = 'md',\n  className = ''\n}) => {\n  const sizes = {\n    sm: {\n      container: 'py-8 px-4',\n      icon: 'w-12 h-12',\n      iconWrapper: 'w-16 h-16',\n      title: 'text-base',\n      description: 'text-sm',\n      button: 'px-4 py-2 text-sm'\n    },\n    md: {\n      container: 'py-12 px-6',\n      icon: 'w-16 h-16',\n      iconWrapper: 'w-24 h-24',\n      title: 'text-lg',\n      description: 'text-base',\n      button: 'px-5 py-2.5 text-sm'\n    },\n    lg: {\n      container: 'py-16 px-8',\n      icon: 'w-20 h-20',\n      iconWrapper: 'w-32 h-32',\n      title: 'text-xl',\n      description: 'text-lg',\n      button: 'px-6 py-3 text-base'\n    }\n  };\n\n  const s = sizes[size];\n\n  return (\n    <div className={`flex flex-col items-center justify-center text-center ${s.container} ${className}`}>\n      {/* Animated Icon Container */}\n      <div className={`\n        ${s.iconWrapper} rounded-full \n        bg-gradient-to-br from-gray-100 to-gray-50 \n        flex items-center justify-center mb-6\n        relative overflow-hidden\n      `}>\n        {/* Subtle animation ring */}\n        <div className=\"absolute inset-0 rounded-full border-2 border-dashed border-gray-200 animate-spin-slow\" />\n        <Icon className={`${s.icon} text-gray-400`} />\n      </div>\n\n      {/* Title */}\n      {title && (\n        <h3 className={`${s.title} font-bold text-gray-900 mb-2`}>\n          {title}\n        </h3>\n      )}\n\n      {/* Description */}\n      {description && (\n        <p className={`${s.description} text-gray-500 max-w-md mb-6`}>\n          {description}\n        </p>\n      )}\n\n      {/* Actions */}\n      {(action || secondaryAction) && (\n        <div className=\"flex flex-col sm:flex-row gap-3\">\n          {action && (\n            <button\n              onClick={action.onClick}\n              className={`\n                ${s.button} min-h-[44px]\n                bg-indigo-600 text-white font-semibold rounded-xl\n                hover:bg-indigo-700 transition-colors\n                flex items-center justify-center gap-2\n              `}\n            >\n              {action.icon && <action.icon className=\"w-4 h-4\" />}\n              {action.label}\n            </button>\n          )}\n          {secondaryAction && (\n            <button\n              onClick={secondaryAction.onClick}\n              className={`\n                ${s.button} min-h-[44px]\n                bg-gray-100 text-gray-700 font-semibold rounded-xl\n                hover:bg-gray-200 transition-colors\n                flex items-center justify-center gap-2\n              `}\n            >\n              {secondaryAction.icon && <secondaryAction.icon className=\"w-4 h-4\" />}\n              {secondaryAction.label}\n            </button>\n          )}\n        </div>\n      )}\n\n      <style>{`\n        @keyframes spin-slow {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        .animate-spin-slow {\n          animation: spin-slow 20s linear infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// No Search Results\nexport const NoSearchResults = ({ query, onClear, onSuggest }) => (\n  <EmptyState\n    icon={Search}\n    title={`Nincs tallat: \"${query}\"`}\n    description=\"Prblj ms kulcsszavakat hasznlni, vagy bngssz a kategrik kztt.\"\n    action={onClear && {\n      label: 'Keress trlse',\n      icon: RefreshCw,\n      onClick: onClear\n    }}\n    secondaryAction={onSuggest && {\n      label: 'AI javaslatok',\n      icon: Sparkles,\n      onClick: onSuggest\n    }}\n  />\n);\n\n// No Products in Category\nexport const NoCategoryProducts = ({ category, onShowAll }) => (\n  <EmptyState\n    icon={FolderOpen}\n    title={`Nincs termk: ${category}`}\n    description=\"Ez a kategria jelenleg res. Nzd meg a tbbi kategrit!\"\n    action={onShowAll && {\n      label: 'sszes termk',\n      icon: ArrowRight,\n      onClick: onShowAll\n    }}\n  />\n);\n\n// Empty Wishlist\nexport const EmptyWishlist = ({ onBrowse }) => (\n  <EmptyState\n    icon={Heart}\n    title=\"res a kvnsglistd\"\n    description=\"Mg nem adtl hozz termkeket. Bngssz s jelld meg kedvenceidet!\"\n    action={onBrowse && {\n      label: 'Bngszs',\n      icon: ArrowRight,\n      onClick: onBrowse\n    }}\n  />\n);\n\n// Empty Cart\nexport const EmptyCart = ({ onBrowse }) => (\n  <EmptyState\n    icon={ShoppingCart}\n    title=\"res a kosarad\"\n    description=\"Mg nem tettl semmit a kosrba. Fedezd fel knlatunkat!\"\n    action={onBrowse && {\n      label: 'Vsrls',\n      icon: ArrowRight,\n      onClick: onBrowse\n    }}\n  />\n);\n\n// No Filter Results\nexport const NoFilterResults = ({ onClearFilters }) => (\n  <EmptyState\n    icon={Filter}\n    title=\"Nincs tallat a szrsre\"\n    description=\"A megadott szrknek egyetlen termk sem felel meg. Prbld laztani a feltteleket.\"\n    action={onClearFilters && {\n      label: 'Szrk trlse',\n      icon: RefreshCw,\n      onClick: onClearFilters\n    }}\n  />\n);\n\n// Error State\nexport const ErrorState = ({ message, onRetry }) => (\n  <EmptyState\n    icon={AlertCircle}\n    title=\"Hiba trtnt\"\n    description={message || \"Valami nem sikerlt. Krlek prbld jra!\"}\n    action={onRetry && {\n      label: 'jraprbls',\n      icon: RefreshCw,\n      onClick: onRetry\n    }}\n  />\n);\n\n// Coming Soon\nexport const ComingSoon = ({ feature }) => (\n  <EmptyState\n    icon={Sparkles}\n    title=\"Hamarosan\"\n    description={feature ? `${feature} - dolgozunk rajta!` : \"Ez a funkci hamarosan elrhet!\"}\n  />\n);\n\n// Not Found (404)\nexport const NotFound = ({ onGoHome }) => (\n  <EmptyState\n    icon={Frown}\n    title=\"Az oldal nem tallhat\"\n    description=\"A keresett oldal nem ltezik vagy thelyezsre kerlt.\"\n    action={onGoHome && {\n      label: 'Vissza a foldalra',\n      icon: ArrowRight,\n      onClick: onGoHome\n    }}\n    size=\"lg\"\n  />\n);\n\nexport default {\n  EmptyState,\n  NoSearchResults,\n  NoCategoryProducts,\n  EmptyWishlist,\n  EmptyCart,\n  NoFilterResults,\n  ErrorState,\n  ComingSoon,\n  NotFound\n};\n","import React from 'react';\nimport { \n  Sparkles, Flame, Star, TrendingUp, Clock, Tag, \n  Percent, Package, Truck, Shield, Award, Zap\n} from 'lucide-react';\n\n/**\n * Modern Badge Components\n * Consistent, accessible product badges with animations\n */\n\n// Base Badge Component\nexport const Badge = ({ \n  children, \n  variant = 'default',\n  size = 'sm',\n  icon: Icon,\n  pulse = false,\n  className = ''\n}) => {\n  const variants = {\n    default: 'bg-gray-100 text-gray-700',\n    primary: 'bg-indigo-100 text-indigo-700',\n    success: 'bg-emerald-100 text-emerald-700',\n    warning: 'bg-amber-100 text-amber-700',\n    danger: 'bg-red-100 text-red-700',\n    purple: 'bg-purple-100 text-purple-700',\n    pink: 'bg-pink-100 text-pink-700',\n    gradient: 'bg-gradient-to-r from-indigo-500 to-purple-500 text-white',\n    outline: 'bg-transparent border-2 border-current'\n  };\n\n  const sizes = {\n    xs: 'text-[10px] px-1.5 py-0.5',\n    sm: 'text-xs px-2 py-1',\n    md: 'text-sm px-2.5 py-1.5',\n    lg: 'text-base px-3 py-2'\n  };\n\n  return (\n    <span className={`\n      inline-flex items-center gap-1 font-semibold rounded-full\n      ${variants[variant]} ${sizes[size]}\n      ${pulse ? 'animate-pulse' : ''}\n      ${className}\n    `}>\n      {Icon && <Icon className=\"w-3 h-3\" />}\n      {children}\n    </span>\n  );\n};\n\n// New Product Badge\nexport const NewBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"primary\" size={size} icon={Sparkles}>\n    J\n  </Badge>\n);\n\n// Sale/Discount Badge\nexport const DiscountBadge = ({ percent, size = 'sm' }) => (\n  <Badge variant=\"danger\" size={size} icon={Percent}>\n    -{percent}%\n  </Badge>\n);\n\n// Hot/Popular Badge\nexport const HotBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"warning\" size={size} icon={Flame} pulse>\n    Npszer\n  </Badge>\n);\n\n// Bestseller Badge\nexport const BestsellerBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"gradient\" size={size} icon={Award}>\n    Bestseller\n  </Badge>\n);\n\n// Trending Badge\nexport const TrendingBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"purple\" size={size} icon={TrendingUp}>\n    Trend\n  </Badge>\n);\n\n// Limited Badge\nexport const LimitedBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"pink\" size={size} icon={Clock}>\n    Limitlt\n  </Badge>\n);\n\n// Free Shipping Badge\nexport const FreeShippingBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"success\" size={size} icon={Truck}>\n    Ingyenes szllts\n  </Badge>\n);\n\n// Stock Badge\nexport const StockBadge = ({ inStock, quantity, size = 'sm' }) => {\n  if (!inStock || quantity === 0) {\n    return (\n      <Badge variant=\"default\" size={size}>\n        Elfogyott\n      </Badge>\n    );\n  }\n  \n  if (quantity && quantity <= 5) {\n    return (\n      <Badge variant=\"warning\" size={size} icon={Package}>\n        Csak {quantity} db\n      </Badge>\n    );\n  }\n  \n  return (\n    <Badge variant=\"success\" size={size} icon={Package}>\n      Kszleten\n    </Badge>\n  );\n};\n\n// Rating Badge\nexport const RatingBadge = ({ rating, count, size = 'sm' }) => (\n  <Badge variant=\"warning\" size={size} icon={Star}>\n    {rating?.toFixed(1) || '5.0'} {count && `(${count})`}\n  </Badge>\n);\n\n// Premium/Quality Badge\nexport const PremiumBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"gradient\" size={size} icon={Shield}>\n    Prmium\n  </Badge>\n);\n\n// Fast Delivery Badge  \nexport const FastDeliveryBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"success\" size={size} icon={Zap}>\n    24h szllts\n  </Badge>\n);\n\n// Price Drop Badge\nexport const PriceDropBadge = ({ size = 'sm' }) => (\n  <Badge variant=\"danger\" size={size} icon={Tag}>\n    ress\n  </Badge>\n);\n\n// Smart Badge - automatically determines which badge to show\n// Uses sm size for READABLE badges\nexport const SmartBadges = ({ product, maxBadges = 2 }) => {\n  const badges = [];\n  \n  // Check for new (last 7 days)\n  if (product.createdAt) {\n    const daysSinceCreation = (Date.now() - new Date(product.createdAt).getTime()) / (1000 * 60 * 60 * 24);\n    if (daysSinceCreation <= 7) {\n      badges.push({ component: NewBadge, priority: 3 });\n    }\n  }\n  \n  // Check for discount\n  if (product.salePrice && product.price > product.salePrice) {\n    const percent = Math.round(((product.price - product.salePrice) / product.price) * 100);\n    if (percent >= 10) {\n      badges.push({ \n        component: ({ size }) => <DiscountBadge percent={percent} size={size} />, \n        priority: 5 \n      });\n    }\n  }\n  \n  // Check for popularity (if we have sales data)\n  if (product.salesCount && product.salesCount > 50) {\n    badges.push({ component: HotBadge, priority: 2 });\n  }\n  \n  // Check for low stock\n  if (product.inStock && product.quantity && product.quantity <= 5 && product.quantity > 0) {\n    badges.push({ component: LimitedBadge, priority: 4 });\n  }\n  \n  // Check for bestseller\n  if (product.isBestseller) {\n    badges.push({ component: BestsellerBadge, priority: 6 });\n  }\n  \n  // Check for free shipping\n  if (product.freeShipping) {\n    badges.push({ component: FreeShippingBadge, priority: 1 });\n  }\n  \n  // Sort by priority and take top badges\n  const topBadges = badges\n    .sort((a, b) => b.priority - a.priority)\n    .slice(0, maxBadges);\n  \n  if (topBadges.length === 0) return null;\n  \n  return (\n    <div className=\"flex flex-col gap-1\">\n      {topBadges.map((badge, idx) => (\n        <badge.component key={idx} size=\"sm\" />\n      ))}\n    </div>\n  );\n};\n\nexport default {\n  Badge,\n  NewBadge,\n  DiscountBadge,\n  HotBadge,\n  BestsellerBadge,\n  TrendingBadge,\n  LimitedBadge,\n  FreeShippingBadge,\n  StockBadge,\n  RatingBadge,\n  PremiumBadge,\n  FastDeliveryBadge,\n  PriceDropBadge,\n  SmartBadges\n};\n","import React from 'react';\nimport { \n  LayoutGrid, Sofa, Armchair, BedDouble, Lamp, LampDesk, Package, \n  Table, BookOpen, Tv, Bath, UtensilsCrossed, Briefcase, Baby,\n  Flower2, TreeDeciduous, Warehouse, Shirt, Home, Box,\n  MessageCircle, Camera, Move3d, Sparkles, Lightbulb, Zap,\n  Palette, DollarSign, Crown, Target, Handshake, Recycle,\n  ThumbsUp, Heart, Shield, Award, Clock, Truck, CheckCircle2,\n  Star, TrendingUp, Gift, Search, ArrowRight, Bot\n} from 'lucide-react';\n\n/**\n * Category Icon Mapping - consistent furniture-related icons\n */\nconst CATEGORY_ICONS = {\n  // Default & General\n  'sszes': LayoutGrid,\n  'default': Package,\n  \n  // Living Room\n  'Kanap': Sofa,\n  'Kanapk': Sofa,\n  'Fotel': Armchair,\n  'Fotelek': Armchair,\n  'lgarnitra': Sofa,\n  'lgarnitrk': Sofa,\n  'Nappali': Tv,\n  'Nappali btor': Tv,\n  \n  // Bedroom\n  'gy': BedDouble,\n  'gyak': BedDouble,\n  'Hlszoba': BedDouble,\n  'Hlszoba btor': BedDouble,\n  'Matrac': BedDouble,\n  'Matracok': BedDouble,\n  \n  // Seating\n  'Szk': Armchair,\n  'Szkek': Armchair,\n  'Irodai szk': Briefcase,\n  'Irodaszk': Briefcase,\n  \n  // Tables\n  'Asztal': Table,\n  'Asztalok': Table,\n  'tkezasztal': UtensilsCrossed,\n  'Dohnyzasztal': Table,\n  'rasztal': Briefcase,\n  \n  // Storage\n  'Szekrny': Warehouse,\n  'Szekrnyek': Warehouse,\n  'Gardrb': Shirt,\n  'Gardrbszekrny': Shirt,\n  'Komd': Box,\n  'Polc': BookOpen,\n  'Polcok': BookOpen,\n  'Knyvespolc': BookOpen,\n  'Trols': Package,\n  \n  // Lighting\n  'Lmpa': Lamp,\n  'Lmpk': Lamp,\n  'Vilgts': LampDesk,\n  'Asztali lmpa': LampDesk,\n  'lllmpa': Lamp,\n  \n  // Office\n  'Iroda': Briefcase,\n  'Iroda btor': Briefcase,\n  'Dolgozszoba': Briefcase,\n  \n  // Kids & Baby\n  'Gyerek': Baby,\n  'Gyerekszoba': Baby,\n  'Baba': Baby,\n  \n  // Bathroom\n  'Frdszoba': Bath,\n  'Frd': Bath,\n  \n  // Outdoor & Garden\n  'Kert': TreeDeciduous,\n  'Kerti': TreeDeciduous,\n  'Kerti btor': TreeDeciduous,\n  'Terasz': Flower2,\n  \n  // Home & Decor\n  'Dekorci': Flower2,\n  'Lakstextil': Home,\n  'Kiegszt': Gift,\n};\n\n/**\n * Get icon component for a category name\n */\nexport const getCategoryIcon = (categoryName) => {\n  if (!categoryName) return Package;\n  \n  // Direct match\n  if (CATEGORY_ICONS[categoryName]) {\n    return CATEGORY_ICONS[categoryName];\n  }\n  \n  // Partial match (case insensitive)\n  const lowerName = categoryName.toLowerCase();\n  for (const [key, Icon] of Object.entries(CATEGORY_ICONS)) {\n    if (lowerName.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerName)) {\n      return Icon;\n    }\n  }\n  \n  return Package;\n};\n\n/**\n * Renders a category icon with consistent styling\n */\nexport const CategoryIcon = ({ name, className = \"w-4 h-4\", ...props }) => {\n  const Icon = getCategoryIcon(name);\n  return <Icon className={className} {...props} />;\n};\n\n/**\n * AI Feature Icons\n */\nexport const AIIcons = {\n  Chat: MessageCircle,\n  Camera: Camera,\n  RoomPlanner: Move3d,\n  Sparkles: Sparkles,\n  Tip: Lightbulb,\n  Quick: Zap,\n  Bot: Bot,\n};\n\n/**\n * Style Quiz Icons - modern alternatives to emojis\n */\nexport const StyleIcons = {\n  // Styles\n  modern: Sparkles,\n  scandinavian: TreeDeciduous,\n  industrial: Warehouse,\n  vintage: Clock,\n  bohemian: Palette,\n  \n  // Colors\n  neutral: () => <div className=\"w-4 h-4 rounded-full bg-gradient-to-br from-gray-200 to-gray-400\" />,\n  earth: () => <div className=\"w-4 h-4 rounded-full bg-gradient-to-br from-amber-600 to-green-700\" />,\n  bold: () => <div className=\"w-4 h-4 rounded-full bg-gradient-to-br from-blue-500 to-red-500\" />,\n  pastel: () => <div className=\"w-4 h-4 rounded-full bg-gradient-to-br from-pink-300 to-purple-300\" />,\n  \n  // Budget\n  budget: DollarSign,\n  mid: Award,\n  premium: Crown,\n  flexible: Target,\n  \n  // Priorities\n  comfort: Sofa,\n  design: Palette,\n  durability: Shield,\n  versatility: Recycle,\n  eco: TreeDeciduous,\n  \n  // Rooms\n  living: Tv,\n  bedroom: BedDouble,\n  dining: UtensilsCrossed,\n  office: Briefcase,\n  all: Home,\n};\n\n/**\n * Trust/Feature Icons\n */\nexport const TrustIcons = {\n  quality: Shield,\n  delivery: Truck,\n  support: MessageCircle,\n  warranty: Award,\n  returns: Recycle,\n  secure: CheckCircle2,\n};\n\n/**\n * Animated Icon Wrapper\n */\nexport const AnimatedIcon = ({ icon: Icon, className = \"\", pulse = false, bounce = false, spin = false }) => {\n  const animationClass = pulse ? 'animate-pulse' : bounce ? 'animate-bounce' : spin ? 'animate-spin' : '';\n  return <Icon className={`${className} ${animationClass}`} />;\n};\n\n/**\n * Icon with gradient background\n */\nexport const GradientIcon = ({ \n  icon: Icon, \n  gradient = \"from-indigo-500 to-purple-600\",\n  size = \"md\",\n  className = \"\"\n}) => {\n  const sizes = {\n    sm: \"w-8 h-8 p-1.5\",\n    md: \"w-10 h-10 p-2\",\n    lg: \"w-12 h-12 p-2.5\",\n    xl: \"w-14 h-14 p-3\"\n  };\n  \n  const iconSizes = {\n    sm: \"w-4 h-4\",\n    md: \"w-5 h-5\",\n    lg: \"w-6 h-6\",\n    xl: \"w-7 h-7\"\n  };\n  \n  return (\n    <div className={`bg-gradient-to-br ${gradient} rounded-xl flex items-center justify-center ${sizes[size]} ${className}`}>\n      <Icon className={`${iconSizes[size]} text-white`} />\n    </div>\n  );\n};\n\n/**\n * Demo Flow - replaces emoji flows with icons\n */\nexport const DemoFlow = ({ steps, size = \"md\" }) => {\n  const iconSize = size === \"sm\" ? \"w-5 h-5\" : size === \"lg\" ? \"w-8 h-8\" : \"w-6 h-6\";\n  const arrowSize = size === \"sm\" ? \"w-3 h-3\" : size === \"lg\" ? \"w-5 h-5\" : \"w-4 h-4\";\n  \n  return (\n    <div className=\"flex items-center justify-center gap-2\">\n      {steps.map((step, idx) => (\n        <React.Fragment key={idx}>\n          <div className={`${step.bg || 'bg-gray-100'} rounded-lg p-2`}>\n            <step.icon className={`${iconSize} ${step.color || 'text-gray-600'}`} />\n          </div>\n          {idx < steps.length - 1 && (\n            <ArrowRight className={`${arrowSize} text-gray-300`} />\n          )}\n        </React.Fragment>\n      ))}\n    </div>\n  );\n};\n\nexport default {\n  getCategoryIcon,\n  CategoryIcon,\n  AIIcons,\n  StyleIcons,\n  TrustIcons,\n  AnimatedIcon,\n  GradientIcon,\n  DemoFlow\n};\n","import React, { useState } from 'react';\nimport { Sparkles, X, ArrowRight, MessageCircle, Camera, Home, Lightbulb } from 'lucide-react';\nimport { GradientIcon } from '../ui/Icons';\n\n/**\n * AI Feature Showcase - highlights AI capabilities with modern icons\n */\nexport const AIShowcase = () => {\n  const [isDismissed, setIsDismissed] = useState(() => \n    localStorage.getItem('ai-showcase-dismissed') === 'true'\n  );\n\n  if (isDismissed) return null;\n\n  const handleDismiss = () => {\n    localStorage.setItem('ai-showcase-dismissed', 'true');\n    setIsDismissed(true);\n  };\n\n  const features = [\n    {\n      title: 'AI Asszisztens',\n      description: 'Beszlgess szakrtnkkel, krdezz, tancsot krj.',\n      icon: MessageCircle,\n      gradient: 'from-blue-500 to-indigo-600',\n      feature: 'Chat'\n    },\n    {\n      title: 'Kpkeres',\n      description: 'Fotzd le a btort, mi megtalljuk a hasonlt.',\n      icon: Camera,\n      gradient: 'from-purple-500 to-pink-600',\n      feature: 'Visual Search'\n    },\n    {\n      title: 'Szobatervez',\n      description: 'Tervezd meg a szobt virtulisan, lsd lben.',\n      icon: Home,\n      gradient: 'from-emerald-500 to-teal-600',\n      feature: 'Room Planner'\n    }\n  ];\n\n  return (\n    <div className=\"relative bg-gradient-to-br from-purple-600 via-indigo-600 to-blue-600 text-white py-6 sm:py-8 lg:py-12 xl:py-14 mb-4 sm:mb-6 lg:mb-8 overflow-hidden\">\n      {/* Animated background */}\n      <div className=\"absolute inset-0 opacity-20\">\n        <div className=\"absolute top-0 left-0 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl animate-blob\"></div>\n        <div className=\"absolute top-0 right-0 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000\"></div>\n        <div className=\"absolute bottom-0 left-1/2 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000\"></div>\n      </div>\n\n      <button \n        onClick={handleDismiss}\n        className=\"absolute top-2 right-2 sm:top-3 sm:right-3 lg:top-5 lg:right-5 w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors z-10\"\n        aria-label=\"Bezrs\"\n      >\n        <X className=\"w-5 h-5 lg:w-6 lg:h-6\" />\n      </button>\n\n      <div className=\"w-full max-w-[2000px] mx-auto px-3 sm:px-6 lg:px-10 xl:px-16 relative z-10\">\n        <div className=\"text-center mb-6 sm:mb-10 lg:mb-14\">\n          <div className=\"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 lg:px-5 lg:py-2.5 bg-white/20 backdrop-blur-sm rounded-full text-xs sm:text-sm lg:text-base font-bold mb-3 sm:mb-4 lg:mb-6\">\n            <Sparkles className=\"w-4 h-4 lg:w-5 lg:h-5 mr-2 animate-pulse\" />\n            AI-Powered Shopping\n          </div>\n          <h2 className=\"text-xl sm:text-3xl lg:text-4xl xl:text-5xl font-extrabold mb-2 sm:mb-3 lg:mb-4\">\n            Talld meg az idelis btort <br className=\"hidden md:block\" />\n            <span className=\"text-yellow-300\">mestersges intelligencival</span>\n          </h2>\n          <p className=\"text-sm sm:text-base lg:text-xl xl:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed\">\n            Hasznld az AI asszisztensnket, kpkeresnket s szobaterveznket.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 xl:gap-8\">\n          {features.map((item, idx) => (\n            <div \n              key={idx}\n              className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl sm:rounded-2xl lg:rounded-3xl p-4 sm:p-5 lg:p-6 xl:p-8 hover:bg-white/20 transition-all transform hover:-translate-y-1 cursor-pointer group\"\n            >\n              <GradientIcon \n                icon={item.icon} \n                gradient={item.gradient}\n                size=\"lg\"\n                className=\"mb-3 sm:mb-4 lg:mb-5 group-hover:scale-110 transition-transform\"\n              />\n              <h3 className=\"text-base sm:text-lg lg:text-xl xl:text-2xl font-bold mb-1.5 sm:mb-2 lg:mb-3\">{item.title}</h3>\n              <p className=\"text-white/80 text-xs sm:text-sm lg:text-base xl:text-lg mb-3 sm:mb-4 lg:mb-5 leading-relaxed\">{item.description}</p>\n              <div className=\"flex items-center text-xs sm:text-sm lg:text-base font-bold text-yellow-300 group-hover:text-yellow-200 transition-colors\">\n                Prbld ki <ArrowRight className=\"w-4 h-4 lg:w-5 lg:h-5 ml-1 group-hover:translate-x-1 transition-transform\" />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <style>\n        {`\n          @keyframes blob {\n            0%, 100% { transform: translate(0, 0) scale(1); }\n            33% { transform: translate(30px, -50px) scale(1.1); }\n            66% { transform: translate(-20px, 20px) scale(0.9); }\n          }\n          .animate-blob {\n            animation: blob 7s infinite;\n          }\n          .animation-delay-2000 {\n            animation-delay: 2s;\n          }\n          .animation-delay-4000 {\n            animation-delay: 4s;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\n/**\n * AI Onboarding Tooltip\n */\nexport const AIOnboarding = ({ isOpen, onClose, targetFeature }) => {\n  if (!isOpen) return null;\n\n  const messages = {\n    chat: {\n      title: 'Prbld ki az AI Asszisztenst!',\n      description: 'Krdezz brmit a termkekrl, s azonnal vlaszt kapsz.',\n      tip: 'Pldul: \"Keresek egy skandinv kanapt 200.000 Ft alatt\"',\n      icon: MessageCircle\n    },\n    visualSearch: {\n      title: 'AI Kpkeres',\n      description: 'Tlts fel egy kpet, s megmutatjuk a hasonl termkeket.',\n      tip: 'Fotzd le a btort ami tetszik, mi megtalljuk!',\n      icon: Camera\n    },\n    roomPlanner: {\n      title: 'Virtulis Szobatervez',\n      description: 'Helyezd el a btorokat a sajt szobdban, s lsd lben.',\n      tip: 'Tlts fel egy fott a szobdrl, s kezdj el tervezni!',\n      icon: Home\n    }\n  };\n\n  const content = messages[targetFeature] || messages.chat;\n  const TipIcon = content.icon || Lightbulb;\n\n  return (\n    <div className=\"fixed inset-0 z-[80] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in p-4\" onClick={onClose}>\n      <div className=\"bg-white rounded-2xl lg:rounded-3xl p-6 sm:p-8 lg:p-10 max-w-md lg:max-w-lg xl:max-w-xl w-full shadow-2xl animate-scale-in\" onClick={e => e.stopPropagation()}>\n        <div className=\"flex items-center justify-between mb-4 lg:mb-6\">\n          <div className=\"flex items-center gap-3 lg:gap-4\">\n            <div className=\"w-10 h-10 lg:w-12 lg:h-12 xl:w-14 xl:h-14 bg-indigo-100 rounded-xl lg:rounded-2xl flex items-center justify-center\">\n              <Sparkles className=\"w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 text-indigo-600 animate-pulse\" />\n            </div>\n            <h3 className=\"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-bold text-gray-900\">{content.title}</h3>\n          </div>\n          <button onClick={onClose} className=\"w-8 h-8 lg:w-10 lg:h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\">\n            <X className=\"w-5 h-5 lg:w-6 lg:h-6\" />\n          </button>\n        </div>\n        <p className=\"text-gray-600 mb-4 lg:mb-6 text-sm sm:text-base lg:text-lg xl:text-xl\">{content.description}</p>\n        <div className=\"bg-indigo-50 border border-indigo-100 rounded-xl lg:rounded-2xl p-3 sm:p-4 lg:p-5 mb-6 lg:mb-8 flex items-start gap-3 lg:gap-4\">\n          <div className=\"w-8 h-8 lg:w-10 lg:h-10 bg-indigo-100 rounded-lg lg:rounded-xl flex items-center justify-center shrink-0\">\n            <Lightbulb className=\"w-4 h-4 lg:w-5 lg:h-5 text-indigo-600\" />\n          </div>\n          <div>\n            <p className=\"text-xs lg:text-sm font-semibold text-indigo-600 mb-1\">Tipp</p>\n            <p className=\"text-sm lg:text-base xl:text-lg text-indigo-700\">{content.tip}</p>\n          </div>\n        </div>\n        <button \n          onClick={onClose}\n          className=\"w-full bg-indigo-600 text-white py-3 lg:py-4 xl:py-5 rounded-xl lg:rounded-2xl font-bold text-base lg:text-lg xl:text-xl hover:bg-indigo-700 transition-colors min-h-[44px] lg:min-h-[52px] xl:min-h-[60px]\"\n        >\n          rtem, kezdjk!\n        </button>\n      </div>\n      <style>\n        {`\n          @keyframes scale-in {\n            from {\n              transform: scale(0.9);\n              opacity: 0;\n            }\n            to {\n              transform: scale(1);\n              opacity: 1;\n            }\n          }\n          .animate-scale-in {\n            animation: scale-in 0.2s ease-out;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","/**\n * Gemini AI Service - Frontend service for AI calls\n * All calls go through our backend proxy for security\n * The API key is stored on the server, NOT in the frontend\n */\n\n// Backend API URL - automatically detects if we're on the Railway server or localhost\nconst API_BASE = window.MARKETLY_CONFIG?.apiBase || \n  (window.location.hostname === 'localhost' \n    ? 'http://localhost:3001/api' \n    : 'https://marketly-ai-butorbolt-production.up.railway.app/api');\n\n/**\n * Generate text response from AI\n * @param {string} prompt - The prompt to send to AI\n * @param {object} options - Optional settings (temperature, maxTokens)\n * @returns {Promise<{success: boolean, text?: string, error?: string}>}\n */\nexport async function generateText(prompt, options = {}) {\n  const { temperature = 0.7, maxTokens = 500 } = options;\n  \n  console.log('[AI Service] Sending text generation request...');\n  \n  try {\n    const response = await fetch(`${API_BASE}/ai/generate`, {\n      method: 'POST',\n      headers: { \n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        prompt,\n        temperature,\n        maxTokens,\n      }),\n    });\n\n    const data = await response.json();\n    \n    if (!response.ok || !data.success) {\n      console.error('[AI Service] Error:', data.error);\n      return { \n        success: false, \n        error: data.error || `HTTP ${response.status}` \n      };\n    }\n\n    console.log('[AI Service] Success, response received');\n    return { success: true, text: data.text };\n\n  } catch (error) {\n    console.error('[AI Service] Network error:', error);\n    return { \n      success: false, \n      error: `Network error: ${error.message}` \n    };\n  }\n}\n\n/**\n * Analyze image with AI\n * @param {string} base64Image - Base64 encoded image (without data URL prefix)\n * @param {string} mimeType - Image MIME type (e.g., 'image/jpeg')\n * @param {string} prompt - The analysis prompt\n * @returns {Promise<{success: boolean, text?: string, error?: string}>}\n */\nexport async function analyzeImage(base64Image, mimeType, prompt) {\n  console.log('[AI Service] Sending image analysis request...');\n  \n  try {\n    const response = await fetch(`${API_BASE}/ai/analyze-image`, {\n      method: 'POST',\n      headers: { \n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        imageBase64: base64Image,\n        mimeType,\n        prompt,\n      }),\n    });\n\n    const data = await response.json();\n    \n    if (!response.ok || !data.success) {\n      console.error('[AI Service] Error:', data.error);\n      return { \n        success: false, \n        error: data.error || `HTTP ${response.status}` \n      };\n    }\n\n    console.log('[AI Service] Image analysis success');\n    return { success: true, text: data.text };\n\n  } catch (error) {\n    console.error('[AI Service] Network error:', error);\n    return { \n      success: false, \n      error: `Network error: ${error.message}` \n    };\n  }\n}\n\n/**\n * Test AI connection\n * @returns {Promise<{success: boolean, message?: string, error?: string}>}\n */\nexport async function testConnection() {\n  console.log('[AI Service] Testing connection...');\n  \n  try {\n    const response = await fetch(`${API_BASE}/ai/health`);\n    const data = await response.json();\n    \n    if (data.success) {\n      console.log('[AI Service] Connection OK:', data.message);\n      return { success: true, message: data.message };\n    } else {\n      console.error('[AI Service] Connection failed:', data.error);\n      return { success: false, error: data.error };\n    }\n\n  } catch (error) {\n    console.error('[AI Service] Connection test failed:', error);\n    return { \n      success: false, \n      error: `Cannot reach server: ${error.message}` \n    };\n  }\n}\n\nexport default {\n  generateText,\n  analyzeImage,\n  testConnection,\n};\n","import React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { MessageCircle, X, Send, Loader2, Sparkles, User, Bot, AlertCircle, ThumbsUp, ThumbsDown, Clock, Heart, Search } from 'lucide-react';\nimport { generateText } from '../../services/geminiService';\nimport { \n  getPersonalizedContext, \n  trackAIFeedback, \n  getViewedProducts, \n  trackSearch,\n  saveChatContext,\n  getChatContext,\n  getSearchHistory\n} from '../../services/userPreferencesService';\n\n/**\n * AIChatAssistant - Lebeg AI Chat Gemini-val\n * Szemlyre szabott ajnlsok, conversation memory, feedback\n */\nconst AIChatAssistant = ({ products, onShowProducts }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showHistory, setShowHistory] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const messageIdRef = useRef(0);\n\n  // Inicializls - elz kontextus betltse\n  useEffect(() => {\n    const savedContext = getChatContext();\n    const recentlyViewed = getViewedProducts(3);\n    \n    let welcomeMessage = 'Szia!  Segthetek megtallni a tkletes btort. Mit keresel?';\n    \n    if (savedContext?.summary) {\n      welcomeMessage = `Szia jra!  Legutbb ${savedContext.summary} Miben segthetek most?`;\n    } else if (recentlyViewed.length > 0) {\n      welcomeMessage = `Szia!  Ltom, hogy korbban ${recentlyViewed[0].name} termket nzted. Segthetek hasonlt tallni, vagy valami mst keresel?`;\n    }\n    \n    setMessages([{\n      id: generateMessageId(),\n      role: 'assistant',\n      content: welcomeMessage,\n      timestamp: new Date()\n    }]);\n  }, []);\n\n  const generateMessageId = () => {\n    messageIdRef.current += 1;\n    return `msg_${Date.now()}_${messageIdRef.current}`;\n  };\n\n  // Termk statisztikk\n  const productStats = useMemo(() => {\n    if (!products || products.length === 0) return null;\n\n    const categories = {};\n    let minPrice = Infinity;\n    let maxPrice = 0;\n\n    products.forEach(p => {\n      const cat = p.category || 'Egyb';\n      const mainCat = cat.split(' > ')[0];\n      categories[mainCat] = (categories[mainCat] || 0) + 1;\n      const price = p.salePrice || p.price || 0;\n      if (price > 0) {\n        minPrice = Math.min(minPrice, price);\n        maxPrice = Math.max(maxPrice, price);\n      }\n    });\n\n    const topCategories = Object.entries(categories)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => `${name} (${count} db)`)\n      .join(', ');\n\n    return {\n      total: products.length,\n      categories: topCategories,\n      priceRange: `${minPrice.toLocaleString('hu-HU')} - ${maxPrice.toLocaleString('hu-HU')} Ft`\n    };\n  }, [products]);\n\n  // Keress a termkek kztt\n  const searchProducts = useCallback((query) => {\n    if (!products || products.length === 0) return [];\n    \n    const terms = query.toLowerCase().split(/\\s+/).filter(t => t.length > 2);\n    if (terms.length === 0) return [];\n\n    const scored = products.map(p => {\n      const name = (p.name || '').toLowerCase();\n      const category = (p.category || '').toLowerCase();\n      const desc = (p.description || '').toLowerCase();\n      \n      let score = 0;\n      terms.forEach(term => {\n        if (name.includes(term)) score += 10;\n        if (category.includes(term)) score += 5;\n        if (desc.includes(term)) score += 2;\n      });\n      return { product: p, score };\n    });\n\n    return scored\n      .filter(s => s.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 8)\n      .map(s => s.product);\n  }, [products]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 100);\n    }\n  }, [isOpen]);\n\n  // Feedback kezelse\n  const handleFeedback = (messageId, isPositive) => {\n    const message = messages.find(m => m.id === messageId);\n    if (!message) return;\n    \n    trackAIFeedback(messageId, isPositive, {\n      query: message.userQuery || '',\n      productCount: message.products?.length || 0,\n    });\n    \n    setMessages(prev => prev.map(m => \n      m.id === messageId ? { ...m, feedback: isPositive ? 'positive' : 'negative' } : m\n    ));\n  };\n\n  // Termk kattints - megmutatja az oldalon\n  const handleProductClick = (product, allRecommended) => {\n    if (onShowProducts) {\n      onShowProducts(product, allRecommended);\n    }\n    setIsOpen(false);\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || isLoading) return;\n\n    const userMessage = inputValue.trim();\n    setInputValue('');\n    \n    // Keress rgztse\n    trackSearch(userMessage);\n\n    const userMsgId = generateMessageId();\n    setMessages(prev => [...prev, {\n      id: userMsgId,\n      role: 'user',\n      content: userMessage,\n      timestamp: new Date()\n    }]);\n\n    setIsLoading(true);\n\n    try {\n      // Relevns termkek keresse\n      const relevantProducts = searchProducts(userMessage);\n      \n      // Szemlyre szabott kontextus\n      const personalContext = getPersonalizedContext();\n      \n      // Elz beszlgets sszefoglalja\n      const conversationHistory = messages\n        .slice(-6)\n        .map(m => `${m.role === 'user' ? 'Vsrl' : 'AI'}: ${m.content.slice(0, 100)}`)\n        .join('\\n');\n\n      const productList = relevantProducts.length > 0\n        ? relevantProducts.map(p => \n            ` ${p.name} - ${(p.salePrice || p.price || 0).toLocaleString('hu-HU')} Ft`\n          ).join('\\n')\n        : 'Nincs pontos tallat.';\n\n      const prompt = `Te egy kedves, profi AI btor tancsad vagy a Marketly btorwebshopban.\n\nWEBSHOP:\n- ${productStats?.total || 0} termk\n- Kategrik: ${productStats?.categories || 'vltozatos'}\n- r: ${productStats?.priceRange || 'vltoz'}\n\nFELHASZNL PROFILJA:\n${personalContext}\n\nBESZLGETS ELZMNYE:\n${conversationHistory || 'j beszlgets'}\n\nFELHASZNL KRDSE: \"${userMessage}\"\n\nTALLT TERMKEK:\n${productList}\n\nFELADATOD:\n1. Vlaszolj magyarul, bartsgosan, tegezve\n2. Ha vannak termkek, ajnld ket konkrtan (max 3-4)\n3. Ha ismered az elzmnyeit, hivatkozz r szemlyesen\n4. Maximum 3-4 mondat\n5. Ha termkeket mutatsz, zrd ezzel: \"Kattints a termkekre lent, hogy megnzd ket!\"`;\n\n      const result = await generateText(prompt, { temperature: 0.7, maxTokens: 400 });\n\n      const assistantMsgId = generateMessageId();\n\n      if (result.success && result.text) {\n        setMessages(prev => [...prev, {\n          id: assistantMsgId,\n          role: 'assistant',\n          content: result.text,\n          timestamp: new Date(),\n          products: relevantProducts.slice(0, 6),\n          userQuery: userMessage\n        }]);\n        \n        // Kontextus mentse\n        saveChatContext(`${userMessage.slice(0, 50)}... kerestl.`);\n      } else {\n        setMessages(prev => [...prev, {\n          id: assistantMsgId,\n          role: 'assistant',\n          content: getFallbackResponse(userMessage, relevantProducts),\n          timestamp: new Date(),\n          products: relevantProducts.slice(0, 6),\n          userQuery: userMessage,\n          isError: true\n        }]);\n      }\n\n    } catch (error) {\n      console.error('Chat hiba:', error);\n      setMessages(prev => [...prev, {\n        id: generateMessageId(),\n        role: 'assistant',\n        content: 'Elnzst, technikai hiba trtnt. Prbld jra!',\n        timestamp: new Date(),\n        isError: true\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getFallbackResponse = (message, foundProducts) => {\n    if (foundProducts && foundProducts.length > 0) {\n      return `Talltam ${foundProducts.length} termket! Kattints rjuk lent, hogy megnzd ket az oldalon.`;\n    }\n\n    const msg = message.toLowerCase();\n    \n    if (msg.includes('kanap') || msg.includes('lgarnitra')) {\n      return 'Kanapkat keresel? Hasznld a kerest \"kanap\" kifejezssel, vagy bngszd a Kanapk kategrit!';\n    }\n    if (msg.includes('asztal')) {\n      return 'Asztalokat keresel? Az tkezasztalok s dohnyzasztalok szles vlasztka vr!';\n    }\n    if (msg.includes('gy') || msg.includes('hlszoba')) {\n      return 'Hlszobai btorokat keresel? Nzd meg az gyak s matracok knlatt!';\n    }\n    \n    return 'rd le pontosabban, milyen btort keresel (pl. \"modern kanap 200 ezer alatt\").';\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Gyors krdsek a korbbi keressek s megtekintett termkek alapjn\n  const quickSuggestions = useMemo(() => {\n    const searches = getSearchHistory(3);\n    const viewed = getViewedProducts(2);\n    \n    const suggestions = [];\n    \n    if (viewed.length > 0) {\n      suggestions.push(`Hasonl mint: ${viewed[0].name.slice(0, 20)}...`);\n    }\n    \n    if (searches.length > 0) {\n      suggestions.push(searches[0].query);\n    }\n    \n    // Default suggestions\n    const defaults = ['Modern kanapkat keresek', 'Mit ajnlasz 100 ezer alatt?', 'Skandinv stlus btorok'];\n    \n    return [...suggestions, ...defaults].slice(0, 4);\n  }, []);\n\n  const formatPrice = (price) => {\n    return (price || 0).toLocaleString('hu-HU') + ' Ft';\n  };\n\n  return (\n    <>\n      {/* Lebeg Chat Gomb */}\n      {!isOpen && (\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\"\n            fixed bottom-[calc(1.5rem+44px)] md:bottom-6 right-4 md:right-6 z-50\n            w-14 h-14 md:w-16 md:h-16 rounded-full\n            bg-gradient-to-br from-indigo-500 to-purple-600\n            text-white shadow-2xl\n            flex items-center justify-center\n            transition-all duration-300\n            hover:shadow-indigo-500/50 hover:scale-110\n          \"\n          aria-label=\"AI Chat megnyitsa\"\n        >\n          <MessageCircle className=\"w-7 h-7\" />\n          <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center text-[10px] font-bold animate-pulse\">\n            AI\n          </span>\n        </button>\n      )}\n\n      {/* Chat Ablak */}\n      {isOpen && (\n        <div className=\"\n          fixed bottom-[calc(1rem+44px)] md:bottom-6 right-2 md:right-6 z-50\n          w-[calc(100vw-1rem)] md:w-[420px] h-[calc(100vh-120px)] md:h-[600px] max-h-[85vh]\n          bg-white rounded-2xl shadow-2xl\n          flex flex-col overflow-hidden border border-gray-200\n        \">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 p-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center\">\n                <Sparkles className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-white font-semibold\">AI Tancsad</h3>\n                <p className=\"text-white/80 text-xs flex items-center gap-1\">\n                  <span className=\"w-2 h-2 bg-green-400 rounded-full\" />\n                  Szemlyre szabott ajnlsok\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => setIsOpen(false)}\n              className=\"text-white/80 hover:text-white transition-colors p-2\"\n              aria-label=\"Bezrs\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          {/* zenetek */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\n            {messages.map((message) => (\n              <div key={message.id}>\n                <div className={`flex gap-3 ${message.role === 'user' ? 'flex-row-reverse' : ''}`}>\n                  <div className={`\n                    w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\n                    ${message.role === 'user' \n                      ? 'bg-indigo-500' \n                      : message.isError \n                        ? 'bg-orange-500'\n                        : 'bg-gradient-to-br from-indigo-500 to-purple-600'\n                    }\n                  `}>\n                    {message.role === 'user' ? (\n                      <User className=\"w-5 h-5 text-white\" />\n                    ) : message.isError ? (\n                      <AlertCircle className=\"w-5 h-5 text-white\" />\n                    ) : (\n                      <Bot className=\"w-5 h-5 text-white\" />\n                    )}\n                  </div>\n\n                  <div className=\"max-w-[85%]\">\n                    <div className={`\n                      rounded-2xl p-3\n                      ${message.role === 'user'\n                        ? 'bg-indigo-500 text-white rounded-tr-sm'\n                        : 'bg-white text-gray-800 rounded-tl-sm shadow-sm'\n                      }\n                    `}>\n                      <p className=\"text-sm whitespace-pre-wrap leading-relaxed\">{message.content}</p>\n                    </div>\n                    \n                    {/* Feedback gombok (csak assistant zeneteknl) */}\n                    {message.role === 'assistant' && !message.feedback && (\n                      <div className=\"flex items-center gap-1 mt-1.5 ml-1\">\n                        <button\n                          onClick={() => handleFeedback(message.id, true)}\n                          className=\"p-1.5 rounded-full hover:bg-green-100 text-gray-400 hover:text-green-600 transition-colors\"\n                          title=\"Hasznos volt\"\n                        >\n                          <ThumbsUp className=\"w-3.5 h-3.5\" />\n                        </button>\n                        <button\n                          onClick={() => handleFeedback(message.id, false)}\n                          className=\"p-1.5 rounded-full hover:bg-red-100 text-gray-400 hover:text-red-500 transition-colors\"\n                          title=\"Nem volt hasznos\"\n                        >\n                          <ThumbsDown className=\"w-3.5 h-3.5\" />\n                        </button>\n                        <span className=\"text-[10px] text-gray-400 ml-1\">\n                          {message.timestamp.toLocaleTimeString('hu-HU', { hour: '2-digit', minute: '2-digit' })}\n                        </span>\n                      </div>\n                    )}\n                    \n                    {/* Feedback megjelentse */}\n                    {message.feedback && (\n                      <div className={`text-[10px] mt-1 ml-1 ${message.feedback === 'positive' ? 'text-green-600' : 'text-gray-400'}`}>\n                        {message.feedback === 'positive' ? ' Ksznjk!' : ' Fejldnk'}\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Termk krtyk */}\n                {message.products && message.products.length > 0 && (\n                  <div className=\"ml-11 mt-3\">\n                    <p className=\"text-xs text-gray-500 mb-2 flex items-center gap-1\">\n                      <Search className=\"w-3 h-3\" />\n                      Kattints a termkre az oldalon val megtekintshez:\n                    </p>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {message.products.slice(0, 4).map((product) => (\n                        <button\n                          key={product.id}\n                          onClick={() => handleProductClick(product, message.products)}\n                          className=\"bg-white rounded-xl p-2 shadow-sm border border-gray-100 hover:shadow-md hover:border-indigo-300 transition-all text-left group\"\n                        >\n                          <div className=\"aspect-square bg-gray-50 rounded-lg mb-2 overflow-hidden\">\n                            <img\n                              src={product.images?.[0] || product.image || 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'}\n                              alt={product.name}\n                              className=\"w-full h-full object-contain group-hover:scale-105 transition-transform\"\n                              onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'; }}\n                            />\n                          </div>\n                          <p className=\"text-xs font-medium text-gray-800 line-clamp-2 leading-tight\">{product.name}</p>\n                          <p className=\"text-sm font-bold text-indigo-600 mt-1\">{formatPrice(product.salePrice || product.price)}</p>\n                        </button>\n                      ))}\n                    </div>\n                    {message.products.length > 4 && (\n                      <button\n                        onClick={() => handleProductClick(message.products[0], message.products)}\n                        className=\"w-full mt-2 py-2 text-xs text-indigo-600 hover:text-indigo-800 font-medium\"\n                      >\n                        + {message.products.length - 4} tovbbi termk megtekintse\n                      </button>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {isLoading && (\n              <div className=\"flex gap-3\">\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center\">\n                  <Bot className=\"w-5 h-5 text-white\" />\n                </div>\n                <div className=\"bg-white rounded-2xl rounded-tl-sm p-3 shadow-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <Loader2 className=\"w-5 h-5 text-indigo-500 animate-spin\" />\n                    <span className=\"text-sm text-gray-500\">Keresem a legjobb ajnlatokat...</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Gyors javaslatok */}\n          {messages.length <= 2 && (\n            <div className=\"p-3 bg-white border-t border-gray-100\">\n              <p className=\"text-xs text-gray-500 mb-2 flex items-center gap-1\">\n                <Sparkles className=\"w-3 h-3\" />\n                Prbld ki:\n              </p>\n              <div className=\"flex flex-wrap gap-1.5\">\n                {quickSuggestions.map((suggestion, index) => (\n                  <button\n                    key={index}\n                    onClick={() => {\n                      setInputValue(suggestion);\n                      inputRef.current?.focus();\n                    }}\n                    className=\"px-3 py-1.5 text-xs bg-indigo-50 text-indigo-700 rounded-full hover:bg-indigo-100 transition-colors truncate max-w-[180px]\"\n                  >\n                    {suggestion}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Input */}\n          <div className=\"p-4 bg-white border-t border-gray-200\">\n            <div className=\"flex gap-2\">\n              <input\n                ref={inputRef}\n                type=\"text\"\n                value={inputValue}\n                onChange={(e) => setInputValue(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Krdezz brmit a btorokrl...\"\n                className=\"\n                  flex-1 px-4 py-3 rounded-full\n                  bg-gray-100 text-gray-800\n                  focus:outline-none focus:ring-2 focus:ring-indigo-500\n                  text-sm\n                \"\n                disabled={isLoading}\n              />\n              <button\n                onClick={handleSendMessage}\n                disabled={!inputValue.trim() || isLoading}\n                className=\"\n                  w-12 h-12 rounded-full\n                  bg-gradient-to-br from-indigo-500 to-purple-600\n                  text-white\n                  flex items-center justify-center\n                  transition-all\n                  hover:scale-105\n                  disabled:opacity-50 disabled:cursor-not-allowed\n                \"\n                aria-label=\"Klds\"\n              >\n                {isLoading ? (\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                ) : (\n                  <Send className=\"w-5 h-5\" />\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AIChatAssistant;\n","import React, { useState, useRef, useMemo } from 'react';\nimport { Camera, Upload, Loader2, Sparkles, CheckCircle, X, AlertCircle, RotateCcw, ShoppingBag, Lightbulb, Star } from 'lucide-react';\nimport { analyzeImage } from '../../services/geminiService';\nimport { trackProductView } from '../../services/userPreferencesService';\n\n/**\n * AIRoomDesigner - Szoba elemzs Gemini Vision AI-val\n * Teljes adatbzis ismeretvel szemlyre szabott ajnlsok\n */\nconst AIRoomDesigner = ({ products, onProductRecommendations, onClose }) => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysis, setAnalysis] = useState(null);\n  const [analysisError, setAnalysisError] = useState(null);\n  const [recommendations, setRecommendations] = useState([]);\n  const [aiKeywords, setAiKeywords] = useState([]);\n  const fileInputRef = useRef(null);\n\n  // Termk statisztikk az AI szmra\n  const productStats = useMemo(() => {\n    if (!products?.length) return null;\n    \n    const categories = {};\n    products.forEach(p => {\n      const cat = (p.category || 'Egyb').split(' > ')[0];\n      categories[cat] = (categories[cat] || 0) + 1;\n    });\n    \n    const topCategories = Object.entries(categories)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 8)\n      .map(([name]) => name);\n    \n    return { total: products.length, topCategories };\n  }, [products]);\n\n  const handleImageSelect = (e) => {\n    const file = e.target.files?.[0];\n    if (file && file.type.startsWith('image/')) {\n      if (file.size > 4 * 1024 * 1024) {\n        setAnalysisError('A kp tl nagy! Maximum 4MB engedlyezett.');\n        return;\n      }\n      \n      setSelectedImage(file);\n      setAnalysisError(null);\n      setAnalysis(null);\n      setRecommendations([]);\n      setAiKeywords([]);\n      \n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const analyzeRoom = async () => {\n    if (!selectedImage || !imagePreview) return;\n\n    setIsAnalyzing(true);\n    setAnalysis(null);\n    setAnalysisError(null);\n    setRecommendations([]);\n    setAiKeywords([]);\n\n    try {\n      const base64Image = imagePreview.split(',')[1];\n      const mimeType = selectedImage.type || 'image/jpeg';\n\n      // Rszletes prompt a jobb elemzshez\n      const prompt = `Elemezd rszletesen ezt a szobafott s adj btor ajnlsokat!\n\nELEMEZD:\n1. Szoba tpusa (nappali, hlszoba, tkez, iroda, stb.)\n2. Jelenlegi stlus (modern, skandinv, klasszikus, minimalista, stb.)\n3. Dominns sznek\n4. Milyen btorok hinyoznak vagy cserlendk\n\nVLASZOD FORMTUMA (pontosan ezt kvesd!):\nSZOBA: [szoba tpusa]\nSTLUS: [stlus neve]\nSZNEK: [2-3 szn]\nAJNLOTT_BTOROK: [btor1], [btor2], [btor3], [btor4]\nTIPP: [1 mondat szemlyre szabott tancs magyarul, tegezve]`;\n\n      const result = await analyzeImage(base64Image, mimeType, prompt);\n\n      if (result.success && result.text) {\n        // Strukturlt vlasz feldolgozsa\n        const responseText = result.text;\n        \n        // Kulcsszavak kinyerse\n        const keywords = [];\n        \n        const roomMatch = responseText.match(/SZOBA:\\s*(.+)/i);\n        const styleMatch = responseText.match(/STLUS:\\s*(.+)/i);\n        const colorsMatch = responseText.match(/SZNEK:\\s*(.+)/i);\n        const furnitureMatch = responseText.match(/AJNLOTT_BTOROK:\\s*(.+)/i);\n        const tippMatch = responseText.match(/TIPP:\\s*(.+)/i);\n        \n        if (roomMatch) keywords.push(...roomMatch[1].toLowerCase().split(/[,\\s]+/).filter(k => k.length > 2));\n        if (styleMatch) keywords.push(...styleMatch[1].toLowerCase().split(/[,\\s]+/).filter(k => k.length > 2));\n        if (colorsMatch) keywords.push(...colorsMatch[1].toLowerCase().split(/[,\\s]+/).filter(k => k.length > 2));\n        if (furnitureMatch) keywords.push(...furnitureMatch[1].toLowerCase().split(/[,\\s]+/).filter(k => k.length > 2));\n        \n        setAiKeywords(keywords);\n        \n        // Olvashat elemzs sszelltsa\n        let readableAnalysis = '';\n        if (roomMatch) readableAnalysis += ` **Szoba:** ${roomMatch[1].trim()}\\n`;\n        if (styleMatch) readableAnalysis += ` **Stlus:** ${styleMatch[1].trim()}\\n`;\n        if (colorsMatch) readableAnalysis += ` **Sznvilg:** ${colorsMatch[1].trim()}\\n`;\n        if (furnitureMatch) readableAnalysis += ` **Ajnlott btorok:** ${furnitureMatch[1].trim()}\\n`;\n        if (tippMatch) readableAnalysis += `\\n ${tippMatch[1].trim()}`;\n        \n        // Ha nem sikerlt strukturlni, hasznljuk az eredeti vlaszt\n        if (!readableAnalysis) {\n          readableAnalysis = responseText;\n        }\n        \n        setAnalysis(readableAnalysis);\n        \n        // Termk ajnlsok keresse\n        const matchedProducts = findMatchingProductsAdvanced(keywords, furnitureMatch?.[1] || '');\n        setRecommendations(matchedProducts);\n        \n        if (onProductRecommendations && matchedProducts.length > 0) {\n          onProductRecommendations(matchedProducts);\n        }\n      } else {\n        setAnalysisError(result.error || 'Nem sikerlt elemezni a kpet.');\n      }\n\n    } catch (error) {\n      console.error('Kpelemzs hiba:', error);\n      setAnalysisError('Vratlan hiba trtnt. Prblj msik kpet!');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  // Fejlett termk keress AI kulcsszavak alapjn\n  const findMatchingProductsAdvanced = (keywords, furnitureText) => {\n    if (!products || products.length === 0) return [];\n    \n    // Btor tpus szinonimk\n    const furnitureSynonyms = {\n      'kanap': ['kanap', 'lgarnitra', 'sofa', 'szfa', 'sarokl', 'hever'],\n      'fotel': ['fotel', 'karosszk', 'pihenfotel', 'relax fotel'],\n      'asztal': ['asztal', 'dohnyzasztal', 'tkezasztal', 'rasztal', 'konzolasztal'],\n      'szk': ['szk', 'tkezszk', 'forgszk', 'irodai szk'],\n      'gy': ['gy', 'franciagy', 'boxspring', 'hlszoba'],\n      'szekrny': ['szekrny', 'gardrb', 'komd', 'tlal', 'vitrin'],\n      'polc': ['polc', 'knyvespolc', 'falipolc', 'llvny'],\n      'lmpa': ['lmpa', 'vilgts', 'lllmpa', 'asztali lmpa'],\n    };\n\n    // Stlus kulcsszavak\n    const styleKeywords = {\n      'modern': ['modern', 'minimalista', 'kortrs', 'letisztult', 'egyszer'],\n      'skandinv': ['skandinv', 'nordic', 'natr', 'vilgos', 'fehr', 'fa'],\n      'klasszikus': ['klasszikus', 'elegns', 'tradicionlis', 'idtlen'],\n      'indusztrilis': ['indusztrilis', 'loft', 'ipari', 'fm', 'vas'],\n      'vintage': ['vintage', 'retro', 'antik', 'rgi'],\n    };\n\n    // Szn kulcsszavak\n    const colorKeywords = ['fehr', 'fekete', 'szrke', 'barna', 'bzs', 'kk', 'zld', 'piros', 'natr', 'fa', 'di', 'tlgy'];\n\n    // sszes relevns kulcssz sszegyjtse\n    const searchTerms = new Set();\n    \n    // AI ltal tallt kulcsszavak\n    keywords.forEach(kw => {\n      searchTerms.add(kw.toLowerCase());\n      \n      // Szinonimk hozzadsa\n      Object.entries(furnitureSynonyms).forEach(([key, synonyms]) => {\n        if (kw.toLowerCase().includes(key) || synonyms.some(s => kw.toLowerCase().includes(s))) {\n          synonyms.forEach(s => searchTerms.add(s));\n        }\n      });\n      \n      // Stlus kulcsszavak\n      Object.entries(styleKeywords).forEach(([style, words]) => {\n        if (words.some(w => kw.toLowerCase().includes(w))) {\n          words.forEach(w => searchTerms.add(w));\n        }\n      });\n    });\n\n    // Btor szvegbl is\n    if (furnitureText) {\n      furnitureText.toLowerCase().split(/[,\\s]+/).forEach(term => {\n        if (term.length > 2) searchTerms.add(term);\n      });\n    }\n\n    // Termkek pontozsa\n    const scored = products.map(p => {\n      const productText = `${p.name || ''} ${p.category || ''} ${p.description || ''}`.toLowerCase();\n      let score = 0;\n      \n      searchTerms.forEach(term => {\n        if (productText.includes(term)) {\n          // Nv egyezs rtkesebb\n          if ((p.name || '').toLowerCase().includes(term)) score += 15;\n          // Kategria egyezs\n          else if ((p.category || '').toLowerCase().includes(term)) score += 10;\n          // Lers egyezs\n          else score += 3;\n        }\n      });\n      \n      return { product: p, score };\n    });\n\n    // Top termkek, vltozatos kategrikbl\n    const topScored = scored\n      .filter(s => s.score > 0)\n      .sort((a, b) => b.score - a.score);\n\n    // Kategria diverzits biztostsa\n    const selectedProducts = [];\n    const usedCategories = new Set();\n    \n    for (const item of topScored) {\n      const cat = (item.product.category || '').split(' > ')[0];\n      \n      // Els 4 termk brmilyen kategribl\n      if (selectedProducts.length < 4) {\n        selectedProducts.push(item.product);\n        usedCategories.add(cat);\n      }\n      // Tovbbi termkek klnbz kategrikbl\n      else if (selectedProducts.length < 12 && !usedCategories.has(cat)) {\n        selectedProducts.push(item.product);\n        usedCategories.add(cat);\n      }\n      // Ha elg kategria van, tbbi is jhet\n      else if (selectedProducts.length < 12) {\n        selectedProducts.push(item.product);\n      }\n      \n      if (selectedProducts.length >= 12) break;\n    }\n\n    // Ha kevs a tallat, tltsk fel random termkekkel\n    if (selectedProducts.length < 6) {\n      const additionalProducts = products\n        .filter(p => !selectedProducts.some(sp => sp.id === p.id))\n        .sort(() => Math.random() - 0.5)\n        .slice(0, 6 - selectedProducts.length);\n      \n      selectedProducts.push(...additionalProducts);\n    }\n\n    return selectedProducts;\n  };\n\n  const resetAnalysis = () => {\n    setSelectedImage(null);\n    setImagePreview(null);\n    setAnalysis(null);\n    setAnalysisError(null);\n    setRecommendations([]);\n    setAiKeywords([]);\n  };\n\n  const handleClose = () => {\n    resetAnalysis();\n    if (onClose) onClose();\n  };\n\n  const handleProductClick = (product) => {\n    trackProductView(product);\n    if (onProductRecommendations) {\n      onProductRecommendations([product, ...recommendations.filter(p => p.id !== product.id)]);\n    }\n  };\n\n  const formatPrice = (price) => (price || 0).toLocaleString('hu-HU') + ' Ft';\n\n  return (\n    <div \n      className=\"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\"\n      onClick={handleClose}\n    >\n      <div\n        className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-5 border-b border-gray-100 bg-gradient-to-r from-purple-500 to-pink-600\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2.5 bg-white/20 rounded-xl\">\n              <Camera className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">AI Szoba Tervez</h2>\n              <p className=\"text-sm text-white/80\">\n                {productStats ? `${productStats.total.toLocaleString()} termkbl vlogatunk` : 'Tltsd fel a szobd fotjt!'}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"p-5\">\n          {/* Upload Area */}\n          {!imagePreview && (\n            <div\n              onClick={() => fileInputRef.current?.click()}\n              className=\"border-2 border-dashed border-gray-300 rounded-xl p-10 text-center cursor-pointer hover:border-purple-500 hover:bg-purple-50/30 transition-all\"\n            >\n              <Upload className=\"w-14 h-14 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\n                Kattints vagy hzd ide a fott\n              </h3>\n              <p className=\"text-sm text-gray-500\">JPG, PNG vagy WEBP (max 4MB)</p>\n              <p className=\"text-xs text-purple-600 mt-2\">\n                Az AI elemzi a szobt s {productStats?.total.toLocaleString() || ''} termkbl ajnl\n              </p>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/jpeg,image/png,image/webp\"\n                onChange={handleImageSelect}\n                className=\"hidden\"\n              />\n            </div>\n          )}\n\n          {/* Image Preview */}\n          {imagePreview && (\n            <div className=\"space-y-5\">\n              <div className=\"relative rounded-xl overflow-hidden\">\n                <img\n                  src={imagePreview}\n                  alt=\"Szoba elnzet\"\n                  className=\"w-full h-56 object-cover\"\n                />\n                <button\n                  onClick={resetAnalysis}\n                  className=\"absolute top-3 right-3 p-2 bg-white/90 rounded-full hover:bg-white transition-colors shadow-lg\"\n                >\n                  <X className=\"w-5 h-5 text-gray-700\" />\n                </button>\n              </div>\n\n              {/* Analyze Button */}\n              {!analysis && !isAnalyzing && !analysisError && (\n                <button\n                  onClick={analyzeRoom}\n                  className=\"w-full py-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-[1.02] flex items-center justify-center gap-3\"\n                >\n                  <Sparkles className=\"w-6 h-6\" />\n                  AI Elemzs Indtsa\n                </button>\n              )}\n\n              {/* Loading */}\n              {isAnalyzing && (\n                <div className=\"text-center py-8\">\n                  <Loader2 className=\"w-12 h-12 text-purple-500 animate-spin mx-auto mb-4\" />\n                  <p className=\"text-gray-600 font-medium\">Az AI elemzi a szobdat...</p>\n                  <p className=\"text-gray-400 text-sm mt-1\">\n                    {productStats?.total.toLocaleString()} termkbl keressk a tkleteset\n                  </p>\n                </div>\n              )}\n\n              {/* Error */}\n              {analysisError && (\n                <div className=\"bg-red-50 rounded-xl p-5 text-center\">\n                  <AlertCircle className=\"w-10 h-10 text-red-500 mx-auto mb-3\" />\n                  <p className=\"text-red-700 font-medium mb-4\">{analysisError}</p>\n                  <button\n                    onClick={analyzeRoom}\n                    className=\"px-6 py-2.5 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors inline-flex items-center gap-2\"\n                  >\n                    <RotateCcw className=\"w-4 h-4\" />\n                    jraprbls\n                  </button>\n                </div>\n              )}\n\n              {/* Analysis Result */}\n              {analysis && (\n                <div className=\"space-y-5\">\n                  {/* AI Analysis */}\n                  <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 border border-purple-100\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                      <h3 className=\"text-lg font-bold text-gray-800\">AI Elemzs</h3>\n                    </div>\n                    <div className=\"text-gray-700 whitespace-pre-wrap leading-relaxed text-sm\">\n                      {analysis.split('\\n').map((line, i) => {\n                        if (line.startsWith('')) {\n                          return (\n                            <div key={i} className=\"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-200\">\n                              <div className=\"flex items-start gap-2\">\n                                <Lightbulb className=\"w-5 h-5 text-amber-500 shrink-0\" />\n                                <p className=\"text-amber-800\">{line.replace(' ', '')}</p>\n                              </div>\n                            </div>\n                          );\n                        }\n                        return <p key={i}>{line}</p>;\n                      })}\n                    </div>\n                  </div>\n\n                  {/* AI Keywords */}\n                  {aiKeywords.length > 0 && (\n                    <div className=\"flex flex-wrap gap-2\">\n                      {aiKeywords.slice(0, 8).map((kw, i) => (\n                        <span key={i} className=\"px-2.5 py-1 bg-purple-100 text-purple-700 text-xs rounded-full\">\n                          {kw}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Product Recommendations */}\n                  {recommendations.length > 0 && (\n                    <div>\n                      <h3 className=\"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2\">\n                        <Star className=\"w-5 h-5 text-amber-500\" />\n                        Szemlyre szabott ajnlatok ({recommendations.length})\n                      </h3>\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n                        {recommendations.slice(0, 6).map((product) => (\n                          <button\n                            key={product.id}\n                            onClick={() => handleProductClick(product)}\n                            className=\"bg-white rounded-lg overflow-hidden border border-gray-200 hover:shadow-md hover:border-purple-300 transition-all text-left\"\n                          >\n                            <img\n                              src={product.images?.[0] || product.image || product.mainImage}\n                              alt={product.name}\n                              className=\"w-full h-28 object-contain bg-gray-50\"\n                              onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'; }}\n                            />\n                            <div className=\"p-2.5\">\n                              <h4 className=\"font-medium text-sm text-gray-800 line-clamp-1 mb-1\">\n                                {product.name}\n                              </h4>\n                              <p className=\"text-base font-bold text-purple-600\">\n                                {formatPrice(product.salePrice || product.price)}\n                              </p>\n                            </div>\n                          </button>\n                        ))}\n                      </div>\n                      {recommendations.length > 6 && (\n                        <p className=\"text-center text-sm text-gray-500 mt-3\">\n                          + {recommendations.length - 6} tovbbi ajnlat\n                        </p>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Show All / New Photo Buttons */}\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <button\n                      onClick={resetAnalysis}\n                      className=\"py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center gap-2\"\n                    >\n                      <Upload className=\"w-5 h-5\" />\n                      j Fot\n                    </button>\n                    <button\n                      onClick={handleClose}\n                      className=\"py-3 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2\"\n                    >\n                      <ShoppingBag className=\"w-5 h-5\" />\n                      Megnzem\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AIRoomDesigner;\n","import React, { useState, useMemo } from 'react';\nimport { \n  Sparkles, ArrowRight, X, Loader2, CheckCircle,\n  Building2, TreePine, Factory, Clock, Palette,\n  CircleDot, Leaf, Zap, Circle,\n  DollarSign, Gem, Crown, Target,\n  Sofa, Paintbrush, Shield, RefreshCw, TreeDeciduous,\n  Tv, BedDouble, UtensilsCrossed, Briefcase, Home,\n  ShoppingBag, Star\n} from 'lucide-react';\nimport { generateText } from '../../services/geminiService';\nimport { saveStyleDNA, getPersonalizedRecommendations } from '../../services/userPreferencesService';\n\n/**\n * AIStyleQuiz - Szemlyre szabott stlus kvz Gemini AI-val\n * Teljes adatbzis ismeretvel\n */\nconst AIStyleQuiz = ({ products, onRecommendations, onClose }) => {\n  const [step, setStep] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [styleDNA, setStyleDNA] = useState(null);\n  const [recommendations, setRecommendations] = useState([]);\n  const [aiExplanation, setAiExplanation] = useState('');\n\n  // Termk statisztikk az AI szmra\n  const productStats = useMemo(() => {\n    if (!products || products.length === 0) return null;\n    \n    const categories = {};\n    const priceRanges = { budget: 0, mid: 0, premium: 0 };\n    \n    products.forEach(p => {\n      // Kategrik\n      const cat = (p.category || 'Egyb').split(' > ')[0];\n      categories[cat] = (categories[cat] || 0) + 1;\n      \n      // rkategrik\n      const price = p.salePrice || p.price || 0;\n      if (price < 100000) priceRanges.budget++;\n      else if (price <= 300000) priceRanges.mid++;\n      else priceRanges.premium++;\n    });\n    \n    const topCategories = Object.entries(categories)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 10)\n      .map(([name, count]) => `${name} (${count})`)\n      .join(', ');\n    \n    return { \n      total: products.length, \n      topCategories,\n      priceRanges\n    };\n  }, [products]);\n\n  const questions = [\n    {\n      id: 'space',\n      question: 'Milyen a laksod jelenlegi stlusa?',\n      icon: Home,\n      options: [\n        { id: 'modern', label: 'Modern & Minimalista', icon: Building2, color: 'text-blue-600 bg-blue-50', keywords: ['modern', 'minimalista', 'letisztult', 'egyszer', 'fehr'] },\n        { id: 'scandinavian', label: 'Skandinv & Vilgos', icon: TreePine, color: 'text-emerald-600 bg-emerald-50', keywords: ['skandinv', 'natr', 'vilgos', 'fa', 'termszetes'] },\n        { id: 'industrial', label: 'Indusztrilis & Nyers', icon: Factory, color: 'text-gray-600 bg-gray-100', keywords: ['indusztrilis', 'loft', 'fm', 'ipari', 'beton'] },\n        { id: 'vintage', label: 'Vintage & Retro', icon: Clock, color: 'text-amber-600 bg-amber-50', keywords: ['vintage', 'retro', 'antik', 'klasszikus', 'rgi'] },\n        { id: 'bohemian', label: 'Bohm & Sznes', icon: Palette, color: 'text-pink-600 bg-pink-50', keywords: ['bohm', 'sznes', 'egyedi', 'mints', 'kreatv'] },\n      ]\n    },\n    {\n      id: 'colors',\n      question: 'Milyen szneket preferlsz?',\n      icon: Palette,\n      options: [\n        { id: 'neutral', label: 'Semleges (Fehr, Bzs, Szrke)', icon: CircleDot, color: 'text-gray-500 bg-gray-50', keywords: ['fehr', 'bzs', 'szrke', 'krm', 'natr'] },\n        { id: 'earth', label: 'Fldsznek (Barna, Zld)', icon: Leaf, color: 'text-amber-700 bg-amber-50', keywords: ['barna', 'zld', 'fa', 'di', 'tlgy'] },\n        { id: 'bold', label: 'Mersz (Kk, Piros)', icon: Zap, color: 'text-red-600 bg-red-50', keywords: ['kk', 'piros', 'srga', 'lnk', 'sznes'] },\n        { id: 'dark', label: 'Stt (Fekete, Antracit)', icon: Circle, color: 'text-gray-800 bg-gray-200', keywords: ['fekete', 'antracit', 'stt', 'grafit', 'jfekete'] },\n        { id: 'pastel', label: 'Pasztell (Rzsaszn, Menta)', icon: Sparkles, color: 'text-purple-400 bg-purple-50', keywords: ['rzsaszn', 'menta', 'pasztell', 'halvny', 'lgy'] },\n      ]\n    },\n    {\n      id: 'budget',\n      question: 'Mi a preferlt rkategrid?',\n      icon: DollarSign,\n      options: [\n        { id: 'budget', label: 'Megfizethet (< 100k Ft)', icon: DollarSign, color: 'text-green-600 bg-green-50' },\n        { id: 'mid', label: 'Kzp (100-300k Ft)', icon: Gem, color: 'text-blue-600 bg-blue-50' },\n        { id: 'premium', label: 'Prmium (> 300k Ft)', icon: Crown, color: 'text-amber-600 bg-amber-50' },\n        { id: 'flexible', label: 'Rugalmas', icon: Target, color: 'text-indigo-600 bg-indigo-50' },\n      ]\n    },\n    {\n      id: 'priority',\n      question: 'Mi a legfontosabb szmodra?',\n      icon: Target,\n      options: [\n        { id: 'comfort', label: 'Knyelem', icon: Sofa, color: 'text-indigo-600 bg-indigo-50', keywords: ['knyelmes', 'puha', 'tgas'] },\n        { id: 'design', label: 'Design', icon: Paintbrush, color: 'text-pink-600 bg-pink-50', keywords: ['design', 'stlusos', 'elegns', 'divatos'] },\n        { id: 'durability', label: 'Tartssg', icon: Shield, color: 'text-gray-600 bg-gray-100', keywords: ['tarts', 'strapabr', 'ers', 'masszv'] },\n        { id: 'versatility', label: 'Sokoldalsg', icon: RefreshCw, color: 'text-blue-600 bg-blue-50', keywords: ['praktikus', 'talakthat', 'multifunkcis'] },\n        { id: 'eco', label: 'Fenntarthatsg', icon: TreeDeciduous, color: 'text-green-600 bg-green-50', keywords: ['ko', 'natr', 'fenntarthat', 'bio'] },\n      ]\n    },\n    {\n      id: 'room',\n      question: 'Melyik helyisgbe keresel btort?',\n      icon: Home,\n      options: [\n        { id: 'living', label: 'Nappali', icon: Tv, color: 'text-indigo-600 bg-indigo-50', keywords: ['kanap', 'fotel', 'dohnyz', 'tv', 'nappali', 'lgarnitra', 'sarok'] },\n        { id: 'bedroom', label: 'Hlszoba', icon: BedDouble, color: 'text-purple-600 bg-purple-50', keywords: ['gy', 'matrac', 'jjeli', 'hlszoba', 'gardrb', 'komd', 'franciagy'] },\n        { id: 'dining', label: 'tkez', icon: UtensilsCrossed, color: 'text-amber-600 bg-amber-50', keywords: ['tkez', 'asztal', 'szk', 'tlal', 'tkezasztal', 'tkezszk'] },\n        { id: 'office', label: 'Dolgozszoba', icon: Briefcase, color: 'text-gray-600 bg-gray-100', keywords: ['rasztal', 'iroda', 'forgszk', 'polc', 'knyvespolc'] },\n        { id: 'all', label: 'Teljes laks', icon: Home, color: 'text-emerald-600 bg-emerald-50', keywords: [] },\n      ]\n    }\n  ];\n\n  const currentQuestion = questions[step];\n  const progress = ((step + 1) / questions.length) * 100;\n\n  const handleAnswer = (optionId) => {\n    const newAnswers = { ...answers, [currentQuestion.id]: optionId };\n    setAnswers(newAnswers);\n    \n    if (step < questions.length - 1) {\n      setTimeout(() => setStep(step + 1), 200);\n    } else {\n      setTimeout(() => analyzeStyle(newAnswers), 300);\n    }\n  };\n\n  const analyzeStyle = async (allAnswers) => {\n    setIsAnalyzing(true);\n\n    try {\n      // sszegyjtjk a kulcsszavakat a vlaszok alapjn\n      const selectedKeywords = [];\n      questions.forEach(q => {\n        const answer = allAnswers[q.id];\n        const option = q.options.find(o => o.id === answer);\n        if (option?.keywords) {\n          selectedKeywords.push(...option.keywords);\n        }\n      });\n\n      // AI-val keresnk termkeket\n      const matchedProducts = await findMatchingProductsWithAI(allAnswers, selectedKeywords);\n      setRecommendations(matchedProducts);\n\n      // Stlus lersok\n      const styleLabels = {\n        modern: 'modern, minimalista',\n        scandinavian: 'skandinv, vilgos',\n        industrial: 'indusztrilis, loft',\n        vintage: 'vintage, retro',\n        bohemian: 'bohm, sznes'\n      };\n      \n      const colorLabels = {\n        neutral: 'semleges szneket (fehr, bzs, szrke)',\n        earth: 'fldszneket (barna, zld)',\n        bold: 'lnk szneket (kk, piros)',\n        dark: 'stt tnusokat (fekete, antracit)',\n        pastel: 'pasztell rnyalatokat'\n      };\n\n      const roomLabels = {\n        living: 'nappaliba',\n        bedroom: 'hlszobba',\n        dining: 'tkezbe',\n        office: 'dolgozszobba',\n        all: 'a teljes laksba'\n      };\n\n      const budgetLabels = {\n        budget: '100 ezer Ft alatt',\n        mid: '100-300 ezer Ft kztt',\n        premium: '300 ezer Ft felett',\n        flexible: 'rugalmas kltsgvetssel'\n      };\n\n      // AI prompt a szemlyre szabott profilhoz\n      const prompt = `Te egy profi lakberendez tancsad vagy. Kszts szemlyre szabott profilt s adj konkrt termkajnlsokat!\n\nVSRL PREFERENCII:\n- Stlus: ${styleLabels[allAnswers.space] || allAnswers.space}\n- Sznek: ${colorLabels[allAnswers.colors] || allAnswers.colors}\n- Helyisg: ${roomLabels[allAnswers.room] || allAnswers.room}\n- Kltsgvets: ${budgetLabels[allAnswers.budget] || allAnswers.budget}\n\nELRHET TERMKEK (${productStats?.total || 0} db sszesen):\n${matchedProducts.slice(0, 8).map(p => `- ${p.name}: ${(p.salePrice || p.price || 0).toLocaleString('hu-HU')} Ft`).join('\\n')}\n\nFELADATOD:\n1. rj egy 2-3 mondatos szemlyre szabott stlusprofilt\n2. Magyarzd el, MIRT ezeket a termkeket ajnlod (1 mondat)\n\nLegyl bartsgos, hasznlj tegezst. Magyarul vlaszolj!`;\n\n      const result = await generateText(prompt, { temperature: 0.8, maxTokens: 250 });\n\n      let finalStyleDNA;\n      if (result.success && result.text) {\n        finalStyleDNA = result.text;\n      } else {\n        finalStyleDNA = getLocalStyleDNA(allAnswers);\n      }\n      \n      setStyleDNA(finalStyleDNA);\n      saveStyleDNA(allAnswers, finalStyleDNA);\n\n      if (onRecommendations && matchedProducts.length > 0) {\n        onRecommendations(matchedProducts);\n      }\n\n    } catch (error) {\n      console.error('Quiz hiba:', error);\n      const fallbackProducts = findMatchingProductsLocal(allAnswers);\n      setRecommendations(fallbackProducts);\n      const fallbackDNA = getLocalStyleDNA(allAnswers);\n      setStyleDNA(fallbackDNA);\n      saveStyleDNA(allAnswers, fallbackDNA);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  // AI-val tmogatott termk keress\n  const findMatchingProductsWithAI = async (allAnswers, keywords) => {\n    if (!products || products.length === 0) return [];\n    \n    // Elszr loklisan szrnk\n    let filtered = [...products];\n    \n    // Budget szrs\n    if (allAnswers.budget === 'budget') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) < 100000);\n    } else if (allAnswers.budget === 'mid') {\n      filtered = filtered.filter(p => {\n        const price = p.salePrice || p.price;\n        return price >= 100000 && price <= 300000;\n      });\n    } else if (allAnswers.budget === 'premium') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) > 300000);\n    }\n\n    // Helyisg s kulcssz alap szrs\n    const roomOption = questions.find(q => q.id === 'room')?.options.find(o => o.id === allAnswers.room);\n    const roomKeywords = roomOption?.keywords || [];\n    const allKeywords = [...keywords, ...roomKeywords];\n\n    // Pontozs a termkeknek\n    const scored = filtered.map(p => {\n      const productText = `${p.name || ''} ${p.category || ''} ${p.description || ''}`.toLowerCase();\n      let score = 0;\n      \n      allKeywords.forEach(kw => {\n        if (productText.includes(kw.toLowerCase())) {\n          score += 10;\n        }\n      });\n      \n      // Kategria egyezs extra pont\n      if (roomKeywords.length > 0) {\n        roomKeywords.forEach(kw => {\n          if (productText.includes(kw.toLowerCase())) {\n            score += 5;\n          }\n        });\n      }\n      \n      return { product: p, score };\n    });\n\n    // Top termkek\n    const topProducts = scored\n      .filter(s => s.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 20)\n      .map(s => s.product);\n\n    // Ha van elg tallat, random vlogats a vltozatossgrt\n    if (topProducts.length > 12) {\n      return topProducts.sort(() => Math.random() - 0.5).slice(0, 12);\n    }\n\n    // Ha kevs a pontos tallat, tltsk fel relevns termkekkel\n    if (topProducts.length < 6) {\n      const additionalProducts = filtered\n        .filter(p => !topProducts.some(tp => tp.id === p.id))\n        .sort(() => Math.random() - 0.5)\n        .slice(0, 12 - topProducts.length);\n      \n      return [...topProducts, ...additionalProducts];\n    }\n\n    return topProducts;\n  };\n\n  // Loklis fallback keress\n  const findMatchingProductsLocal = (allAnswers) => {\n    if (!products || products.length === 0) return [];\n    \n    let filtered = [...products];\n    \n    if (allAnswers.budget === 'budget') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) < 100000);\n    } else if (allAnswers.budget === 'mid') {\n      filtered = filtered.filter(p => {\n        const price = p.salePrice || p.price;\n        return price >= 100000 && price <= 300000;\n      });\n    } else if (allAnswers.budget === 'premium') {\n      filtered = filtered.filter(p => (p.salePrice || p.price) > 300000);\n    }\n\n    const roomKeywords = {\n      living: ['kanap', 'fotel', 'dohnyz', 'tv', 'nappali', 'lgarnitra'],\n      bedroom: ['gy', 'matrac', 'jjeli', 'hlszoba', 'gardrb', 'komd'],\n      dining: ['tkez', 'asztal', 'szk', 'tlal'],\n      office: ['rasztal', 'iroda', 'forgszk', 'polc']\n    };\n\n    if (allAnswers.room && allAnswers.room !== 'all') {\n      const keywords = roomKeywords[allAnswers.room] || [];\n      if (keywords.length > 0) {\n        const roomFiltered = filtered.filter(p => \n          keywords.some(kw => \n            (p.name || '').toLowerCase().includes(kw) || \n            (p.category || '').toLowerCase().includes(kw)\n          )\n        );\n        if (roomFiltered.length > 0) {\n          filtered = roomFiltered;\n        }\n      }\n    }\n\n    return filtered.sort(() => Math.random() - 0.5).slice(0, 12);\n  };\n\n  const getLocalStyleDNA = (allAnswers) => {\n    const styleMap = {\n      modern: 'Modern, letisztult zlsed van',\n      scandinavian: 'A skandinv egyszersget kedveled',\n      industrial: 'Az ipari, loft stlus hve vagy',\n      vintage: 'A vintage bj rajongja vagy',\n      bohemian: 'Egyedi, bohm stlusod van'\n    };\n\n    const priorityMap = {\n      comfort: 'a knyelmet',\n      design: 'az eszttikt',\n      durability: 'a minsget',\n      versatility: 'a praktikumot',\n      eco: 'a krnyezettudatossgot'\n    };\n\n    return `${styleMap[allAnswers.space] || 'Egyedi zlsed van'}, s ${priorityMap[allAnswers.priority] || 'a minsget'} helyezed eltrbe. Az ajnlott termkek tkletesen illenek a stlusodhoz!`;\n  };\n\n  const formatPrice = (price) => (price || 0).toLocaleString('hu-HU') + ' Ft';\n\n  const QuestionIcon = currentQuestion?.icon || Home;\n\n  return (\n    <div \n      className=\"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-5 relative\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n          \n          <div className=\"flex items-center gap-3 mb-3\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n              <Sparkles className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">Style DNA Quiz</h2>\n              <p className=\"text-white/80 text-sm\">\n                {productStats ? `${productStats.total.toLocaleString()} termkbl vlogatunk` : 'Fedezd fel a stlusodat!'}\n              </p>\n            </div>\n          </div>\n          \n          {/* Progress */}\n          {!styleDNA && !isAnalyzing && (\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-white/80 mb-1.5\">\n                <span>Krds {step + 1}/{questions.length}</span>\n                <span>{Math.round(progress)}%</span>\n              </div>\n              <div className=\"h-2 bg-white/20 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-white rounded-full transition-all duration-300\"\n                  style={{ width: `${progress}%` }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"p-5\">\n          {isAnalyzing ? (\n            <div className=\"py-12 text-center\">\n              <Loader2 className=\"w-12 h-12 text-indigo-600 animate-spin mx-auto mb-4\" />\n              <h3 className=\"text-lg font-bold text-gray-900 mb-2\">AI elemzs folyamatban...</h3>\n              <p className=\"text-gray-500 text-sm\">\n                {productStats?.total.toLocaleString()} termkbl keressk a neked valkat\n              </p>\n            </div>\n          ) : styleDNA ? (\n            <div className=\"space-y-5\">\n              {/* Result */}\n              <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-5 border border-indigo-100\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  <h3 className=\"text-lg font-bold text-gray-900\">A Te Style DNA-d</h3>\n                </div>\n                <p className=\"text-gray-700 leading-relaxed whitespace-pre-wrap\">{styleDNA}</p>\n              </div>\n\n              {/* Recommendations */}\n              {recommendations.length > 0 && (\n                <div>\n                  <h4 className=\"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2\">\n                    <Star className=\"w-4 h-4 text-amber-500\" />\n                    Szemlyre szabott ajnlatok ({recommendations.length})\n                  </h4>\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    {recommendations.slice(0, 6).map((product) => (\n                      <div key={product.id} className=\"bg-gray-50 rounded-lg p-2 text-center hover:bg-indigo-50 transition-colors cursor-pointer\">\n                        <img\n                          src={product.images?.[0] || product.image || '/placeholder.png'}\n                          alt={product.name}\n                          className=\"w-full aspect-square object-contain rounded bg-white mb-1\"\n                          onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/><text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" fill=\"%239ca3af\" font-size=\"12\">Kp</text></svg>'; }}\n                        />\n                        <p className=\"text-[10px] text-gray-600 truncate\">{product.name}</p>\n                        <p className=\"text-xs font-bold text-indigo-600\">{formatPrice(product.salePrice || product.price)}</p>\n                      </div>\n                    ))}\n                  </div>\n                  {recommendations.length > 6 && (\n                    <p className=\"text-center text-xs text-gray-500 mt-2\">\n                      + {recommendations.length - 6} tovbbi ajnlat\n                    </p>\n                  )}\n                </div>\n              )}\n\n              <button\n                onClick={onClose}\n                className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3.5 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2\"\n              >\n                <ShoppingBag className=\"w-5 h-5\" />\n                Termkek megtekintse\n              </button>\n            </div>\n          ) : (\n            <div>\n              {/* Question */}\n              <div className=\"flex items-center gap-3 mb-5\">\n                <div className=\"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center shrink-0\">\n                  <QuestionIcon className=\"w-5 h-5 text-indigo-600\" />\n                </div>\n                <h3 className=\"text-lg font-bold text-gray-900\">{currentQuestion.question}</h3>\n              </div>\n\n              {/* Options */}\n              <div className=\"space-y-2\">\n                {currentQuestion.options.map((option) => {\n                  const OptionIcon = option.icon;\n                  const isSelected = answers[currentQuestion.id] === option.id;\n                  \n                  return (\n                    <button\n                      key={option.id}\n                      onClick={() => handleAnswer(option.id)}\n                      className={`\n                        w-full p-3.5 rounded-xl border-2 text-left transition-all\n                        flex items-center gap-3\n                        ${isSelected \n                          ? 'border-indigo-500 bg-indigo-50' \n                          : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'\n                        }\n                      `}\n                    >\n                      <div className={`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${option.color}`}>\n                        <OptionIcon className=\"w-5 h-5\" />\n                      </div>\n                      <span className=\"text-sm font-medium text-gray-800 flex-1\">{option.label}</span>\n                      {isSelected && <ArrowRight className=\"w-5 h-5 text-indigo-600\" />}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AIStyleQuiz;\n","import React, { useState, useEffect } from 'react';\nimport { Loader2, CheckCircle, XCircle, AlertTriangle, ExternalLink, Server, Shield } from 'lucide-react';\nimport { testConnection, generateText } from '../../services/geminiService';\n\n/**\n * AI Debug Panel - Tesztel panel az AI API mkdsnek ellenrzsre\n * Most mr a backend proxy-n keresztl tesztel (biztonsgos!)\n */\nconst AIDebugPanel = ({ onClose }) => {\n  const [healthStatus, setHealthStatus] = useState(null); // null, 'checking', 'ok', 'error'\n  const [healthMessage, setHealthMessage] = useState('');\n  const [testStatus, setTestStatus] = useState('idle'); // idle, testing, success, error\n  const [testResult, setTestResult] = useState(null);\n  const [errorDetails, setErrorDetails] = useState(null);\n\n  // Auto-check health on open\n  useEffect(() => {\n    checkHealth();\n  }, []);\n\n  const checkHealth = async () => {\n    setHealthStatus('checking');\n    const result = await testConnection();\n    \n    if (result.success) {\n      setHealthStatus('ok');\n      setHealthMessage(result.message || 'AI connected');\n    } else {\n      setHealthStatus('error');\n      setHealthMessage(result.error || 'Connection failed');\n    }\n  };\n\n  const runFullTest = async () => {\n    setTestStatus('testing');\n    setTestResult(null);\n    setErrorDetails(null);\n\n    console.log('=== AI FULL TEST ===');\n\n    try {\n      const result = await generateText(\n        'Mondj egy rvid magyar kszntst, 1 mondat!', \n        { temperature: 0.8, maxTokens: 100 }\n      );\n\n      if (result.success && result.text) {\n        setTestStatus('success');\n        setTestResult(result.text);\n        console.log(' AI TESZT SIKERES:', result.text);\n      } else {\n        setTestStatus('error');\n        setErrorDetails({\n          message: result.error || 'Ismeretlen hiba',\n          suggestion: getSuggestion(result.error)\n        });\n        console.error(' AI TESZT HIBA:', result.error);\n      }\n\n    } catch (error) {\n      console.error(' TESZT EXCEPTION:', error);\n      setTestStatus('error');\n      setErrorDetails({\n        message: error.message,\n        suggestion: 'Hlzati hiba. Ellenrizd, hogy a szerver fut-e.'\n      });\n    }\n  };\n\n  const getSuggestion = (error) => {\n    if (!error) return 'Ismeretlen hiba trtnt.';\n    \n    const e = error.toLowerCase();\n    \n    if (e.includes('api_key') || e.includes('invalid') || e.includes('401') || e.includes('403')) {\n      return 'Az API kulcs rvnytelen vagy nincs belltva a Railway-en. Ellenrizd a GEMINI_API_KEY krnyezeti vltozt!';\n    }\n    if (e.includes('not configured') || e.includes('not set')) {\n      return 'A GEMINI_API_KEY nincs belltva a Railway szerveren. Menj a Railway dashboard-ra s add hozz!';\n    }\n    if (e.includes('network') || e.includes('fetch')) {\n      return 'Nem sikerlt kapcsoldni a szerverhez. Lehet, hogy a Railway szerver nem fut.';\n    }\n    if (e.includes('429') || e.includes('quota') || e.includes('rate')) {\n      return 'Tl sok krs! Vrj egy percet s prbld jra.';\n    }\n    if (e.includes('500') || e.includes('server')) {\n      return 'Szerver hiba. Nzd meg a Railway logokat!';\n    }\n    \n    return 'Ellenrizd a Railway logokat a rszletekrt.';\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-5 text-white\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-xl font-bold flex items-center gap-2\">\n                <Server className=\"w-6 h-6\" />\n                AI Debug Panel\n              </h2>\n              <p className=\"text-white/80 text-sm mt-1 flex items-center gap-1\">\n                <Shield className=\"w-4 h-4\" />\n                Biztonsgos backend proxy\n              </p>\n            </div>\n            <button \n              onClick={onClose}\n              className=\"p-2 hover:bg-white/20 rounded-full transition-colors text-xl\"\n            >\n              \n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-5 space-y-5\">\n          {/* Health Check Status */}\n          <div className={`rounded-xl p-4 ${\n            healthStatus === 'ok' ? 'bg-green-50 border border-green-200' :\n            healthStatus === 'error' ? 'bg-red-50 border border-red-200' :\n            'bg-gray-50 border border-gray-200'\n          }`}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {healthStatus === 'checking' && <Loader2 className=\"w-5 h-5 animate-spin text-gray-500\" />}\n                {healthStatus === 'ok' && <CheckCircle className=\"w-5 h-5 text-green-500\" />}\n                {healthStatus === 'error' && <XCircle className=\"w-5 h-5 text-red-500\" />}\n                {healthStatus === null && <AlertTriangle className=\"w-5 h-5 text-gray-400\" />}\n                \n                <div>\n                  <p className=\"font-bold text-gray-800\">Backend Kapcsolat</p>\n                  <p className={`text-sm ${\n                    healthStatus === 'ok' ? 'text-green-600' :\n                    healthStatus === 'error' ? 'text-red-600' :\n                    'text-gray-500'\n                  }`}>\n                    {healthStatus === 'checking' ? 'Ellenrzs...' :\n                     healthStatus === 'ok' ? ` ${healthMessage}` :\n                     healthStatus === 'error' ? ` ${healthMessage}` :\n                     'Nincs ellenrizve'}\n                  </p>\n                </div>\n              </div>\n              <button\n                onClick={checkHealth}\n                disabled={healthStatus === 'checking'}\n                className=\"px-3 py-1.5 bg-white rounded-lg text-sm font-medium shadow-sm hover:shadow transition-all disabled:opacity-50\"\n              >\n                jra\n              </button>\n            </div>\n          </div>\n\n          {/* Full Test Button */}\n          <button\n            onClick={runFullTest}\n            disabled={testStatus === 'testing'}\n            className=\"w-full py-4 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-3\"\n          >\n            {testStatus === 'testing' ? (\n              <>\n                <Loader2 className=\"w-6 h-6 animate-spin\" />\n                AI Teszt folyamatban...\n              </>\n            ) : (\n              <>\n                 Teljes AI Teszt\n              </>\n            )}\n          </button>\n\n          {/* Test Results */}\n          {testStatus === 'success' && testResult && (\n            <div className=\"bg-green-50 border border-green-200 rounded-xl p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <CheckCircle className=\"w-6 h-6 text-green-500\" />\n                <h3 className=\"font-bold text-green-800\"> AI Mkdik!</h3>\n              </div>\n              <div className=\"bg-white rounded-lg p-3 border border-green-200\">\n                <p className=\"text-gray-700\">{testResult}</p>\n              </div>\n              <p className=\"mt-3 text-sm text-green-700\">\n                Az AI backend helyesen mkdik. Az appok most mr hasznlhatjk az AI-t!\n              </p>\n            </div>\n          )}\n\n          {testStatus === 'error' && errorDetails && (\n            <div className=\"bg-red-50 border border-red-200 rounded-xl p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <XCircle className=\"w-6 h-6 text-red-500\" />\n                <h3 className=\"font-bold text-red-800\"> Hiba!</h3>\n              </div>\n              \n              <div className=\"bg-white rounded-lg p-3 border border-red-200 mb-3\">\n                <p className=\"text-red-700 text-sm\">{errorDetails.message}</p>\n              </div>\n\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                <p className=\"text-yellow-800 font-medium text-sm\"> Javaslat:</p>\n                <p className=\"text-yellow-700 text-sm mt-1\">{errorDetails.suggestion}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Configuration Info */}\n          <div className=\"bg-gray-50 rounded-xl p-4\">\n            <h3 className=\"font-bold text-gray-800 mb-3\"> Konfigurci</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-500\">Backend:</span>\n                <code className=\"bg-gray-200 px-2 py-0.5 rounded text-xs\">Railway Server</code>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-500\">AI Model:</span>\n                <code className=\"bg-gray-200 px-2 py-0.5 rounded text-xs\">gemini-2.0-flash</code>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-500\">API Key:</span>\n                <code className=\"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs\"> Szerveren trolva</code>\n              </div>\n            </div>\n          </div>\n\n          {/* Help Links */}\n          <div className=\"border-t border-gray-200 pt-4\">\n            <h3 className=\"font-bold text-gray-800 mb-3\"> Ha nem mkdik</h3>\n            <div className=\"space-y-2\">\n              <a \n                href=\"https://railway.app/dashboard\" \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\n              >\n                <span className=\"text-blue-700 font-medium\">Railway Dashboard - Logok</span>\n                <ExternalLink className=\"w-5 h-5 text-blue-500\" />\n              </a>\n              <a \n                href=\"https://aistudio.google.com/app/apikey\" \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\n              >\n                <span className=\"text-blue-700 font-medium\">Google AI Studio - j API kulcs</span>\n                <ExternalLink className=\"w-5 h-5 text-blue-500\" />\n              </a>\n            </div>\n          </div>\n\n          {/* Instructions */}\n          <div className=\"bg-indigo-50 rounded-xl p-4 text-sm\">\n            <h4 className=\"font-bold text-indigo-800 mb-2\"> Checklist</h4>\n            <ol className=\"list-decimal list-inside space-y-1.5 text-indigo-700\">\n              <li>Railway-en van <strong>GEMINI_API_KEY</strong> vltoz?</li>\n              <li>Az API kulcs <strong>aktv</strong> a Google AI Studio-ban?</li>\n              <li>A Railway deploy <strong>sikeresen lefutott</strong>?</li>\n              <li>A szerver <strong>fut</strong> (nem \"sleeping\")?</li>\n            </ol>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AIDebugPanel;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { ChevronDown, ChevronUp, ChevronLeft, ChevronRight, Grid3X3 } from 'lucide-react';\nimport { CategoryIcon } from '../ui/Icons';\n\n/**\n * CategorySwipe - Golden Standard Responsive Category Navigation\n * Typography: Mobile 13-14px, Tablet 14px, Desktop 14-15px\n * Touch targets: 44px minimum\n */\nconst CategorySwipe = ({ categories, activeCategory, onCategoryChange, displayedCount }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(true);\n  const scrollRef = useRef(null);\n  \n  const activeData = categories.find(c => c.id === activeCategory);\n  const activeTotalCount = activeData?.totalCount || 0;\n  \n  const VISIBLE_MOBILE = 15;\n  const VISIBLE_DESKTOP = 18;\n  const [isMobile, setIsMobile] = useState(false);\n  \n  useEffect(() => {\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n  \n  const visibleCount = isMobile ? VISIBLE_MOBILE : VISIBLE_DESKTOP;\n  const visibleCategories = isExpanded ? categories : categories.slice(0, visibleCount);\n  const hasMore = categories.length > visibleCount;\n  \n  const updateScrollIndicators = () => {\n    if (scrollRef.current) {\n      const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;\n      setCanScrollLeft(scrollLeft > 5);\n      setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 5);\n    }\n  };\n  \n  useEffect(() => {\n    updateScrollIndicators();\n    const el = scrollRef.current;\n    if (el) {\n      el.addEventListener('scroll', updateScrollIndicators);\n      return () => el.removeEventListener('scroll', updateScrollIndicators);\n    }\n  }, [categories]);\n  \n  const scroll = (direction) => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollBy({ \n        left: direction === 'left' ? -200 : 200, \n        behavior: 'smooth' \n      });\n    }\n  };\n\n  useEffect(() => {\n    if (scrollRef.current && isMobile) {\n      const activeEl = scrollRef.current.querySelector(`[data-category=\"${activeCategory}\"]`);\n      activeEl?.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });\n    }\n  }, [activeCategory, isMobile]);\n\n  return (\n    <div className=\"bg-white rounded-xl sm:rounded-2xl lg:rounded-3xl shadow-sm border border-gray-100 mb-4 sm:mb-6 lg:mb-8 xl:mb-10 overflow-hidden\">\n      {/* Header - UNIFIED spacing */}\n      <div className=\"px-3 sm:px-5 lg:px-8 xl:px-10 py-3 sm:py-4 lg:py-6 xl:py-7 bg-gradient-to-r from-indigo-50/80 via-purple-50/50 to-pink-50/30 border-b border-gray-100\">\n        <div className=\"flex items-center justify-between gap-3 lg:gap-6\">\n          <div className=\"flex items-center gap-2 sm:gap-3 lg:gap-5 min-w-0\">\n            <div className=\"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 xl:w-20 xl:h-20 rounded-xl lg:rounded-2xl xl:rounded-3xl bg-indigo-100 flex items-center justify-center shrink-0\">\n              <Grid3X3 className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 xl:w-10 xl:h-10 text-indigo-600\" />\n            </div>\n            <div className=\"min-w-0\">\n              <h3 className=\"text-base sm:text-lg lg:text-2xl xl:text-3xl font-bold text-gray-900\">Kategrik</h3>\n              <p className=\"text-xs sm:text-sm lg:text-base xl:text-lg text-gray-500 hidden sm:block\">{categories.length} kategria</p>\n            </div>\n          </div>\n          \n          {/* Counter - UNIFIED */}\n          <div className=\"text-right shrink-0\">\n            <div className=\"text-sm sm:text-base lg:text-xl xl:text-2xl text-gray-700\">\n              <span className=\"font-bold text-indigo-600\">{displayedCount?.toLocaleString('hu-HU') || 0}</span>\n              <span className=\"text-gray-400 mx-1\">/</span>\n              <span className=\"font-semibold\">{activeTotalCount.toLocaleString('hu-HU')}</span>\n            </div>\n            <p className=\"text-xs sm:text-sm lg:text-base xl:text-lg text-gray-400\">termk lthat</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile: Horizontal Scroll */}\n      <div className=\"md:hidden relative\">\n        {canScrollLeft && (\n          <>\n            <div className=\"absolute left-0 top-0 bottom-0 w-6 bg-gradient-to-r from-white to-transparent z-10 pointer-events-none\" />\n            <button\n              onClick={() => scroll('left')}\n              className=\"absolute left-1 top-1/2 -translate-y-1/2 z-20 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center\"\n            >\n              <ChevronLeft className=\"w-4 h-4 text-gray-600\" />\n            </button>\n          </>\n        )}\n        {canScrollRight && (\n          <>\n            <div className=\"absolute right-0 top-0 bottom-0 w-6 bg-gradient-to-l from-white to-transparent z-10 pointer-events-none\" />\n            <button\n              onClick={() => scroll('right')}\n              className=\"absolute right-1 top-1/2 -translate-y-1/2 z-20 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center\"\n            >\n              <ChevronRight className=\"w-4 h-4 text-gray-600\" />\n            </button>\n          </>\n        )}\n        \n        <div \n          ref={scrollRef}\n          className=\"flex gap-2 overflow-x-auto py-3 px-3 scrollbar-hide\"\n        >\n          {visibleCategories.map((category) => (\n            <button\n              key={category.id}\n              data-category={category.id}\n              onClick={() => onCategoryChange(category.id)}\n              className={`\n                shrink-0 px-3 py-2.5 min-h-[44px] rounded-xl text-[13px] font-semibold transition-all whitespace-nowrap\n                flex items-center gap-1.5\n                ${category.id === activeCategory\n                  ? 'bg-indigo-600 text-white shadow-md'\n                  : 'bg-gray-100 text-gray-700 active:bg-gray-200'\n                }\n              `}\n            >\n              <CategoryIcon name={category.name} className=\"w-4 h-4 shrink-0\" />\n              {category.name}\n            </button>\n          ))}\n          \n          {hasMore && !isExpanded && (\n            <button\n              onClick={() => setIsExpanded(true)}\n              className=\"shrink-0 px-3 py-2.5 min-h-[44px] rounded-xl text-[13px] font-semibold bg-indigo-50 text-indigo-600 whitespace-nowrap\"\n            >\n              +{categories.length - visibleCount}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Desktop: Grid Layout - UNIFIED spacing */}\n      <div className=\"hidden md:block p-4 lg:p-6 xl:p-8 2xl:p-10\">\n        <div className=\"flex flex-wrap gap-2 lg:gap-3 xl:gap-4\">\n          {visibleCategories.map((category) => (\n            <button\n              key={category.id}\n              onClick={() => onCategoryChange(category.id)}\n              className={`\n                px-4 lg:px-5 xl:px-7 2xl:px-8 py-2.5 lg:py-3 xl:py-4 rounded-xl lg:rounded-2xl text-sm lg:text-base xl:text-lg 2xl:text-xl font-semibold transition-all\n                flex items-center gap-2 lg:gap-2.5 xl:gap-3\n                ${category.id === activeCategory\n                  ? 'bg-indigo-600 text-white shadow-lg scale-[1.02]'\n                  : 'bg-gray-50 text-gray-700 hover:bg-gray-100 hover:shadow-md'\n                }\n              `}\n            >\n              <CategoryIcon name={category.name} className=\"w-4 h-4 lg:w-5 lg:h-5 xl:w-6 xl:h-6 2xl:w-7 2xl:h-7 shrink-0\" />\n              {category.name}\n            </button>\n          ))}\n        </div>\n\n        {hasMore && (\n          <button\n            onClick={() => setIsExpanded(!isExpanded)}\n            className=\"mt-5 lg:mt-6 xl:mt-8 w-full py-3.5 lg:py-4 xl:py-5 text-base lg:text-lg xl:text-xl 2xl:text-2xl text-indigo-600 hover:text-indigo-700 font-bold flex items-center justify-center gap-2 lg:gap-3 transition-colors rounded-xl lg:rounded-2xl hover:bg-indigo-50\"\n          >\n            {isExpanded ? (\n              <>\n                <ChevronUp className=\"w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7\" />\n                Kevesebb\n              </>\n            ) : (\n              <>\n                <ChevronDown className=\"w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7\" />\n                Mind a {categories.length} kategria\n              </>\n            )}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CategorySwipe;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Heart, Eye, ShoppingBag } from 'lucide-react';\nimport { SmartBadges, StockBadge } from '../ui/Badge';\n\n// Tiny placeholder for blur-up effect (1x1 transparent pixel)\nconst BLUR_PLACEHOLDER = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1 1\"%3E%3Crect fill=\"%23f3f4f6\" width=\"1\" height=\"1\"/%3E%3C/svg%3E';\n\nconst PLACEHOLDER_IMAGE = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\" viewBox=\"0 0 400 400\"%3E%3Crect fill=\"%23f3f4f6\" width=\"400\" height=\"400\"/%3E%3Ctext fill=\"%239ca3af\" font-family=\"sans-serif\" font-size=\"14\" x=\"50%25\" y=\"50%25\" text-anchor=\"middle\" dy=\".3em\"%3ENo Image%3C/text%3E%3C/svg%3E';\n\n/**\n * Enhanced Product Card with:\n * - Blur-up lazy loading images\n * - Smart badges (New, Sale, Popular)\n * - Micro-interactions\n * - Scroll animations\n */\nexport const EnhancedProductCard = ({ \n  product, \n  onToggleWishlist, \n  isWishlisted, \n  onQuickView,\n  onAddToCart,\n  index = 0\n}) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const [isVisible, setIsVisible] = useState(false);\n  const cardRef = useRef(null);\n\n  const images = product.images || [];\n  const mainImage = images[0] || PLACEHOLDER_IMAGE;\n\n  const discount = product.salePrice && product.price > product.salePrice\n    ? Math.round(((product.price - product.salePrice) / product.price) * 100)\n    : 0;\n\n  const displayPrice = product.salePrice || product.price;\n  const inStock = product.inStock ?? product.in_stock ?? true;\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('hu-HU', { \n      style: 'currency', \n      currency: 'HUF', \n      maximumFractionDigits: 0 \n    }).format(price);\n  };\n\n  // Intersection Observer for scroll animation - optimized\n  useEffect(() => {\n    const element = cardRef.current;\n    if (!element) return;\n\n    // Use requestIdleCallback for non-critical animation\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          // Minimal stagger, max 100ms\n          const delay = Math.min((index % 4) * 25, 100);\n          if (delay > 0) {\n            setTimeout(() => setIsVisible(true), delay);\n          } else {\n            setIsVisible(true);\n          }\n          observer.disconnect();\n        }\n      },\n      { threshold: 0.05, rootMargin: '100px 0px' }\n    );\n\n    observer.observe(element);\n    return () => observer.disconnect();\n  }, [index]);\n\n  return (\n    <article \n      ref={cardRef}\n      className={`\n        group relative bg-white rounded-xl sm:rounded-2xl lg:rounded-2xl xl:rounded-3xl overflow-hidden \n        border border-gray-100 shadow-sm hover:shadow-xl h-full flex flex-col\n        hover-card tap-scale\n        ${isVisible ? 'opacity-100' : 'opacity-0 translate-y-3'}\n      `}\n      style={{ \n        transition: 'opacity 0.3s ease-out, transform 0.3s ease-out, box-shadow 0.2s ease-out',\n        willChange: isVisible ? 'auto' : 'opacity, transform'\n      }}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      {/* Smart Badges - VISIBLE and clear */}\n      <div className=\"absolute top-2 sm:top-3 lg:top-4 xl:top-5 left-2 sm:left-3 lg:left-4 xl:left-5 z-20\">\n        <SmartBadges product={product} maxBadges={2} />\n      </div>\n\n      {/* Wishlist Button - UNIFIED touch target */}\n      <button \n        onClick={(e) => { \n          e.stopPropagation(); \n          onToggleWishlist?.(product.id); \n        }} \n        className={`\n          absolute top-2 sm:top-3 lg:top-4 xl:top-5 right-2 sm:right-3 lg:right-4 xl:right-5 z-20\n          w-10 h-10 sm:w-11 sm:h-11 lg:w-12 lg:h-12 xl:w-14 xl:h-14 flex items-center justify-center \n          rounded-full shadow-lg tap-scale\n          ${isWishlisted \n            ? 'bg-red-500 text-white' \n            : 'bg-white/95 text-gray-500 hover:text-red-500'\n          }\n        `}\n        style={{ transition: 'background-color 0.15s, color 0.15s' }}\n        aria-label={isWishlisted ? 'Eltvolts' : 'Kedvencekhez'}\n      >\n        <Heart className={`w-5 h-5 sm:w-5 sm:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 ${isWishlisted ? 'fill-current' : ''}`} />\n      </button>\n\n      {/* Image Section - FILL the space */}\n      <div \n        onClick={() => onQuickView?.(product)} \n        className=\"relative aspect-square overflow-hidden bg-gray-50 cursor-pointer\"\n      >\n        {/* Simple placeholder */}\n        {!imageLoaded && (\n          <div className=\"absolute inset-0 bg-gray-100\" />\n        )}\n        \n        {/* Actual image - generous padding for clarity */}\n        <img \n          src={imageError ? PLACEHOLDER_IMAGE : mainImage}\n          alt={product.name} \n          className={`\n            w-full h-full object-contain p-3 sm:p-4 lg:p-6 xl:p-8\n            transition-opacity duration-300 ease-out\n            ${imageLoaded ? 'opacity-100' : 'opacity-0'}\n          `}\n          style={{ transform: 'translateZ(0)' }}\n          loading=\"lazy\"\n          decoding=\"async\"\n          onLoad={() => setImageLoaded(true)}\n          onError={() => { setImageError(true); setImageLoaded(true); }}\n        />\n        \n        {/* Stock badge */}\n        <div className=\"absolute bottom-2 sm:bottom-3 lg:bottom-4 left-2 sm:left-3 lg:left-4\">\n          <StockBadge inStock={inStock} />\n        </div>\n        \n        {/* Desktop hover overlay - lightweight */}\n        <div \n          className=\"hidden md:flex absolute inset-0 bg-black/40 items-end justify-center pb-6 lg:pb-8 xl:pb-10 transition-opacity duration-200\"\n          style={{ opacity: isHovered ? 1 : 0, pointerEvents: isHovered ? 'auto' : 'none' }}\n        >\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onQuickView?.(product);\n            }}\n            className=\"bg-white text-gray-900 px-5 py-2.5 lg:px-6 lg:py-3 xl:px-8 xl:py-4 rounded-full text-sm lg:text-base xl:text-lg font-bold shadow-lg flex items-center gap-2 lg:gap-3 hover:bg-gray-50 tap-scale\"\n          >\n            <Eye className=\"w-4 h-4 lg:w-5 lg:h-5 xl:w-6 xl:h-6\" /> \n            Megnzem\n          </button>\n        </div>\n      </div>\n\n      {/* Content Section - UNIFIED typography scale */}\n      <div className=\"p-3 sm:p-4 lg:p-5 xl:p-6 flex flex-col flex-1\">\n        {/* Category - visible */}\n        <span className=\"text-xs sm:text-xs lg:text-sm xl:text-base font-bold text-indigo-600 uppercase tracking-wide mb-1 lg:mb-2 truncate\">\n          {product.category}\n        </span>\n        \n        {/* Product Name - UNIFIED scale */}\n        <h3 \n          onClick={() => onQuickView?.(product)} \n          className=\"text-base sm:text-lg lg:text-xl xl:text-2xl font-bold text-gray-900 line-clamp-2 leading-tight cursor-pointer hover:text-indigo-600 transition-colors mb-2 lg:mb-3\" \n          title={product.name}\n        >\n          {product.name}\n        </h3>\n        \n        {/* Price Section - UNIFIED scale */}\n        <div className=\"mt-auto pt-2 lg:pt-3 border-t border-gray-100\">\n          <div className=\"flex justify-between items-center gap-2 lg:gap-3\">\n            <div className=\"min-w-0\">\n              {discount > 0 && (\n                <span className=\"text-sm sm:text-sm lg:text-base text-gray-400 line-through block\">\n                  {formatPrice(product.price)}\n                </span>\n              )}\n              <span className={`text-lg sm:text-xl lg:text-2xl xl:text-3xl font-black ${discount > 0 ? 'text-red-600' : 'text-gray-900'}`}>\n                {formatPrice(displayPrice)}\n              </span>\n            </div>\n            \n            {/* Quick View Button - UNIFIED */}\n            <button \n              onClick={(e) => { \n                e.stopPropagation(); \n                onQuickView?.(product); \n              }} \n              className=\"shrink-0 w-10 h-10 lg:w-12 lg:h-12 xl:w-14 xl:h-14 flex items-center justify-center bg-indigo-600 text-white rounded-xl lg:rounded-2xl hover:bg-indigo-700 transition-all tap-scale\"\n              aria-label=\"Rszletek\"\n            >\n              <Eye className=\"w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </article>\n  );\n};\n\nexport default EnhancedProductCard;\n","import React, { useMemo, useState, useEffect, useRef, useCallback } from 'react';\nimport { \n  ArrowLeft, TrendingUp, Package, Tag, Sparkles, \n  ChevronRight, Filter, Grid3X3, List, Star, Home,\n  ArrowUpDown, SlidersHorizontal, X, Check, LayoutGrid,\n  Rows3, Plus, GitCompare, ChevronDown, ChevronUp\n} from 'lucide-react';\nimport { getCategoryIcon } from '../ui/Icons';\nimport { EnhancedProductCard } from '../product/EnhancedProductCard';\n\n/**\n * Category Images - unsplash stock photos by category\n */\nconst CATEGORY_IMAGES = {\n  'Kanap': 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&q=80',\n  'Kanapk': 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&q=80',\n  'Fotel': 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=1200&q=80',\n  'Nappali': 'https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=1200&q=80',\n  'gy': 'https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=1200&q=80',\n  'Hlszoba': 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=1200&q=80',\n  'Matrac': 'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=1200&q=80',\n  'Asztal': 'https://images.unsplash.com/photo-1611269154421-4e27233ac5c7?w=1200&q=80',\n  'Szk': 'https://images.unsplash.com/photo-1503602642458-232111445657?w=1200&q=80',\n  'Iroda': 'https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=1200&q=80',\n  'Szekrny': 'https://images.unsplash.com/photo-1595428774223-ef52624120d2?w=1200&q=80',\n  'Lmpa': 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=1200&q=80',\n  'Kert': 'https://images.unsplash.com/photo-1600210492493-0946911123ea?w=1200&q=80',\n  'default': 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&q=80'\n};\n\nconst getCategoryImage = (name) => {\n  for (const [key, url] of Object.entries(CATEGORY_IMAGES)) {\n    if (name?.toLowerCase().includes(key.toLowerCase())) return url;\n  }\n  return CATEGORY_IMAGES.default;\n};\n\n/**\n * Category color themes\n */\nconst getCategoryTheme = (categoryName) => {\n  const themes = {\n    'Kanap': { gradient: 'from-blue-600/90 to-indigo-800/90', accent: 'indigo' },\n    'Fotel': { gradient: 'from-indigo-600/90 to-purple-800/90', accent: 'purple' },\n    'Nappali': { gradient: 'from-violet-600/90 to-purple-800/90', accent: 'violet' },\n    'gy': { gradient: 'from-purple-600/90 to-pink-800/90', accent: 'purple' },\n    'Hlszoba': { gradient: 'from-purple-600/90 to-pink-800/90', accent: 'pink' },\n    'Asztal': { gradient: 'from-amber-600/90 to-orange-800/90', accent: 'amber' },\n    'Szk': { gradient: 'from-yellow-600/90 to-amber-800/90', accent: 'yellow' },\n    'Iroda': { gradient: 'from-slate-600/90 to-gray-800/90', accent: 'slate' },\n    'Szekrny': { gradient: 'from-teal-600/90 to-cyan-800/90', accent: 'teal' },\n    'Lmpa': { gradient: 'from-yellow-500/90 to-orange-700/90', accent: 'yellow' },\n    'Kert': { gradient: 'from-green-600/90 to-emerald-800/90', accent: 'green' },\n    default: { gradient: 'from-indigo-600/90 to-purple-800/90', accent: 'indigo' }\n  };\n  \n  for (const [key, theme] of Object.entries(themes)) {\n    if (categoryName?.toLowerCase().includes(key.toLowerCase())) return theme;\n  }\n  return themes.default;\n};\n\n/**\n * Breadcrumb Navigation\n */\nconst Breadcrumb = ({ category, onBack }) => (\n  <nav className=\"flex items-center gap-2 text-sm mb-4 animate-fade-in\">\n    <button onClick={onBack} className=\"flex items-center gap-1 text-white/70 hover:text-white transition-colors\">\n      <Home className=\"w-4 h-4\" />\n      <span>Foldal</span>\n    </button>\n    <ChevronRight className=\"w-4 h-4 text-white/50\" />\n    <span className=\"text-white font-medium\">{category}</span>\n  </nav>\n);\n\n/**\n * Category Hero with Image Background\n */\nconst CategoryHero = ({ category, productCount, theme, onBack }) => {\n  const CategoryIcon = getCategoryIcon(category);\n  const bgImage = getCategoryImage(category);\n  \n  return (\n    <div className=\"relative overflow-hidden\">\n      {/* Background Image */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center\"\n        style={{ backgroundImage: `url(${bgImage})` }}\n      />\n      \n      {/* Gradient Overlay */}\n      <div className={`absolute inset-0 bg-gradient-to-br ${theme.gradient}`} />\n      \n      {/* Content - FULL WIDTH and LARGER on desktop */}\n      <div className=\"relative w-full max-w-[2000px] mx-auto px-4 sm:px-6 lg:px-10 xl:px-16 py-12 sm:py-20 lg:py-28 xl:py-36 text-white\">\n        <Breadcrumb category={category} onBack={onBack} />\n        \n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-6 sm:gap-10 lg:gap-14\">\n          <div className=\"w-20 h-20 sm:w-28 sm:h-28 lg:w-36 lg:h-36 xl:w-40 xl:h-40 bg-white/20 backdrop-blur rounded-2xl lg:rounded-3xl flex items-center justify-center animate-scale-in\">\n            <CategoryIcon className=\"w-10 h-10 sm:w-14 sm:h-14 lg:w-18 lg:h-18 xl:w-20 xl:h-20 text-white\" />\n          </div>\n          \n          <div className=\"animate-fade-in-up\">\n            <h1 className=\"text-4xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold mb-3 lg:mb-5\">\n              {category}\n            </h1>\n            <p className=\"text-white/80 text-lg sm:text-xl lg:text-2xl xl:text-3xl\">\n              <span className=\"font-semibold text-white\">{productCount.toLocaleString('hu-HU')}</span> termk ebben a kategriban\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Sidebar Filters\n */\nconst SidebarFilters = ({ \n  products, \n  filters, \n  onFilterChange, \n  priceRange, \n  onPriceRangeChange,\n  isOpen,\n  onClose\n}) => {\n  // Extract unique values from products\n  const filterOptions = useMemo(() => {\n    const brands = new Set();\n    const colors = new Set();\n    \n    products.forEach(p => {\n      if (p.brand) brands.add(p.brand);\n      if (p.color) colors.add(p.color);\n    });\n    \n    const prices = products.map(p => p.salePrice || p.price).filter(p => p > 0);\n    const minPrice = Math.min(...prices) || 0;\n    const maxPrice = Math.max(...prices) || 1000000;\n    \n    return {\n      brands: Array.from(brands).sort(),\n      colors: Array.from(colors).sort(),\n      priceMin: minPrice,\n      priceMax: maxPrice\n    };\n  }, [products]);\n\n  const toggleFilter = (type, value) => {\n    const current = filters[type] || [];\n    const updated = current.includes(value)\n      ? current.filter(v => v !== value)\n      : [...current, value];\n    onFilterChange({ ...filters, [type]: updated });\n  };\n\n  const FilterSection = ({ title, items, type, icon: Icon }) => (\n    <div className=\"border-b border-gray-100 pb-4 mb-4\">\n      <h4 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n        {Icon && <Icon className=\"w-4 h-4 text-gray-400\" />}\n        {title}\n      </h4>\n      <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n        {items.map(item => (\n          <label key={item} className=\"flex items-center gap-2 cursor-pointer group\">\n            <input\n              type=\"checkbox\"\n              checked={(filters[type] || []).includes(item)}\n              onChange={() => toggleFilter(type, item)}\n              className=\"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\n            />\n            <span className=\"text-sm text-gray-600 group-hover:text-gray-900\">{item}</span>\n          </label>\n        ))}\n      </div>\n    </div>\n  );\n\n  const content = (\n    <div className=\"p-4 sm:p-0\">\n      <div className=\"flex items-center justify-between mb-6 sm:hidden\">\n        <h3 className=\"text-lg font-bold text-gray-900\">Szrk</h3>\n        <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      {/* Price Range */}\n      <div className=\"border-b border-gray-100 pb-4 mb-4\">\n        <h4 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n          <Tag className=\"w-4 h-4 text-gray-400\" />\n          rtartomny\n        </h4>\n        <div className=\"space-y-3\">\n          <input\n            type=\"range\"\n            min={filterOptions.priceMin}\n            max={filterOptions.priceMax}\n            value={priceRange[1]}\n            onChange={(e) => onPriceRangeChange([priceRange[0], parseInt(e.target.value)])}\n            className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600\"\n          />\n          <div className=\"flex justify-between text-sm text-gray-500\">\n            <span>{priceRange[0].toLocaleString('hu-HU')} Ft</span>\n            <span>{priceRange[1].toLocaleString('hu-HU')} Ft</span>\n          </div>\n        </div>\n      </div>\n\n      {filterOptions.brands.length > 0 && (\n        <FilterSection title=\"Mrka\" items={filterOptions.brands} type=\"brands\" icon={Package} />\n      )}\n      \n      {filterOptions.colors.length > 0 && (\n        <FilterSection title=\"Szn\" items={filterOptions.colors} type=\"colors\" icon={Tag} />\n      )}\n\n      {/* Stock Filter */}\n      <div className=\"pb-4\">\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={filters.inStockOnly}\n            onChange={() => onFilterChange({ ...filters, inStockOnly: !filters.inStockOnly })}\n            className=\"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\n          />\n          <span className=\"text-sm text-gray-700\">Csak kszleten</span>\n        </label>\n      </div>\n\n      {/* Clear Filters */}\n      <button\n        onClick={() => onFilterChange({})}\n        className=\"w-full py-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium\"\n      >\n        Szrk trlse\n      </button>\n    </div>\n  );\n\n  return (\n    <>\n      {/* Desktop Sidebar */}\n      <div className=\"hidden lg:block w-64 shrink-0\">\n        <div className=\"sticky top-24 bg-white rounded-2xl border border-gray-100 p-5\">\n          <h3 className=\"font-bold text-gray-900 mb-4 flex items-center gap-2\">\n            <SlidersHorizontal className=\"w-5 h-5\" />\n            Szrk\n          </h3>\n          {content}\n        </div>\n      </div>\n\n      {/* Mobile Drawer */}\n      {isOpen && (\n        <div className=\"lg:hidden fixed inset-0 z-50\">\n          <div className=\"absolute inset-0 bg-black/50\" onClick={onClose} />\n          <div className=\"absolute right-0 top-0 bottom-0 w-80 max-w-full bg-white animate-fade-in-right\">\n            {content}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\n/**\n * Related Categories\n */\nconst RelatedCategories = ({ currentCategory, allCategories, onCategoryChange }) => {\n  // Find related categories (same \"type\" or popular ones)\n  const related = useMemo(() => {\n    return allCategories\n      .filter(cat => cat.name !== currentCategory && cat.name !== 'sszes' && cat.count > 0)\n      .slice(0, 6);\n  }, [allCategories, currentCategory]);\n\n  if (related.length === 0) return null;\n\n  return (\n    <div className=\"bg-gray-50 rounded-2xl p-4 sm:p-6 mb-6\">\n      <h3 className=\"font-bold text-gray-900 mb-4 flex items-center gap-2\">\n        <Grid3X3 className=\"w-5 h-5 text-gray-400\" />\n        Kapcsold kategrik\n      </h3>\n      <div className=\"flex flex-wrap gap-2\">\n        {related.map(cat => {\n          const Icon = getCategoryIcon(cat.name);\n          return (\n            <button\n              key={cat.name}\n              onClick={() => onCategoryChange(cat.name)}\n              className=\"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-colors tap-scale\"\n            >\n              <Icon className=\"w-4 h-4 text-gray-500\" />\n              <span className=\"text-sm font-medium text-gray-700\">{cat.name}</span>\n              <span className=\"text-xs text-gray-400\">({cat.count})</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n/**\n * Price Statistics Card\n */\nconst PriceStats = ({ products }) => {\n  const stats = useMemo(() => {\n    if (!products || products.length === 0) return null;\n    const prices = products.map(p => p.salePrice || p.price).filter(p => p > 0);\n    if (prices.length === 0) return null;\n    return {\n      min: Math.min(...prices),\n      max: Math.max(...prices),\n      avg: prices.reduce((a, b) => a + b, 0) / prices.length,\n      inStock: products.filter(p => p.inStock !== false).length\n    };\n  }, [products]);\n  \n  if (!stats) return null;\n  \n  const formatPrice = (price) => new Intl.NumberFormat('hu-HU', { \n    style: 'currency', currency: 'HUF', maximumFractionDigits: 0 \n  }).format(price);\n  \n  return (\n    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6\">\n      {[\n        { label: 'Legolcsbb', value: formatPrice(stats.min), color: 'text-green-600' },\n        { label: 'tlagr', value: formatPrice(stats.avg), color: 'text-gray-900' },\n        { label: 'Legdrgbb', value: formatPrice(stats.max), color: 'text-gray-900' },\n        { label: 'Kszleten', value: `${stats.inStock} db`, color: 'text-indigo-600' }\n      ].map((stat, i) => (\n        <div key={i} className=\"bg-white rounded-xl p-3 sm:p-4 border border-gray-100\">\n          <p className=\"text-xs text-gray-500 mb-1\">{stat.label}</p>\n          <p className={`text-base sm:text-lg font-bold ${stat.color}`}>{stat.value}</p>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n/**\n * Featured Products\n */\nconst FeaturedProducts = ({ products, onProductClick, onWishlistToggle, wishlist }) => {\n  const featured = useMemo(() => {\n    return products\n      .filter(p => p.salePrice && p.price > p.salePrice)\n      .sort((a, b) => ((b.price - b.salePrice) / b.price) - ((a.price - a.salePrice) / a.price))\n      .slice(0, 6);\n  }, [products]);\n  \n  if (featured.length === 0) return null;\n  \n  return (\n    <div className=\"mb-6\">\n      <h3 className=\"font-bold text-gray-900 mb-4 flex items-center gap-2\">\n        <Star className=\"w-5 h-5 text-amber-500\" />\n        Kiemelt ajnlatok\n      </h3>\n      <div className=\"flex gap-4 overflow-x-auto pb-4 scrollbar-hide -mx-4 px-4\">\n        {featured.map((product, index) => (\n          <div key={product.id} className=\"w-44 sm:w-52 shrink-0\">\n            <EnhancedProductCard\n              product={product}\n              onQuickView={onProductClick}\n              onToggleWishlist={onWishlistToggle}\n              isWishlisted={wishlist?.includes(product.id)}\n              index={index}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n/**\n * Compact Product Card\n */\nconst CompactProductCard = ({ product, onQuickView, onToggleWishlist, isWishlisted, onCompare, isComparing }) => {\n  const displayPrice = product.salePrice || product.price;\n  const hasDiscount = product.salePrice && product.price > product.salePrice;\n  \n  return (\n    <div className=\"flex gap-3 p-3 bg-white rounded-xl border border-gray-100 hover:shadow-md transition-shadow tap-scale\">\n      <img \n        src={product.images?.[0] || '/placeholder.png'}\n        alt={product.name}\n        className=\"w-20 h-20 object-contain rounded-lg bg-gray-50 shrink-0 cursor-pointer\"\n        onClick={() => onQuickView(product)}\n      />\n      <div className=\"flex-1 min-w-0\">\n        <p className=\"text-xs text-indigo-600 font-medium mb-1\">{product.category}</p>\n        <h4 \n          className=\"text-sm font-semibold text-gray-900 line-clamp-2 cursor-pointer hover:text-indigo-600\"\n          onClick={() => onQuickView(product)}\n        >\n          {product.name}\n        </h4>\n        <div className=\"flex items-center justify-between mt-2\">\n          <div>\n            {hasDiscount && (\n              <span className=\"text-xs text-gray-400 line-through mr-2\">\n                {product.price.toLocaleString('hu-HU')} Ft\n              </span>\n            )}\n            <span className={`font-bold ${hasDiscount ? 'text-red-600' : 'text-gray-900'}`}>\n              {displayPrice.toLocaleString('hu-HU')} Ft\n            </span>\n          </div>\n          <div className=\"flex gap-1\">\n            <button\n              onClick={() => onCompare?.(product)}\n              className={`p-1.5 rounded-lg transition-colors ${isComparing ? 'bg-indigo-100 text-indigo-600' : 'hover:bg-gray-100 text-gray-400'}`}\n            >\n              <GitCompare className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={() => onToggleWishlist(product.id)}\n              className={`p-1.5 rounded-lg transition-colors ${isWishlisted ? 'bg-red-100 text-red-500' : 'hover:bg-gray-100 text-gray-400'}`}\n            >\n              <Star className={`w-4 h-4 ${isWishlisted ? 'fill-current' : ''}`} />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * AI Recommendations Banner\n */\nconst AIBanner = ({ category, onAskAI }) => (\n  <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-4 sm:p-6 text-white mb-6 animate-fade-in\">\n    <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4\">\n      <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center shrink-0\">\n        <Sparkles className=\"w-6 h-6\" />\n      </div>\n      <div className=\"flex-1\">\n        <h3 className=\"font-bold text-lg mb-1\">AI segt vlasztani</h3>\n        <p className=\"text-white/80 text-sm\">Melyik {category.toLowerCase()} illik hozzd?</p>\n      </div>\n      <button\n        onClick={onAskAI}\n        className=\"w-full sm:w-auto px-5 py-2.5 bg-white text-indigo-600 rounded-xl font-semibold hover:bg-indigo-50 transition-colors tap-scale\"\n      >\n        AI Tancsad\n      </button>\n    </div>\n  </div>\n);\n\n/**\n * View & Sort Controls\n */\nconst ViewControls = ({ \n  sortOption, onSortChange, \n  viewMode, onViewModeChange, \n  productCount,\n  onOpenFilters,\n  compareCount\n}) => (\n  <div className=\"flex flex-wrap items-center justify-between gap-3 mb-4 pb-4 border-b border-gray-100\">\n    <div className=\"flex items-center gap-3\">\n      <button\n        onClick={onOpenFilters}\n        className=\"lg:hidden flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm font-medium text-gray-700 tap-scale\"\n      >\n        <Filter className=\"w-4 h-4\" />\n        Szrk\n      </button>\n      <p className=\"text-sm text-gray-500\">\n        <span className=\"font-semibold text-gray-900\">{productCount}</span> termk\n      </p>\n      {compareCount > 0 && (\n        <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full\">\n          {compareCount} sszehasonltsra\n        </span>\n      )}\n    </div>\n    \n    <div className=\"flex items-center gap-2\">\n      <select\n        value={sortOption}\n        onChange={(e) => onSortChange(e.target.value)}\n        className=\"px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white focus:border-indigo-500 outline-none\"\n      >\n        <option value=\"default\">Relevancia</option>\n        <option value=\"price-asc\">r </option>\n        <option value=\"price-desc\">r </option>\n        <option value=\"name-asc\">Nv A-Z</option>\n        <option value=\"discount\">Kedvezmny</option>\n      </select>\n      \n      <div className=\"hidden sm:flex border border-gray-200 rounded-lg overflow-hidden\">\n        {[\n          { mode: 'grid', icon: LayoutGrid },\n          { mode: 'compact', icon: Rows3 },\n        ].map(({ mode, icon: Icon }) => (\n          <button\n            key={mode}\n            onClick={() => onViewModeChange(mode)}\n            className={`p-2 ${viewMode === mode ? 'bg-indigo-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-50'}`}\n          >\n            <Icon className=\"w-5 h-5\" />\n          </button>\n        ))}\n      </div>\n    </div>\n  </div>\n);\n\n/**\n * Main Category Page Component\n */\nconst CategoryPage = ({\n  category,\n  products,\n  allCategories = [],\n  onBack,\n  onProductClick,\n  onWishlistToggle,\n  onCategoryChange,\n  wishlist,\n  onAskAI,\n  visibleCount,\n  onLoadMore\n}) => {\n  const [sortOption, setSortOption] = useState('default');\n  const [viewMode, setViewMode] = useState('grid');\n  const [filters, setFilters] = useState({});\n  const [priceRange, setPriceRange] = useState([0, 10000000]);\n  const [showFilters, setShowFilters] = useState(false);\n  const [compareList, setCompareList] = useState([]);\n  const loadMoreRef = useRef(null);\n  \n  const theme = getCategoryTheme(category);\n  \n  // Initialize price range from products\n  useEffect(() => {\n    if (products.length > 0) {\n      const prices = products.map(p => p.salePrice || p.price).filter(p => p > 0);\n      if (prices.length > 0) {\n        setPriceRange([Math.min(...prices), Math.max(...prices)]);\n      }\n    }\n  }, [products]);\n  \n  // Filter and sort products\n  const displayedProducts = useMemo(() => {\n    let filtered = [...products];\n    \n    // Price filter\n    filtered = filtered.filter(p => {\n      const price = p.salePrice || p.price;\n      return price >= priceRange[0] && price <= priceRange[1];\n    });\n    \n    // Brand filter\n    if (filters.brands?.length > 0) {\n      filtered = filtered.filter(p => filters.brands.includes(p.brand));\n    }\n    \n    // Color filter\n    if (filters.colors?.length > 0) {\n      filtered = filtered.filter(p => filters.colors.includes(p.color));\n    }\n    \n    // In stock only\n    if (filters.inStockOnly) {\n      filtered = filtered.filter(p => p.inStock !== false);\n    }\n    \n    // Sort\n    switch (sortOption) {\n      case 'price-asc':\n        filtered.sort((a, b) => (a.salePrice || a.price) - (b.salePrice || b.price));\n        break;\n      case 'price-desc':\n        filtered.sort((a, b) => (b.salePrice || b.price) - (a.salePrice || a.price));\n        break;\n      case 'name-asc':\n        filtered.sort((a, b) => a.name.localeCompare(b.name, 'hu'));\n        break;\n      case 'discount':\n        filtered.sort((a, b) => {\n          const dA = a.salePrice ? (a.price - a.salePrice) / a.price : 0;\n          const dB = b.salePrice ? (b.price - b.salePrice) / b.price : 0;\n          return dB - dA;\n        });\n        break;\n    }\n    \n    return filtered;\n  }, [products, sortOption, filters, priceRange]);\n  \n  const visibleProducts = displayedProducts.slice(0, visibleCount);\n  const hasMoreToShow = visibleCount < displayedProducts.length;\n  \n  // Infinite scroll observer\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && hasMoreToShow) {\n          onLoadMore?.();\n        }\n      },\n      { threshold: 0.1, rootMargin: '200px' }\n    );\n    \n    if (loadMoreRef.current) {\n      observer.observe(loadMoreRef.current);\n    }\n    \n    return () => observer.disconnect();\n  }, [hasMoreToShow, onLoadMore]);\n  \n  const toggleCompare = (product) => {\n    setCompareList(prev => \n      prev.find(p => p.id === product.id)\n        ? prev.filter(p => p.id !== product.id)\n        : prev.length < 4 ? [...prev, product] : prev\n    );\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <CategoryHero category={category} productCount={products.length} theme={theme} onBack={onBack} />\n      \n      <div className=\"w-full max-w-[2000px] mx-auto px-4 sm:px-6 lg:px-10 xl:px-16 py-8 sm:py-12 lg:py-16\">\n        <AIBanner category={category} onAskAI={onAskAI} />\n        <PriceStats products={products} />\n        <FeaturedProducts products={products} onProductClick={onProductClick} onWishlistToggle={onWishlistToggle} wishlist={wishlist} />\n        <RelatedCategories currentCategory={category} allCategories={allCategories} onCategoryChange={onCategoryChange} />\n        \n        <div className=\"flex gap-8\">\n          <SidebarFilters\n            products={products}\n            filters={filters}\n            onFilterChange={setFilters}\n            priceRange={priceRange}\n            onPriceRangeChange={setPriceRange}\n            isOpen={showFilters}\n            onClose={() => setShowFilters(false)}\n          />\n          \n          <div className=\"flex-1 min-w-0\">\n            <ViewControls\n              sortOption={sortOption}\n              onSortChange={setSortOption}\n              viewMode={viewMode}\n              onViewModeChange={setViewMode}\n              productCount={displayedProducts.length}\n              onOpenFilters={() => setShowFilters(true)}\n              compareCount={compareList.length}\n            />\n            \n            {viewMode === 'grid' ? (\n              <div className=\"product-grid\">\n                {visibleProducts.map((product, index) => (\n                  <EnhancedProductCard\n                    key={product.id}\n                    product={product}\n                    onQuickView={onProductClick}\n                    onToggleWishlist={onWishlistToggle}\n                    isWishlisted={wishlist?.includes(product.id)}\n                    index={index}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {visibleProducts.map(product => (\n                  <CompactProductCard\n                    key={product.id}\n                    product={product}\n                    onQuickView={onProductClick}\n                    onToggleWishlist={onWishlistToggle}\n                    isWishlisted={wishlist?.includes(product.id)}\n                    onCompare={toggleCompare}\n                    isComparing={compareList.some(p => p.id === product.id)}\n                  />\n                ))}\n              </div>\n            )}\n            \n            {/* Infinite scroll trigger */}\n            {hasMoreToShow && (\n              <div ref={loadMoreRef} className=\"flex justify-center py-8\">\n                <div className=\"w-8 h-8 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin\" />\n              </div>\n            )}\n            \n            {!hasMoreToShow && visibleProducts.length > 0 && (\n              <p className=\"text-center text-gray-400 text-base lg:text-lg py-10 lg:py-12\">\n                Minden termk betltve ({displayedProducts.length} db)\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryPage;\n","import React, { useState, useEffect } from 'react';\n\n/**\n * ScrollProgress - Shows reading/scrolling progress at top of page\n * Gradient bar that fills as user scrolls down\n */\nconst ScrollProgress = () => {\n  const [scrollProgress, setScrollProgress] = useState(0);\n\n  useEffect(() => {\n    const updateScrollProgress = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      const progress = (scrollTop / scrollHeight) * 100;\n      setScrollProgress(Math.min(progress, 100));\n    };\n\n    window.addEventListener('scroll', updateScrollProgress);\n    updateScrollProgress(); // Initial call\n\n    return () => window.removeEventListener('scroll', updateScrollProgress);\n  }, []);\n\n  return (\n    <div className=\"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-200/50\">\n      <div\n        className=\"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 transition-all duration-150 ease-out\"\n        style={{ width: `${scrollProgress}%` }}\n      />\n      {/* Glow effect at the end */}\n      {scrollProgress > 0 && (\n        <div\n          className=\"absolute top-0 h-full w-8 bg-gradient-to-r from-transparent via-white to-transparent opacity-60 blur-sm\"\n          style={{ \n            left: `${Math.max(0, scrollProgress - 2)}%`,\n            transition: 'left 150ms ease-out'\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ScrollProgress;\n","import React, { useState, useEffect } from 'react';\nimport { ArrowUp } from 'lucide-react';\n\n/**\n * BackToTop - Floating button to scroll back to top\n * Only appears after scrolling down 50%\n */\nconst BackToTop = () => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    const toggleVisibility = () => {\n      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n      const scrolled = window.pageYOffset;\n      const scrollPercent = (scrolled / scrollHeight) * 100;\n      \n      setIsVisible(scrollPercent > 30); // Show after 30% scroll\n    };\n\n    window.addEventListener('scroll', toggleVisibility);\n    toggleVisibility(); // Initial check\n\n    return () => window.removeEventListener('scroll', toggleVisibility);\n  }, []);\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    \n    // Haptic feedback\n    if (navigator.vibrate) {\n      navigator.vibrate(10);\n    }\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <button\n      onClick={scrollToTop}\n      className=\"\n        fixed bottom-[calc(5rem+44px)] md:bottom-24 right-4 md:right-6 z-40\n        w-11 h-11 md:w-12 md:h-12 rounded-full\n        bg-gradient-to-br from-indigo-500 to-purple-600\n        text-white shadow-lg\n        flex items-center justify-center\n        transition-all duration-300\n        hover:scale-110 hover:shadow-xl\n        active:scale-95\n        animate-fade-in-up\n      \"\n      aria-label=\"Vissza a tetejre\"\n      title=\"Vissza a tetejre\"\n    >\n      <ArrowUp className=\"w-5 h-5 md:w-6 md:h-6\" />\n      \n      {/* Pulse animation ring */}\n      <span className=\"absolute inset-0 rounded-full bg-indigo-500 opacity-0 animate-ping\" />\n    </button>\n  );\n};\n\nexport default BackToTop;\n","/**\n * Framer-motion shim - CSS transition based replacements\n * Fixes Vite production build TDZ issues with framer-motion\n */\nimport React, { forwardRef } from 'react';\n\n// Motion component - just renders with CSS transitions\nconst createMotionComponent = (tag) => {\n  return forwardRef(({ \n    children, \n    initial, \n    animate, \n    exit, \n    transition,\n    whileHover,\n    whileTap,\n    variants,\n    className = '',\n    style = {},\n    ...props \n  }, ref) => {\n    const Tag = tag;\n    return (\n      <Tag\n        ref={ref}\n        className={`transition-all duration-300 ${className}`}\n        style={style}\n        {...props}\n      >\n        {children}\n      </Tag>\n    );\n  });\n};\n\nexport const motion = {\n  div: createMotionComponent('div'),\n  span: createMotionComponent('span'),\n  button: createMotionComponent('button'),\n  a: createMotionComponent('a'),\n  ul: createMotionComponent('ul'),\n  li: createMotionComponent('li'),\n  p: createMotionComponent('p'),\n  h1: createMotionComponent('h1'),\n  h2: createMotionComponent('h2'),\n  h3: createMotionComponent('h3'),\n  section: createMotionComponent('section'),\n  article: createMotionComponent('article'),\n  nav: createMotionComponent('nav'),\n  aside: createMotionComponent('aside'),\n  img: createMotionComponent('img'),\n};\n\n// AnimatePresence - just renders children\nexport const AnimatePresence = ({ children, mode, initial, onExitComplete }) => {\n  return <>{children}</>;\n};\n\nexport default motion;\n","import React, { useState, useEffect } from 'react';\nimport { Eye, ShoppingBag, TrendingUp, Users } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n/**\n * LiveSocialProof - Real-time social proof notifications\n * Shows viewer count, recent purchases, trending items\n */\nconst LiveSocialProof = ({ currentProduct, recentPurchases = [] }) => {\n  const [viewerCount, setViewerCount] = useState(0);\n  const [showNotification, setShowNotification] = useState(false);\n  const [currentNotification, setCurrentNotification] = useState(null);\n\n  // Generate realistic viewer count\n  useEffect(() => {\n    const baseViewers = Math.floor(Math.random() * 30) + 15; // 15-45\n    setViewerCount(baseViewers);\n\n    const interval = setInterval(() => {\n      setViewerCount(prev => {\n        const change = Math.floor(Math.random() * 5) - 2; // -2 to +2\n        return Math.max(10, Math.min(50, prev + change));\n      });\n    }, 10000); // Update every 10s\n\n    return () => clearInterval(interval);\n  }, [currentProduct]);\n\n  // Show at most ONE notification per product view (after 5s), no repeated spam\n  useEffect(() => {\n    if (!currentProduct) {\n      setShowNotification(false);\n      setCurrentNotification(null);\n      return;\n    }\n\n    const notifications = [\n      {\n        icon: ShoppingBag,\n        text: `\"${currentProduct.name}\" npszer vlaszts`,\n        time: '2 perce',\n        color: 'text-green-600',\n        bg: 'bg-green-50'\n      },\n      {\n        icon: TrendingUp,\n        text: `Ez a ${currentProduct.category} most npszer`,\n        time: 'pp most',\n        color: 'text-orange-600',\n        bg: 'bg-orange-50'\n      },\n      {\n        icon: Users,\n        text: `${Math.floor(Math.random() * 10) + 5} ember nzi most`,\n        time: 'l',\n        color: 'text-blue-600',\n        bg: 'bg-blue-50'\n      }\n    ];\n\n    const random = notifications[Math.floor(Math.random() * notifications.length)];\n    setCurrentNotification(random);\n\n    // Single notification 5s after viewing this product; no interval\n    const t = setTimeout(() => {\n      setShowNotification(true);\n      setTimeout(() => setShowNotification(false), 5000);\n    }, 5000);\n\n    return () => {\n      clearTimeout(t);\n      setShowNotification(false);\n    };\n  }, [currentProduct?.id]);\n\n  return (\n    <>\n      {/* Floating Viewer Counter */}\n      {currentProduct && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"fixed bottom-[calc(10rem+44px)] md:bottom-40 left-4 md:left-6 z-40 bg-white rounded-full shadow-lg px-3 md:px-4 py-1.5 md:py-2 flex items-center gap-2\"\n        >\n          <div className=\"relative\">\n            <Eye className=\"w-5 h-5 text-indigo-600\" />\n            <span className=\"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n          </div>\n          <div>\n            <p className=\"text-sm font-semibold text-gray-800\">{viewerCount} ember</p>\n            <p className=\"text-xs text-gray-500\">nzi most</p>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Notification Toasts */}\n      <AnimatePresence>\n        {showNotification && currentNotification && (\n          <motion.div\n            initial={{ opacity: 0, y: 50, scale: 0.9 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 50, scale: 0.9 }}\n            transition={{ type: 'spring', stiffness: 300, damping: 25 }}\n            className={`\n              fixed bottom-[calc(1.5rem+44px)] md:bottom-6 left-2 md:left-6 z-50\n              max-w-[calc(100vw-1rem)] md:max-w-sm rounded-xl shadow-2xl p-3 md:p-4\n              ${currentNotification.bg} border border-gray-200\n              backdrop-blur-sm\n            `}\n          >\n            <div className=\"flex items-start gap-3\">\n              <div className={`p-2 rounded-lg ${currentNotification.color} bg-white/50`}>\n                <currentNotification.icon className=\"w-5 h-5\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-800\">\n                  {currentNotification.text}\n                </p>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {currentNotification.time}\n                </p>\n              </div>\n              <button\n                onClick={() => setShowNotification(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                aria-label=\"Bezrs\"\n              >\n                \n              </button>\n            </div>\n\n            {/* Progress bar */}\n            <motion.div\n              initial={{ width: '100%' }}\n              animate={{ width: '0%' }}\n              transition={{ duration: 5, ease: 'linear' }}\n              className=\"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-bl-xl\"\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n};\n\nexport default LiveSocialProof;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Sparkles, Camera, Move3d, MessageCircle, ArrowRight, Check, \n  TrendingUp, Users, ShoppingBag, Star, Zap, Eye, Heart,\n  Package, Shield, Clock, Award, ChevronRight, Play, Target, Gift, Bot\n} from 'lucide-react';\nimport { DemoFlow } from '../ui/Icons';\n\n/**\n * Modern Hero Section with 3D effect and animations\n */\nexport const ModernHero = ({ onExplore, onTryAI }) => {\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const heroRef = useRef(null);\n\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      if (heroRef.current) {\n        const rect = heroRef.current.getBoundingClientRect();\n        setMousePosition({\n          x: (e.clientX - rect.left) / rect.width,\n          y: (e.clientY - rect.top) / rect.height\n        });\n      }\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n\n  return (\n    <div \n      ref={heroRef}\n      className=\"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-indigo-50 via-white to-purple-50\"\n    >\n      {/* Animated Background */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        {/* Gradient Orbs */}\n        <div \n          className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-indigo-400 to-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob\"\n          style={{\n            transform: `translate(${mousePosition.x * 30}px, ${mousePosition.y * 30}px)`\n          }}\n        />\n        <div \n          className=\"absolute top-1/3 right-1/4 w-96 h-96 bg-gradient-to-br from-purple-400 to-pink-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000\"\n          style={{\n            transform: `translate(${mousePosition.x * -20}px, ${mousePosition.y * -20}px)`\n          }}\n        />\n        <div \n          className=\"absolute bottom-1/4 left-1/2 w-96 h-96 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000\"\n          style={{\n            transform: `translate(${mousePosition.x * 15}px, ${mousePosition.y * 15}px)`\n          }}\n        />\n\n        {/* Grid Pattern */}\n        <div \n          className=\"absolute inset-0 bg-grid-pattern opacity-5\"\n          style={{\n            backgroundImage: 'linear-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(99, 102, 241, 0.1) 1px, transparent 1px)',\n            backgroundSize: '50px 50px'\n          }}\n        />\n      </div>\n\n      {/* FULLSCREEN: Edge-to-edge, LARGE elements for enjoyable browsing */}\n      <div className=\"relative z-10 w-full max-w-[2000px] mx-auto px-4 sm:px-6 lg:px-10 xl:px-16 py-8 sm:py-12 lg:py-16 xl:py-20\">\n        <div className=\"text-center\">\n          {/* Floating Badge - VISIBLE and prominent */}\n          <div className=\"inline-flex items-center px-4 sm:px-6 py-2.5 sm:py-3 bg-white/80 backdrop-blur-sm rounded-full shadow-lg border border-indigo-100 mb-6 sm:mb-8 lg:mb-10 animate-float\">\n            <Sparkles className=\"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600 mr-2.5 animate-pulse\" />\n            <span className=\"text-sm sm:text-base lg:text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n              AI-Powered Furniture Shopping\n            </span>\n            <span className=\"ml-2.5 px-2.5 py-1 bg-green-100 text-green-700 text-xs sm:text-sm font-bold rounded-full\">\n              J\n            </span>\n          </div>\n\n          {/* Main Heading - LARGE and impactful */}\n          <h1 className=\"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-extrabold mb-6 sm:mb-8 lg:mb-10 leading-[1.1]\">\n            <span className=\"block text-gray-900 mb-2\">Talld meg az</span>\n            <span className=\"block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent animate-gradient\">\n              idelis btort\n            </span>\n            <span className=\"block text-gray-900 mt-2\">AI segtsggel</span>\n          </h1>\n\n          {/* Subheading - READABLE */}\n          <p className=\"text-lg sm:text-xl md:text-2xl lg:text-3xl text-gray-600 max-w-5xl mx-auto mb-8 sm:mb-12 lg:mb-16 leading-relaxed px-2\">\n            Forradalmi AI technolgia tallkozik a btorvsrlssal. \n            <span className=\"font-semibold text-indigo-600\"> Fotzz, tervezz, vsrolj</span> - minden egy helyen.\n          </p>\n\n          {/* CTA Buttons - BALANCED and readable */}\n          <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 lg:gap-5 justify-center items-stretch sm:items-center mb-10 sm:mb-14 lg:mb-20 px-3\">\n            <button\n              onClick={onTryAI}\n              className=\"group relative w-full sm:w-auto px-6 py-3.5 sm:px-8 sm:py-4 lg:px-12 lg:py-5 xl:px-14 xl:py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl lg:rounded-2xl font-bold text-base sm:text-lg lg:text-xl xl:text-2xl shadow-xl hover:shadow-indigo-500/50 transition-all transform hover:-translate-y-1 overflow-hidden flex items-center justify-center\"\n            >\n              <span className=\"relative z-10 flex items-center\">\n                <Sparkles className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-6 lg:h-6 xl:w-7 xl:h-7 mr-2.5\" />\n                Prbld ki az AI-t\n                <ArrowRight className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-6 lg:h-6 xl:w-7 xl:h-7 ml-2.5 group-hover:translate-x-1 transition-transform\" />\n              </span>\n              <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity\" />\n            </button>\n\n            <button\n              onClick={onExplore}\n              className=\"w-full sm:w-auto px-6 py-3.5 sm:px-8 sm:py-4 lg:px-12 lg:py-5 xl:px-14 xl:py-5 bg-white text-gray-900 rounded-xl lg:rounded-2xl font-bold text-base sm:text-lg lg:text-xl xl:text-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border-2 border-gray-200 hover:border-indigo-300 flex items-center justify-center\"\n            >\n              Kollekci megtekintse\n              <ChevronRight className=\"w-5 h-5 sm:w-5 sm:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 ml-2\" />\n            </button>\n          </div>\n\n          {/* Stats - PROMINENT on all screens */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 max-w-6xl mx-auto px-2\">\n            {[\n              { icon: Package, value: '170K+', label: 'Termk' },\n              { icon: Users, value: '50K+', label: 'Elgedett vsrl' },\n              { icon: Star, value: '4.9/5', label: 'rtkels' },\n              { icon: Zap, value: '24/7', label: 'AI Support' }\n            ].map((stat, idx) => (\n              <div \n                key={idx} \n                className=\"bg-white/60 backdrop-blur-sm rounded-2xl lg:rounded-3xl p-4 sm:p-6 lg:p-8 border border-white/20 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1\"\n              >\n                <stat.icon className=\"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-indigo-600 mx-auto mb-2 sm:mb-3 lg:mb-4\" />\n                <div className=\"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 mb-1\">{stat.value}</div>\n                <div className=\"text-sm sm:text-base lg:text-lg text-gray-600 font-medium\">{stat.label}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Scroll Indicator */}\n      <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce\">\n        <div className=\"w-6 h-10 border-2 border-indigo-600 rounded-full flex justify-center p-1\">\n          <div className=\"w-1.5 h-3 bg-indigo-600 rounded-full animate-scroll\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * AI Features Interactive Showcase\n */\nexport const AIFeaturesShowcase = ({ onFeatureClick }) => {\n  const [activeFeature, setActiveFeature] = useState(0);\n\n  const features = [\n    {\n      icon: Camera,\n      title: 'AI Kpfelismers',\n      description: 'Fotzd le a btort s azonnal talld meg a hasonl termkeket',\n      color: 'from-blue-500 to-indigo-600',\n      demoSteps: [\n        { icon: Camera, color: 'text-blue-600', bg: 'bg-blue-100' },\n        { icon: Bot, color: 'text-indigo-600', bg: 'bg-indigo-100' },\n        { icon: Sparkles, color: 'text-purple-600', bg: 'bg-purple-100' }\n      ],\n      stats: '99% pontossg'\n    },\n    {\n      icon: MessageCircle,\n      title: 'Intelligens Asszisztens',\n      description: 'Beszlgess szakrtnkkel s krj szemlyre szabott ajnlatokat',\n      color: 'from-purple-500 to-pink-600',\n      demoSteps: [\n        { icon: MessageCircle, color: 'text-purple-600', bg: 'bg-purple-100' },\n        { icon: Target, color: 'text-pink-600', bg: 'bg-pink-100' },\n        { icon: Gift, color: 'text-rose-600', bg: 'bg-rose-100' }\n      ],\n      stats: '24/7 elrhet'\n    },\n    {\n      icon: Move3d,\n      title: 'Virtulis Tervez',\n      description: 'Helyezd el a btorokat otthonodban virtulisan, ltogats lben',\n      color: 'from-green-500 to-emerald-600',\n      demoSteps: [\n        { icon: Camera, color: 'text-green-600', bg: 'bg-green-100' },\n        { icon: Move3d, color: 'text-emerald-600', bg: 'bg-emerald-100' },\n        { icon: Eye, color: 'text-teal-600', bg: 'bg-teal-100' }\n      ],\n      stats: 'AR tmogats'\n    }\n  ];\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setActiveFeature((prev) => (prev + 1) % features.length);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"py-8 sm:py-10 lg:py-14 xl:py-16 bg-gradient-to-b from-white to-gray-50\">\n      <div className=\"w-full max-w-[2000px] mx-auto px-4 sm:px-6 lg:px-10 xl:px-16\">\n        <div className=\"text-center mb-6 sm:mb-8 lg:mb-12\">\n          <div className=\"inline-flex items-center px-5 py-2.5 lg:px-6 lg:py-3 bg-indigo-100 rounded-full mb-5 lg:mb-6\">\n            <Sparkles className=\"w-5 h-5 lg:w-6 lg:h-6 text-indigo-600 mr-2\" />\n            <span className=\"text-base lg:text-lg xl:text-xl font-bold text-indigo-600\">AI Powered Features</span>\n          </div>\n          <h2 className=\"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-extrabold text-gray-900 mb-5 lg:mb-6\">\n            Mestersges intelligencia a <span className=\"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">szolglatodban</span>\n          </h2>\n          <p className=\"text-lg sm:text-xl lg:text-2xl xl:text-3xl text-gray-600 max-w-5xl mx-auto leading-relaxed\">\n            Hasznld ki a legmodernebb AI technolgit a tkletes btor megtallshoz\n          </p>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-6 lg:gap-8 xl:gap-10\">\n          {features.map((feature, idx) => (\n            <div\n              key={idx}\n              onClick={() => {\n                setActiveFeature(idx);\n                onFeatureClick?.(feature);\n              }}\n              className={`relative group cursor-pointer transition-all duration-500 ${\n                activeFeature === idx ? 'scale-105' : 'scale-100 opacity-75 hover:opacity-100'\n              }`}\n            >\n              <div className={`absolute inset-0 bg-gradient-to-br ${feature.color} rounded-3xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity`} />\n              \n              <div className=\"relative bg-white rounded-3xl p-7 sm:p-8 lg:p-10 xl:p-12 shadow-xl border border-gray-100 hover:shadow-2xl transition-all\">\n                {/* Icon */}\n                <div className={`w-16 h-16 sm:w-18 sm:h-18 lg:w-20 lg:h-20 xl:w-24 xl:h-24 bg-gradient-to-br ${feature.color} rounded-2xl xl:rounded-3xl flex items-center justify-center mb-6 lg:mb-8 transform group-hover:rotate-6 transition-transform`}>\n                  <feature.icon className=\"w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 xl:w-12 xl:h-12 text-white\" />\n                </div>\n\n                {/* Title */}\n                <h3 className=\"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold text-gray-900 mb-3 lg:mb-4\">{feature.title}</h3>\n\n                {/* Description */}\n                <p className=\"text-base sm:text-lg lg:text-xl xl:text-2xl text-gray-600 mb-6 lg:mb-8 leading-relaxed\">{feature.description}</p>\n\n                {/* Demo Flow */}\n                <div className=\"bg-gray-50 rounded-xl lg:rounded-2xl p-4 lg:p-5 xl:p-6 mb-5 lg:mb-6\">\n                  <DemoFlow steps={feature.demoSteps} />\n                </div>\n\n                {/* Stats */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-base lg:text-lg xl:text-xl font-bold text-indigo-600\">{feature.stats}</span>\n                  <ArrowRight className={`w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 text-gray-400 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all`} />\n                </div>\n\n                {/* Active Indicator */}\n                {activeFeature === idx && (\n                  <div className=\"absolute -top-2 -right-2 lg:-top-3 lg:-right-3 xl:-top-4 xl:-right-4\">\n                    <div className=\"w-7 h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10 bg-green-500 rounded-full border-4 border-white animate-pulse flex items-center justify-center\">\n                      <Check className=\"w-3.5 h-3.5 lg:w-4 lg:h-4 xl:w-5 xl:h-5 text-white\" />\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Progress Indicators */}\n        <div className=\"flex justify-center gap-2 mt-12\">\n          {features.map((_, idx) => (\n            <button\n              key={idx}\n              onClick={() => setActiveFeature(idx)}\n              className={`h-2 rounded-full transition-all ${\n                activeFeature === idx ? 'w-12 bg-indigo-600' : 'w-2 bg-gray-300'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default { ModernHero, AIFeaturesShowcase };\n","/** Placeholder image (data URL)  nem fgg kls szolgltatstl (via.placeholder stb.) */\nexport const PLACEHOLDER_IMAGE = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23e5e7eb' width='400' height='400'/%3E%3Ctext fill='%239ca3af' x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='16'%3ENincs kp%3C/text%3E%3C/svg%3E\";\n\n/**\n * Format price to Hungarian currency\n */\nexport const formatPrice = (price) => {\n  return new Intl.NumberFormat('hu-HU', { \n    style: 'currency', \n    currency: 'HUF', \n    maximumFractionDigits: 0 \n  }).format(price);\n};\n\n/**\n * Format relative time (e.g., \"2 rja\")\n */\nexport const formatRelativeTime = (timestamp) => {\n  if (!timestamp) return '';\n  \n  const date = new Date(timestamp);\n  const now = new Date();\n  const diffMs = now - date;\n  const diffMins = Math.floor(diffMs / 60000);\n  \n  if (diffMins < 1) return 'most';\n  if (diffMins < 60) return `${diffMins} perce`;\n  \n  const diffHours = Math.floor(diffMins / 60);\n  if (diffHours < 24) return `${diffHours} rja`;\n  \n  const diffDays = Math.floor(diffHours / 24);\n  if (diffDays < 7) return `${diffDays} napja`;\n  \n  return date.toLocaleDateString('hu-HU');\n};\n\n/**\n * Truncate text with ellipsis\n */\nexport const truncateText = (text, maxLength = 100) => {\n  if (!text) return '';\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength).trim() + '...';\n};\n\n/**\n * Generate random ID\n */\nexport const generateId = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\n};\n\n/**\n * Smooth scroll to element\n */\nexport const scrollToElement = (elementId, offset = 0) => {\n  const element = document.getElementById(elementId);\n  if (element) {\n    const top = element.getBoundingClientRect().top + window.pageYOffset - offset;\n    window.scrollTo({ top, behavior: 'smooth' });\n  }\n};\n\n/**\n * Copy to clipboard with fallback\n */\nexport const copyToClipboard = async (text) => {\n  try {\n    if (navigator.clipboard) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      // Fallback for older browsers\n      const textarea = document.createElement('textarea');\n      textarea.value = text;\n      textarea.style.position = 'fixed';\n      textarea.style.opacity = '0';\n      document.body.appendChild(textarea);\n      textarea.select();\n      const success = document.execCommand('copy');\n      document.body.removeChild(textarea);\n      return success;\n    }\n  } catch (error) {\n    console.error('Failed to copy:', error);\n    return false;\n  }\n};\n\n/**\n * Validate email\n */\nexport const isValidEmail = (email) => {\n  const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return regex.test(email);\n};\n\n/**\n * Get contrast color (black or white) based on background\n */\nexport const getContrastColor = (hexColor) => {\n  const r = parseInt(hexColor.substr(1, 2), 16);\n  const g = parseInt(hexColor.substr(3, 2), 16);\n  const b = parseInt(hexColor.substr(5, 2), 16);\n  const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n  return (yiq >= 128) ? '#000000' : '#FFFFFF';\n};\n\n/**\n * Shuffle array (Fisher-Yates algorithm)\n */\nexport const shuffleArray = (array) => {\n  const newArray = [...array];\n  for (let i = newArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\n  }\n  return newArray;\n};\n\n/**\n * Group items by key\n */\nexport const groupBy = (array, key) => {\n  return array.reduce((result, item) => {\n    const group = item[key];\n    if (!result[group]) {\n      result[group] = [];\n    }\n    result[group].push(item);\n    return result;\n  }, {});\n};\n\n/**\n * Calculate reading time\n */\nexport const calculateReadingTime = (text, wordsPerMinute = 200) => {\n  const words = text.trim().split(/\\s+/).length;\n  const minutes = Math.ceil(words / wordsPerMinute);\n  return `${minutes} perc olvass`;\n};\n","import React, { useState, useEffect } from 'react';\nimport { \n  Shield, Truck, Award, Clock, Heart, Star, \n  ArrowRight, Check, TrendingUp, Zap, Users,\n  ShoppingBag, Package, Eye, Sparkles\n} from 'lucide-react';\nimport { PLACEHOLDER_IMAGE } from '../../utils/helpers';\n\n/**\n * Social Proof & Trust Signals\n */\nexport const SocialProof = () => {\n  const [count, setCount] = useState(0);\n  const targetCount = 50247;\n\n  useEffect(() => {\n    const duration = 2000;\n    const steps = 60;\n    const increment = targetCount / steps;\n    let current = 0;\n\n    const timer = setInterval(() => {\n      current += increment;\n      if (current >= targetCount) {\n        setCount(targetCount);\n        clearInterval(timer);\n      } else {\n        setCount(Math.floor(current));\n      }\n    }, duration / steps);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const trustBadges = [\n    { icon: Shield, label: 'Biztonsgos fizets', color: 'blue' },\n    { icon: Truck, label: 'Ingyenes szllts', color: 'green' },\n    { icon: Award, label: '2 v garancia', color: 'purple' },\n    { icon: Clock, label: '24h gyflszolglat', color: 'orange' }\n  ];\n\n  const colorClasses = {\n    blue: 'from-blue-500 to-blue-600',\n    green: 'from-green-500 to-green-600',\n    purple: 'from-purple-500 to-purple-600',\n    orange: 'from-orange-500 to-orange-600'\n  };\n\n  return (\n    <div className=\"py-6 sm:py-8 lg:py-12 xl:py-14 bg-white\">\n      <div className=\"w-full max-w-[2000px] mx-auto px-3 sm:px-6 lg:px-10 xl:px-16\">\n        {/* Happy Customers Counter - MOBILE-FRIENDLY */}\n        <div className=\"text-center mb-8 sm:mb-12 lg:mb-16 xl:mb-20\">\n          <div className=\"inline-flex items-center gap-2 mb-3 sm:mb-4 lg:mb-6 px-3 py-1.5 sm:px-4 sm:py-2 lg:px-5 lg:py-2.5 bg-indigo-50 rounded-full\">\n            <Users className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-indigo-600\" />\n            <span className=\"text-xs sm:text-sm lg:text-base font-bold text-indigo-600 uppercase tracking-wide\">\n              Elgedett Vsrlink\n            </span>\n          </div>\n          <div className=\"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extrabold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2 sm:mb-3 lg:mb-4\">\n            {count.toLocaleString('hu-HU')}+\n          </div>\n          <p className=\"text-sm sm:text-base lg:text-xl xl:text-2xl text-gray-600\">\n            csatlakozott mr a Marketly kzssghez\n          </p>\n        </div>\n\n        {/* Trust Badges - COMPACT on mobile */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 xl:gap-8\">\n          {trustBadges.map((badge, idx) => (\n            <div\n              key={idx}\n              className=\"group relative bg-gradient-to-br from-gray-50 to-white rounded-xl sm:rounded-2xl lg:rounded-3xl p-3 sm:p-4 lg:p-6 xl:p-8 border border-gray-100 hover:border-indigo-200 hover:shadow-xl transition-all transform hover:-translate-y-1\"\n            >\n              <div className={`w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 xl:w-16 xl:h-16 bg-gradient-to-br ${colorClasses[badge.color]} rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center mb-2 sm:mb-3 lg:mb-4 transform group-hover:rotate-6 transition-transform`}>\n                <badge.icon className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 xl:w-8 xl:h-8 text-white\" />\n              </div>\n              <h3 className=\"font-bold text-gray-900 text-xs sm:text-sm lg:text-base xl:text-lg leading-tight\">{badge.label}</h3>\n            </div>\n          ))}\n        </div>\n\n        {/* Star Rating - COMPACT on mobile */}\n        <div className=\"mt-8 sm:mt-12 lg:mt-16 xl:mt-20 text-center\">\n          <div className=\"flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-2 mb-2 sm:mb-3 lg:mb-4\">\n            {[...Array(5)].map((_, i) => (\n              <Star key={i} className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 xl:w-10 xl:h-10 fill-yellow-400 text-yellow-400\" />\n            ))}\n          </div>\n          <p className=\"text-base sm:text-lg lg:text-2xl xl:text-3xl font-bold text-gray-900 mb-1 sm:mb-2\">\n            4.9 / 5.0 tlagos rtkels\n          </p>\n          <p className=\"text-sm sm:text-base lg:text-lg xl:text-xl text-gray-600\">\n            12,487 vals vlemnybl\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Live Product Showcase with Swipeable Carousel\n * - Random products on each load\n * - Touch swipe support for mobile\n * - Arrow navigation for desktop\n * - Compact mobile cards\n */\nexport const LiveShowcase = ({ products = [], onProductClick }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isHovered, setIsHovered] = useState(false);\n  const [touchStart, setTouchStart] = useState(null);\n  const [touchEnd, setTouchEnd] = useState(null);\n  const carouselRef = React.useRef(null);\n\n  // Randomize and select products on each render\n  const showcaseProducts = React.useMemo(() => {\n    const tags = ['Bestseller', 'J', 'Akci', 'Npszer', 'Top 10', 'Limitlt'];\n    if (products.length > 0) {\n      // Shuffle and pick 6 random products\n      const shuffled = [...products].sort(() => Math.random() - 0.5);\n      return shuffled.slice(0, 6).map((p, i) => ({\n        ...p,\n        tag: tags[i % tags.length],\n        image: p.images?.[0] || p.image\n      }));\n    }\n    return [\n      { id: 1, name: 'Skandinv Kanap', price: 189900, image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&q=80&w=800', tag: 'Bestseller' },\n      { id: 2, name: 'Modern Fotel', price: 125000, image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&q=80&w=800', tag: 'J' },\n      { id: 3, name: 'Tlgy Asztal', price: 95000, image: 'https://images.unsplash.com/photo-1532372320572-cda25653a26d?auto=format&fit=crop&q=80&w=800', tag: 'Akci' }\n    ];\n  }, [products]);\n\n  // Auto-rotate\n  useEffect(() => {\n    if (!isHovered) {\n      const interval = setInterval(() => {\n        setCurrentIndex((prev) => (prev + 1) % showcaseProducts.length);\n      }, 4000);\n      return () => clearInterval(interval);\n    }\n  }, [isHovered, showcaseProducts.length]);\n\n  // Touch handlers for swipe\n  const minSwipeDistance = 50;\n  \n  const onTouchStart = (e) => {\n    setTouchEnd(null);\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const onTouchMove = (e) => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  const onTouchEnd = () => {\n    if (!touchStart || !touchEnd) return;\n    const distance = touchStart - touchEnd;\n    const isLeftSwipe = distance > minSwipeDistance;\n    const isRightSwipe = distance < -minSwipeDistance;\n    \n    if (isLeftSwipe) {\n      setCurrentIndex((prev) => (prev + 1) % showcaseProducts.length);\n    }\n    if (isRightSwipe) {\n      setCurrentIndex((prev) => (prev - 1 + showcaseProducts.length) % showcaseProducts.length);\n    }\n  };\n\n  const goNext = () => setCurrentIndex((prev) => (prev + 1) % showcaseProducts.length);\n  const goPrev = () => setCurrentIndex((prev) => (prev - 1 + showcaseProducts.length) % showcaseProducts.length);\n\n  return (\n    <div className=\"py-6 sm:py-10 lg:py-14 xl:py-16 bg-gradient-to-b from-gray-50 to-white overflow-hidden\">\n      <div className=\"w-full max-w-[2000px] mx-auto px-3 sm:px-6 lg:px-10 xl:px-16\">\n        <div className=\"text-center mb-6 sm:mb-10 lg:mb-14\">\n          <div className=\"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 lg:px-5 lg:py-2.5 bg-green-100 rounded-full mb-3 sm:mb-4 lg:mb-6\">\n            <TrendingUp className=\"w-4 h-4 lg:w-5 lg:h-5 text-green-600 mr-2\" />\n            <span className=\"text-xs sm:text-sm lg:text-base font-bold text-green-600\">Most npszer</span>\n          </div>\n          <h2 className=\"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-extrabold text-gray-900\">\n            Vsrlink <span className=\"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">kedvencei</span>\n          </h2>\n        </div>\n\n        <div \n          className=\"relative\"\n          onMouseEnter={() => setIsHovered(true)}\n          onMouseLeave={() => setIsHovered(false)}\n        >\n          {/* Navigation Arrows - Desktop */}\n          <button \n            onClick={goPrev}\n            className=\"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2 lg:-translate-x-4 z-20 w-10 h-10 lg:w-12 lg:h-12 xl:w-14 xl:h-14 bg-white shadow-lg rounded-full items-center justify-center text-gray-600 hover:text-indigo-600 hover:shadow-xl transition-all\"\n          >\n            <ArrowRight className=\"w-5 h-5 lg:w-6 lg:h-6 rotate-180\" />\n          </button>\n          <button \n            onClick={goNext}\n            className=\"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 translate-x-2 lg:translate-x-4 z-20 w-10 h-10 lg:w-12 lg:h-12 xl:w-14 xl:h-14 bg-white shadow-lg rounded-full items-center justify-center text-gray-600 hover:text-indigo-600 hover:shadow-xl transition-all\"\n          >\n            <ArrowRight className=\"w-5 h-5 lg:w-6 lg:h-6\" />\n          </button>\n\n          {/* Carousel Container - Swipeable */}\n          <div \n            ref={carouselRef}\n            className=\"overflow-hidden px-1\"\n            onTouchStart={onTouchStart}\n            onTouchMove={onTouchMove}\n            onTouchEnd={onTouchEnd}\n          >\n            <div \n              className=\"flex gap-3 sm:gap-4 lg:gap-6 transition-transform duration-500 ease-out\"\n              style={{ transform: `translateX(-${currentIndex * (100 / 3)}%)` }}\n            >\n              {showcaseProducts.map((product, idx) => (\n                <div\n                  key={product.id || idx}\n                  onClick={() => onProductClick?.(product)}\n                  className=\"flex-shrink-0 w-[85%] sm:w-[48%] lg:w-[32%] cursor-pointer group\"\n                >\n                  <div className=\"relative bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1\">\n                    {/* Tag */}\n                    <div className=\"absolute top-2 sm:top-3 left-2 sm:left-3 z-10\">\n                      <span className=\"px-2 py-1 sm:px-3 sm:py-1.5 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[10px] sm:text-xs lg:text-sm font-bold rounded-full\">\n                        {product.tag || 'Npszer'}\n                      </span>\n                    </div>\n\n                    {/* Image - COMPACT on mobile */}\n                    <div className=\"relative h-40 sm:h-48 lg:h-56 xl:h-64 overflow-hidden bg-gray-100\">\n                      <img\n                        src={product.image || product.images?.[0]}\n                        alt={product.name}\n                        className=\"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500\"\n                        onError={(e) => {e.target.src = PLACEHOLDER_IMAGE}}\n                        loading=\"lazy\"\n                      />\n                    </div>\n\n                    {/* Content - COMPACT */}\n                    <div className=\"p-3 sm:p-4 lg:p-5\">\n                      <h3 className=\"text-sm sm:text-base lg:text-lg xl:text-xl font-bold text-gray-900 mb-1.5 sm:mb-2 truncate group-hover:text-indigo-600 transition-colors\">\n                        {product.name}\n                      </h3>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-base sm:text-lg lg:text-xl xl:text-2xl font-extrabold text-indigo-600\">\n                          {new Intl.NumberFormat('hu-HU', { style: 'currency', currency: 'HUF', maximumFractionDigits: 0 }).format(product.price)}\n                        </span>\n                        <button className=\"w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 bg-indigo-600 text-white rounded-full flex items-center justify-center hover:bg-indigo-700 transition-all\">\n                          <Eye className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Progress Dots */}\n          <div className=\"flex justify-center gap-2 mt-4 sm:mt-6 lg:mt-8\">\n            {showcaseProducts.map((_, idx) => (\n              <button\n                key={idx}\n                onClick={() => setCurrentIndex(idx)}\n                className={`h-2 rounded-full transition-all ${\n                  currentIndex === idx ? 'w-6 sm:w-8 lg:w-10 bg-indigo-600' : 'w-2 bg-gray-300 hover:bg-gray-400'\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Interactive CTA Section\n */\nexport const InteractiveCTA = ({ onGetStarted }) => {\n  return (\n    <div className=\"py-8 sm:py-10 lg:py-14 xl:py-16 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 relative overflow-hidden\">\n      {/* Animated Background */}\n      <div className=\"absolute inset-0 opacity-20\">\n        <div className=\"absolute top-0 left-0 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-white rounded-full filter blur-3xl animate-blob\" />\n        <div className=\"absolute top-0 right-0 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-yellow-300 rounded-full filter blur-3xl animate-blob animation-delay-2000\" />\n        <div className=\"absolute bottom-0 left-1/2 w-48 sm:w-72 lg:w-96 h-48 sm:h-72 lg:h-96 bg-pink-300 rounded-full filter blur-3xl animate-blob animation-delay-4000\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-5xl xl:max-w-6xl mx-auto px-4 sm:px-6 lg:px-10 xl:px-16 text-center\">\n        <div className=\"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 lg:px-5 lg:py-2.5 bg-white/20 backdrop-blur-sm rounded-full mb-4 sm:mb-6 lg:mb-8\">\n          <Sparkles className=\"w-4 h-4 lg:w-5 lg:h-5 text-white mr-2 animate-pulse\" />\n          <span className=\"text-xs sm:text-sm lg:text-base font-bold text-white\">Kezdd el ma!</span>\n        </div>\n\n        <h2 className=\"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-extrabold text-white mb-4 sm:mb-6 lg:mb-8 leading-tight\">\n          Kszen llsz a <br />\n          <span className=\"text-yellow-300\">tkletes btor</span> megtallsra?\n        </h2>\n\n        <p className=\"text-sm sm:text-base lg:text-xl xl:text-2xl text-white/90 mb-6 sm:mb-8 lg:mb-12 max-w-3xl mx-auto leading-relaxed\">\n          Csatlakozz 50.000+ elgedett vsrlnkhoz s fedezd fel, hogyan knnytheti meg az AI a btorvsrlst\n        </p>\n\n        <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 lg:gap-5 justify-center items-center\">\n          <button\n            onClick={onGetStarted}\n            className=\"group w-full sm:w-auto px-5 py-3 sm:px-7 sm:py-3.5 lg:px-8 lg:py-4 bg-white text-indigo-600 rounded-xl font-bold text-sm sm:text-base lg:text-lg shadow-xl hover:shadow-white/50 transition-all transform hover:-translate-y-1 flex items-center justify-center\"\n          >\n            Kezdjk el most\n            <ArrowRight className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 ml-2 group-hover:translate-x-1 transition-transform\" />\n          </button>\n\n          <button \n            onClick={() => {\n              const aiSection = document.querySelector('[data-ai-features]');\n              if (aiSection) aiSection.scrollIntoView({ behavior: 'smooth' });\n              else window.scrollTo({ top: 0, behavior: 'smooth' });\n            }}\n            className=\"w-full sm:w-auto px-5 py-3 sm:px-7 sm:py-3.5 lg:px-8 lg:py-4 bg-white/10 backdrop-blur-sm text-white rounded-xl font-bold text-sm sm:text-base lg:text-lg border-2 border-white/30 hover:bg-white/20 transition-all\"\n          >\n            Tudj meg tbbet\n          </button>\n        </div>\n\n        {/* Trust indicators - COMPACT on mobile */}\n        <div className=\"mt-6 sm:mt-8 lg:mt-12 flex flex-wrap justify-center gap-4 sm:gap-6 lg:gap-8 text-white/80\">\n          <div className=\"flex items-center gap-1.5 sm:gap-2\">\n            <Check className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6\" />\n            <span className=\"text-xs sm:text-sm lg:text-base font-medium\">Ingyenes kiprbls</span>\n          </div>\n          <div className=\"flex items-center gap-1.5 sm:gap-2\">\n            <Check className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6\" />\n            <span className=\"text-xs sm:text-sm lg:text-base font-medium\">Nincs krtyaigny</span>\n          </div>\n          <div className=\"flex items-center gap-1.5 sm:gap-2\">\n            <Check className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6\" />\n            <span className=\"text-xs sm:text-sm lg:text-base font-medium\">24/7 support</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default { SocialProof, LiveShowcase, InteractiveCTA };\n","import { useEffect, useState } from 'react';\n\n/**\n * Custom hook for detecting mobile viewport\n */\nexport const useIsMobile = (breakpoint = 768) => {\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < breakpoint);\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, [breakpoint]);\n\n  return isMobile;\n};\n\n/**\n * Custom hook for managing localStorage\n */\nexport const useLocalStorage = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n};\n\n/**\n * Custom hook for debouncing values\n */\nexport const useDebounce = (value, delay = 500) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\n/**\n * Custom hook for intersection observer (lazy loading)\n */\nexport const useIntersectionObserver = (options = {}) => {\n  const [ref, setRef] = useState(null);\n  const [isIntersecting, setIsIntersecting] = useState(false);\n\n  useEffect(() => {\n    if (!ref) return;\n\n    const observer = new IntersectionObserver(([entry]) => {\n      setIsIntersecting(entry.isIntersecting);\n    }, options);\n\n    observer.observe(ref);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref, options]);\n\n  return [setRef, isIntersecting];\n};\n\n// Re-export from other hook files\nexport { useToast } from './useToast';\nexport { useInfiniteScroll, InfiniteScrollSentinel } from './useInfiniteScroll.jsx';\nexport { \n  useScrollAnimation, \n  useStaggerAnimation, \n  useParallax, \n  useScrollProgress \n} from './useScrollAnimation';\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { Search, TrendingUp, Clock, X, Sparkles, Loader2, Lightbulb } from 'lucide-react';\nimport { useDebounce } from '../../hooks';\nimport { generateText } from '../../services/geminiService';\nimport { trackSearch, getSearchHistory } from '../../services/userPreferencesService';\n\nconst PLACEHOLDER_IMAGE = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\"%3E%3Crect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/%3E%3C/svg%3E';\n\n/**\n * SmartSearch - AI-vezrelt termszetes nyelv keress\n * Megrti a komplex keresseket: \"modern kanap 200 ezer alatt\"\n */\nexport const SmartSearch = ({ products, onSearch, onSelectProduct, onShowRecommendations }) => {\n  const [query, setQuery] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n  const [aiSuggestions, setAiSuggestions] = useState([]);\n  const [isAISearching, setIsAISearching] = useState(false);\n  const [aiInsight, setAiInsight] = useState('');\n  const [recentSearches, setRecentSearches] = useState(() => {\n    const saved = getSearchHistory(5);\n    return saved.map(s => s.query);\n  });\n  \n  const debouncedQuery = useDebounce(query, 300);\n  const searchRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Termk statisztikk\n  const productStats = useMemo(() => {\n    if (!products?.length) return null;\n    const categories = new Set(products.map(p => (p.category || '').split(' > ')[0]).filter(Boolean));\n    return {\n      total: products.length,\n      categories: Array.from(categories).slice(0, 10)\n    };\n  }, [products]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Alap keress + AI keress\n  useEffect(() => {\n    if (debouncedQuery.length < 2) {\n      setSuggestions([]);\n      setAiSuggestions([]);\n      setAiInsight('');\n      return;\n    }\n\n    // Alapkeress (instant)\n    const basicMatches = searchProducts(debouncedQuery);\n    setSuggestions(basicMatches.slice(0, 4));\n\n    // AI keress komplexebb lekrdezsekhez\n    if (debouncedQuery.length > 5 && (\n      debouncedQuery.includes(' ') || \n      /\\d/.test(debouncedQuery) ||\n      debouncedQuery.includes('alatt') ||\n      debouncedQuery.includes('felett')\n    )) {\n      performAISearch(debouncedQuery);\n    }\n  }, [debouncedQuery, products]);\n\n  // Alap keress termkekre\n  const searchProducts = (searchQuery) => {\n    if (!products?.length) return [];\n    \n    const terms = searchQuery.toLowerCase().split(/\\s+/).filter(t => t.length > 1);\n    if (terms.length === 0) return [];\n\n    // r szrs kinyerse\n    let maxPrice = null;\n    let minPrice = null;\n    \n    const priceMatch = searchQuery.match(/(\\d+)\\s*(ezer|k|ft|forint)?.*?(alatt|felett|fltt)/i);\n    if (priceMatch) {\n      const amount = parseInt(priceMatch[1]);\n      const multiplier = priceMatch[2]?.toLowerCase() === 'ezer' || priceMatch[2]?.toLowerCase() === 'k' ? 1000 : 1;\n      const direction = priceMatch[3].toLowerCase();\n      \n      if (direction === 'alatt') {\n        maxPrice = amount * multiplier;\n      } else {\n        minPrice = amount * multiplier;\n      }\n    }\n\n    const scored = products.map(p => {\n      const name = (p.name || '').toLowerCase();\n      const category = (p.category || '').toLowerCase();\n      const price = p.salePrice || p.price || 0;\n      \n      let score = 0;\n      \n      // r szrs\n      if (maxPrice && price > maxPrice) return { product: p, score: -100 };\n      if (minPrice && price < minPrice) return { product: p, score: -100 };\n      \n      // Kulcssz egyezs\n      terms.forEach(term => {\n        if (term === 'alatt' || term === 'felett' || term === 'fltt' || /^\\d+$/.test(term)) return;\n        if (name.includes(term)) score += 15;\n        if (category.includes(term)) score += 10;\n      });\n      \n      return { product: p, score };\n    });\n\n    return scored\n      .filter(s => s.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 8)\n      .map(s => s.product);\n  };\n\n  // AI-alap keress komplex lekrdezsekhez\n  const performAISearch = async (searchQuery) => {\n    setIsAISearching(true);\n    setAiInsight('');\n\n    try {\n      // Elszrt termkek az AI-nak\n      const basicResults = searchProducts(searchQuery);\n      \n      const prompt = `Btor keress elemzse. A felhasznl ezt keresi: \"${searchQuery}\"\n\nFELADAT:\n1. rtelmezd a keresst (stlus, r, tpus, szn stb.)\n2. Adj egy rvid, hasznos tippet (1 mondat, magyarul)\n\nVlaszolj CSAK gy, semmi mssal:\nTIPP: [a tipped ide]`;\n\n      const result = await generateText(prompt, { temperature: 0.5, maxTokens: 80 });\n\n      if (result.success && result.text) {\n        const tippMatch = result.text.match(/TIPP:\\s*(.+)/i);\n        if (tippMatch) {\n          setAiInsight(tippMatch[1].trim());\n        }\n      }\n\n      // Ha alapkeress kevs tallatot hozott, prbljunk szinonimkkal\n      if (basicResults.length < 4) {\n        const expandedResults = expandSearch(searchQuery);\n        setAiSuggestions(expandedResults.filter(p => !basicResults.some(b => b.id === p.id)).slice(0, 4));\n      }\n\n    } catch (error) {\n      console.warn('AI search error:', error);\n    } finally {\n      setIsAISearching(false);\n    }\n  };\n\n  // Kibvtett keress szinonimkkal\n  const expandSearch = (searchQuery) => {\n    const synonyms = {\n      'kanap': ['lgarnitra', 'sofa', 'szfa', 'hever'],\n      'lgarnitra': ['kanap', 'sofa', 'sarokl'],\n      'asztal': ['tkezasztal', 'dohnyzasztal', 'rasztal'],\n      'szk': ['tkez szk', 'forgszk', 'fotel'],\n      'fotel': ['karosszk', 'pihenfotel', 'relax'],\n      'gy': ['franciagy', 'hlszoba', 'boxspring'],\n      'szekrny': ['gardrb', 'ruhsszekrny', 'komd'],\n      'modern': ['minimalista', 'kortrs', 'letisztult'],\n      'skandinv': ['nordic', 'natr', 'vilgos'],\n      'olcs': ['akcis', 'kedvezmnyes', 'alacsony r'],\n    };\n\n    const queryLower = searchQuery.toLowerCase();\n    const expandedTerms = [queryLower];\n\n    Object.entries(synonyms).forEach(([key, values]) => {\n      if (queryLower.includes(key)) {\n        expandedTerms.push(...values);\n      }\n    });\n\n    // Keress a kibvtett kifejezsekkel\n    const results = [];\n    expandedTerms.forEach(term => {\n      const matches = products.filter(p => {\n        const text = `${p.name || ''} ${p.category || ''}`.toLowerCase();\n        return text.includes(term);\n      });\n      results.push(...matches);\n    });\n\n    // Deduplikls\n    const uniqueResults = [...new Map(results.map(p => [p.id, p])).values()];\n    return uniqueResults.slice(0, 8);\n  };\n\n  const handleSearch = (searchTerm) => {\n    const term = searchTerm || query;\n    if (term.trim()) {\n      // Ments a history-ba\n      trackSearch(term);\n      const updated = [term, ...recentSearches.filter(s => s !== term)].slice(0, 5);\n      setRecentSearches(updated);\n      \n      onSearch(term);\n      setIsOpen(false);\n    }\n  };\n\n  const handleSelectProduct = (product) => {\n    onSelectProduct(product);\n    setIsOpen(false);\n    setQuery('');\n  };\n\n  // AI ajnlsok megjelentse a shopban\n  const handleShowAIResults = () => {\n    const allResults = [...suggestions, ...aiSuggestions];\n    if (allResults.length > 0 && onShowRecommendations) {\n      onShowRecommendations(allResults, `Keress: \"${query}\"`);\n    }\n    handleSearch(query);\n  };\n\n  const clearSearch = () => {\n    setQuery('');\n    setSuggestions([]);\n    setAiSuggestions([]);\n    setAiInsight('');\n    inputRef.current?.focus();\n  };\n\n  const formatPrice = (price) => new Intl.NumberFormat('hu-HU', { style: 'currency', currency: 'HUF', maximumFractionDigits: 0 }).format(price);\n\n  return (\n    <div ref={searchRef} className=\"relative w-full\">\n      {/* Search Input */}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 sm:left-4 lg:left-5 xl:left-6 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 pointer-events-none\" />\n        <input\n          ref={inputRef}\n          type=\"text\"\n          placeholder=\"Keress... (pl: modern kanap 200 ezer alatt)\"\n          value={query}\n          onChange={(e) => {\n            setQuery(e.target.value);\n            setIsOpen(true);\n          }}\n          onFocus={() => setIsOpen(true)}\n          onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n          className=\"w-full h-12 sm:h-12 lg:h-14 xl:h-16 2xl:h-[72px] pl-11 sm:pl-12 lg:pl-14 xl:pl-16 pr-11 sm:pr-12 lg:pr-14 xl:pr-16 text-base sm:text-base lg:text-lg xl:text-xl 2xl:text-2xl border-2 border-gray-200 rounded-xl lg:rounded-2xl bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all placeholder:text-gray-400 font-medium\"\n        />\n        {query && (\n          <button\n            onClick={clearSearch}\n            className=\"absolute right-2 sm:right-3 lg:right-4 xl:right-5 top-1/2 -translate-y-1/2 w-9 h-9 lg:w-10 lg:h-10 xl:w-12 xl:h-12 flex items-center justify-center text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors\"\n            aria-label=\"Trls\"\n          >\n            <X className=\"w-5 h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7\" />\n          </button>\n        )}\n      </div>\n\n      {/* Dropdown */}\n      {isOpen && (query || recentSearches.length > 0) && (\n        <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl lg:rounded-2xl shadow-2xl border border-gray-100 max-h-[70vh] overflow-y-auto z-50 animate-fade-in\">\n          \n          {/* AI Insight */}\n          {aiInsight && (\n            <div className=\"p-3 sm:p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-100\">\n              <div className=\"flex items-start gap-2\">\n                <Lightbulb className=\"w-4 h-4 text-amber-500 shrink-0 mt-0.5\" />\n                <p className=\"text-sm text-gray-700\">{aiInsight}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Recent Searches */}\n          {!query && recentSearches.length > 0 && (\n            <div className=\"p-3 sm:p-4 border-b border-gray-100\">\n              <div className=\"flex items-center justify-between px-1 mb-2\">\n                <span className=\"text-xs sm:text-sm font-semibold text-gray-500 flex items-center gap-1.5\">\n                  <Clock className=\"w-3.5 h-3.5\" /> Korbbi keressek\n                </span>\n                <button\n                  onClick={() => { setRecentSearches([]); localStorage.removeItem('recent_searches'); }}\n                  className=\"text-xs sm:text-sm text-indigo-600 hover:text-indigo-700 font-medium\"\n                >\n                  Trls\n                </button>\n              </div>\n              <div className=\"space-y-1\">\n                {recentSearches.map((search, idx) => (\n                  <button\n                    key={idx}\n                    onClick={() => { setQuery(search); handleSearch(search); }}\n                    className=\"w-full text-left px-3 py-2.5 min-h-[44px] hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2\"\n                  >\n                    <Clock className=\"w-4 h-4 text-gray-300 shrink-0\" />\n                    <span className=\"text-sm sm:text-[15px] text-gray-700\">{search}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* AI Loading */}\n          {isAISearching && (\n            <div className=\"p-4 flex items-center justify-center gap-2 text-indigo-600 border-b border-gray-100\">\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\n              <span className=\"text-sm\">AI elemzi a keresst...</span>\n            </div>\n          )}\n\n          {/* Product Suggestions */}\n          {suggestions.length > 0 && (\n            <div className=\"p-3 sm:p-4\">\n              <div className=\"text-xs sm:text-sm font-semibold text-gray-500 mb-2 px-1 flex items-center gap-1.5\">\n                <TrendingUp className=\"w-3.5 h-3.5\" /> Tallatok ({suggestions.length})\n              </div>\n              <div className=\"space-y-1\">\n                {suggestions.map((product) => (\n                  <button\n                    key={product.id}\n                    onClick={() => handleSelectProduct(product)}\n                    className=\"w-full text-left px-2 sm:px-3 py-2.5 min-h-[44px] hover:bg-indigo-50 rounded-xl transition-colors flex items-center gap-3 group\"\n                  >\n                    <img\n                      src={product.images?.[0] || product.image || PLACEHOLDER_IMAGE}\n                      alt=\"\"\n                      className=\"w-11 h-11 sm:w-12 sm:h-12 object-contain rounded-lg bg-gray-50 shrink-0\"\n                      onError={(e) => { e.target.src = PLACEHOLDER_IMAGE; }}\n                    />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm sm:text-[15px] font-medium text-gray-900 truncate group-hover:text-indigo-600 transition-colors\">\n                        {product.name}\n                      </p>\n                      <p className=\"text-xs sm:text-sm text-gray-400 truncate\">{product.category}</p>\n                    </div>\n                    <span className=\"text-sm sm:text-[15px] font-bold text-gray-900 whitespace-nowrap shrink-0\">\n                      {formatPrice(product.salePrice || product.price)}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* AI Extended Suggestions */}\n          {aiSuggestions.length > 0 && (\n            <div className=\"p-3 sm:p-4 bg-gradient-to-b from-purple-50/50 to-white border-t border-purple-100\">\n              <div className=\"text-xs sm:text-sm font-semibold text-purple-600 mb-2 px-1 flex items-center gap-1.5\">\n                <Sparkles className=\"w-3.5 h-3.5\" /> AI javaslatok\n              </div>\n              <div className=\"space-y-1\">\n                {aiSuggestions.map((product) => (\n                  <button\n                    key={product.id}\n                    onClick={() => handleSelectProduct(product)}\n                    className=\"w-full text-left px-2 sm:px-3 py-2.5 min-h-[44px] hover:bg-purple-50 rounded-xl transition-colors flex items-center gap-3 group\"\n                  >\n                    <img\n                      src={product.images?.[0] || product.image || PLACEHOLDER_IMAGE}\n                      alt=\"\"\n                      className=\"w-11 h-11 sm:w-12 sm:h-12 object-contain rounded-lg bg-gray-50 shrink-0\"\n                      onError={(e) => { e.target.src = PLACEHOLDER_IMAGE; }}\n                    />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm sm:text-[15px] font-medium text-gray-900 truncate group-hover:text-purple-600 transition-colors\">\n                        {product.name}\n                      </p>\n                      <p className=\"text-xs sm:text-sm text-gray-400 truncate\">{product.category}</p>\n                    </div>\n                    <span className=\"text-sm sm:text-[15px] font-bold text-gray-900 whitespace-nowrap shrink-0\">\n                      {formatPrice(product.salePrice || product.price)}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Show All Results Button */}\n          {(suggestions.length > 0 || aiSuggestions.length > 0) && onShowRecommendations && (\n            <div className=\"p-3 border-t border-gray-100\">\n              <button\n                onClick={handleShowAIResults}\n                className=\"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:opacity-90 transition-opacity flex items-center justify-center gap-2\"\n              >\n                <Sparkles className=\"w-4 h-4\" />\n                sszes tallat megtekintse ({suggestions.length + aiSuggestions.length})\n              </button>\n            </div>\n          )}\n\n          {/* No Results */}\n          {query && suggestions.length === 0 && aiSuggestions.length === 0 && !isAISearching && (\n            <div className=\"p-8 text-center text-gray-400\">\n              <Search className=\"w-10 h-10 mx-auto mb-3 opacity-40\" />\n              <p className=\"text-sm sm:text-base\">Nincs tallat: <strong className=\"text-gray-600\">{query}</strong></p>\n              <p className=\"text-xs mt-2\">Prblj msik kulcsszt, pl. \"kanap\" vagy \"asztal\"</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SmartSearch;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Sparkles, ThumbsUp, ThumbsDown, ArrowRight } from 'lucide-react';\nimport { EnhancedProductCard } from './EnhancedProductCard';\nimport { generateText } from '../../services/geminiService';\nimport { \n  getSimilarProducts, \n  likeProduct, \n  dislikeProduct, \n  isProductLiked,\n  getDislikedProducts \n} from '../../services/userPreferencesService';\n\n/**\n * AI-Powered Similar Products Recommendation\n * Uses user preferences and AI for personalized recommendations\n */\nexport const SimilarProducts = ({ \n  currentProduct, \n  allProducts, \n  onToggleWishlist, \n  wishlist = [], \n  onQuickView,\n  maxResults = 4 \n}) => {\n  const [similarProducts, setSimilarProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [aiReason, setAiReason] = useState('');\n\n  useEffect(() => {\n    if (currentProduct && allProducts.length > 0) {\n      findSimilarProducts();\n    }\n  }, [currentProduct, allProducts]);\n\n  const findSimilarProducts = async () => {\n    setIsLoading(true);\n    setAiReason('');\n\n    try {\n      // Elszr prbljuk a userPreferencesService-t (gyors, loklis)\n      const localSimilar = getSimilarProducts(currentProduct, allProducts, maxResults + 4);\n      \n      if (localSimilar.length >= maxResults) {\n        // Van elg loklis tallat\n        setSimilarProducts(localSimilar.slice(0, maxResults));\n        setAiReason('Szemlyre szabott ajnls a bngszsi elzmnyek alapjn');\n        setIsLoading(false);\n        return;\n      }\n\n      // Ha kevs loklis tallat van, krjnk AI-tl is segtsget\n      const productContext = allProducts\n        .filter(p => p.id !== currentProduct.id)\n        .slice(0, 30)\n        .map(p => `${p.name} (${p.category}) - ${(p.salePrice || p.price || 0).toLocaleString('hu-HU')} Ft`)\n        .join('\\n');\n\n      const prompt = `A vsrl pp ezt nzi: \"${currentProduct.name}\" (${currentProduct.category})\nr: ${(currentProduct.salePrice || currentProduct.price || 0).toLocaleString('hu-HU')} Ft\n\nElrhet termkek:\n${productContext}\n\nAjnlj 4 hasonl termket ami illik hozz! \nVlaszolj egyetlen mondatban, hogy MIRT passzolnak ezek.\nCsak az indoklst rd meg, ne a termkneveket!`;\n\n      const result = await generateText(prompt, { temperature: 0.7, maxTokens: 100 });\n      \n      if (result.success && result.text) {\n        setAiReason(result.text);\n      }\n\n      // Kombinljuk a loklis s egyszer hasonlsgot\n      const combined = localSimilar.length > 0 \n        ? localSimilar \n        : findBasicSimilar();\n      \n      setSimilarProducts(combined.slice(0, maxResults));\n\n    } catch (error) {\n      console.warn('Similar products error:', error);\n      setSimilarProducts(findBasicSimilar());\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const findBasicSimilar = () => {\n    // Basic similarity: same category, similar price range\n    const price = currentProduct.salePrice || currentProduct.price || 0;\n    const priceRange = price * 0.4; // 40%\n    const dislikedIds = getDislikedProducts();\n    \n    const similar = allProducts\n      .filter(p => \n        p.id !== currentProduct.id &&\n        !dislikedIds.includes(p.id) &&\n        (p.category || '').includes((currentProduct.category || '').split(' > ')[0]) &&\n        Math.abs((p.salePrice || p.price || 0) - price) <= priceRange\n      )\n      .sort(() => Math.random() - 0.5)\n      .slice(0, maxResults);\n\n    return similar;\n  };\n\n  // Feedback kezels\n  const handleLike = (productId) => {\n    likeProduct(productId);\n  };\n\n  const handleDislike = (productId) => {\n    dislikeProduct(productId);\n    // Eltvoltjuk a listbl\n    setSimilarProducts(prev => prev.filter(p => p.id !== productId));\n  };\n\n  if (similarProducts.length === 0 && !isLoading) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-gradient-to-br from-purple-50 to-indigo-50 py-8 sm:py-12 px-4 sm:px-6 lg:px-8 my-8 sm:my-16 rounded-2xl sm:rounded-3xl\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Sparkles className=\"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600\" />\n              <h2 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900\">\n                Neked ajnljuk\n              </h2>\n            </div>\n            {aiReason && (\n              <p className=\"text-sm sm:text-base text-gray-600 max-w-xl\">\n                {aiReason}\n              </p>\n            )}\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"flex items-center gap-3 text-indigo-600\">\n              <Sparkles className=\"w-6 h-6 animate-pulse\" />\n              <span className=\"text-base sm:text-lg font-medium\">Szemlyre szabott ajnls kszl...</span>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6\">\n            {similarProducts.map((product, index) => (\n              <div key={product.id} className=\"relative group\">\n                <EnhancedProductCard\n                  product={product}\n                  onToggleWishlist={onToggleWishlist}\n                  isWishlisted={wishlist.includes(product.id)}\n                  onQuickView={onQuickView}\n                  showBadges={false}\n                  index={index}\n                />\n                \n                {/* Feedback buttons */}\n                <div className=\"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                  <button\n                    onClick={(e) => { e.stopPropagation(); handleLike(product.id); }}\n                    className={`p-1.5 rounded-full bg-white shadow-sm ${isProductLiked(product.id) ? 'text-green-600' : 'text-gray-400 hover:text-green-600'} transition-colors`}\n                    title=\"Tetszik\"\n                  >\n                    <ThumbsUp className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={(e) => { e.stopPropagation(); handleDislike(product.id); }}\n                    className=\"p-1.5 rounded-full bg-white shadow-sm text-gray-400 hover:text-red-600 transition-colors\"\n                    title=\"Nem tetszik\"\n                  >\n                    <ThumbsDown className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Clock, ArrowRight } from 'lucide-react';\nimport { EnhancedProductCard } from './EnhancedProductCard';\n\n/**\n * Recently Viewed Products - Tracks and displays user's browsing history\n */\nexport const RecentlyViewed = ({ \n  onToggleWishlist, \n  wishlist, \n  onQuickView,\n  maxItems = 4 \n}) => {\n  const [recentProducts, setRecentProducts] = useState([]);\n\n  useEffect(() => {\n    // Load from localStorage\n    const recent = JSON.parse(localStorage.getItem('recently_viewed') || '[]');\n    setRecentProducts(recent.slice(0, maxItems));\n\n    // Listen for storage changes (when new product is viewed)\n    const handleStorageChange = () => {\n      const updated = JSON.parse(localStorage.getItem('recently_viewed') || '[]');\n      setRecentProducts(updated.slice(0, maxItems));\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('recently-viewed-updated', handleStorageChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('recently-viewed-updated', handleStorageChange);\n    };\n  }, [maxItems]);\n\n  if (recentProducts.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 my-16\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Clock className=\"w-6 h-6 text-gray-600\" />\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\n                Utoljra megtekintett\n              </h2>\n            </div>\n            <p className=\"text-gray-600\">\n              Bngssz vissza a nemrg nzett termkek kztt\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {recentProducts.map(product => (\n            <EnhancedProductCard\n              key={product.id}\n              product={product}\n              onToggleWishlist={onToggleWishlist}\n              isWishlisted={wishlist.includes(product.id)}\n              onQuickView={onQuickView}\n              showBadges={false}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Utility function to track viewed products\n * Call this when a product is viewed (e.g., in ProductModal)\n */\nexport const trackProductView = (product) => {\n  try {\n    const recent = JSON.parse(localStorage.getItem('recently_viewed') || '[]');\n    \n    // Remove if already exists\n    const filtered = recent.filter(p => p.id !== product.id);\n    \n    // Add to beginning\n    const updated = [product, ...filtered].slice(0, 10); // Keep max 10\n    \n    localStorage.setItem('recently_viewed', JSON.stringify(updated));\n    \n    // Dispatch custom event\n    window.dispatchEvent(new Event('recently-viewed-updated'));\n  } catch (error) {\n    console.error('Error tracking product view:', error);\n  }\n};\n","import React, { useState } from 'react';\nimport { X, Check, ArrowLeftRight, Plus } from 'lucide-react';\nimport { formatPrice, PLACEHOLDER_IMAGE } from '../../utils/helpers';\n\n/**\n * Product Comparison Tool\n */\nexport const ProductComparison = ({ \n  comparisonList = [], \n  onRemove, \n  onClear,\n  onAddMore \n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  if (comparisonList.length === 0) {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Floating Comparison Button - mobile aware of 40px UNAS bottom nav */}\n      <button\n        onClick={() => setIsExpanded(true)}\n        className=\"fixed bottom-[calc(1.5rem+44px)] md:bottom-6 left-4 md:left-auto md:right-6 z-40 bg-indigo-600 text-white px-4 md:px-6 py-2.5 md:py-3 rounded-full shadow-2xl hover:bg-indigo-700 transition-all flex items-center gap-2 hover:scale-105 transform text-sm md:text-base\"\n      >\n        <ArrowLeftRight className=\"w-4 h-4 md:w-5 md:h-5\" />\n        <span className=\"font-bold\">sszehasonlts ({comparisonList.length})</span>\n      </button>\n\n      {/* Comparison Modal */}\n      {isExpanded && (\n        <div className=\"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in\" onClick={() => setIsExpanded(false)}>\n          <div className=\"bg-white rounded-3xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col\" onClick={e => e.stopPropagation()}>\n            {/* Header */}\n            <div className=\"p-6 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-indigo-50 to-purple-50\">\n              <div>\n                <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                  <ArrowLeftRight className=\"w-6 h-6 text-indigo-600\" />\n                  Termkek sszehasonltsa\n                </h2>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  {comparisonList.length} termk kivlasztva\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={onClear}\n                  className=\"px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-colors font-medium\"\n                >\n                  sszes trlse\n                </button>\n                <button\n                  onClick={() => setIsExpanded(false)}\n                  className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\n                >\n                  <X className=\"w-5 h-5 text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Comparison Table */}\n            <div className=\"flex-1 overflow-auto p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {comparisonList.map((product) => (\n                  <div key={product.id} className=\"border border-gray-200 rounded-2xl overflow-hidden hover:shadow-lg transition-shadow relative\">\n                    {/* Remove button */}\n                    <button\n                      onClick={() => onRemove(product.id)}\n                      className=\"absolute top-3 right-3 z-10 bg-white/90 p-1.5 rounded-full shadow-md hover:bg-red-50 hover:text-red-600 transition-colors\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n\n                    {/* Image */}\n                    <div className=\"h-48 bg-gray-50 flex items-center justify-center p-4\">\n                      <img\n                        src={product.images?.[0] || PLACEHOLDER_IMAGE}\n                        alt={product.name}\n                        className=\"max-h-full max-w-full object-contain\"\n                        onError={(e) => {e.target.src = PLACEHOLDER_IMAGE}}\n                      />\n                    </div>\n\n                    {/* Details */}\n                    <div className=\"p-4 space-y-3\">\n                      <h3 className=\"font-bold text-lg text-gray-900 line-clamp-2\">{product.name}</h3>\n                      \n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                          <span className=\"text-gray-600\">r:</span>\n                          <span className=\"font-bold text-indigo-600 text-lg\">{formatPrice(product.price)}</span>\n                        </div>\n                        \n                        <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                          <span className=\"text-gray-600\">Kategria:</span>\n                          <span className=\"font-medium text-gray-900\">{product.category}</span>\n                        </div>\n                        \n                        <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                          <span className=\"text-gray-600\">Kszlet:</span>\n                          <span className={`font-medium ${product.inStock ? 'text-green-600' : 'text-red-600'}`}>\n                            {product.inStock ? 'Raktron' : 'Nincs raktron'}\n                          </span>\n                        </div>\n\n                        {product.params && (\n                          <div className=\"pt-2\">\n                            <span className=\"text-gray-600 text-xs block mb-1\">Paramterek:</span>\n                            <p className=\"text-gray-700 text-xs line-clamp-3\">{product.params}</p>\n                          </div>\n                        )}\n                      </div>\n\n                      <a\n                        href={product.link}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"block w-full bg-indigo-600 text-white py-2 rounded-xl text-center font-bold hover:bg-indigo-700 transition-colors text-sm mt-4\"\n                      >\n                        Megveszem\n                      </a>\n                    </div>\n                  </div>\n                ))}\n\n                {/* Add More */}\n                {comparisonList.length < 6 && (\n                  <div\n                    onClick={() => {\n                      setIsExpanded(false);\n                      onAddMore?.();\n                    }}\n                    className=\"border-2 border-dashed border-gray-300 rounded-2xl flex flex-col items-center justify-center p-8 hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer\"\n                  >\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\n                      <Plus className=\"w-8 h-8 text-gray-400\" />\n                    </div>\n                    <p className=\"text-gray-600 font-medium\">Mg tbb termk</p>\n                    <p className=\"text-gray-400 text-sm mt-1\">Max. 6 termk</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\n/**\n * Comparison Toggle Button for Product Cards\n */\nexport const ComparisonToggle = ({ product, isInComparison, onToggle }) => {\n  return (\n    <button\n      onClick={(e) => {\n        e.stopPropagation();\n        onToggle(product);\n      }}\n      className={`p-2 rounded-full shadow-md transition-all transform hover:scale-110 ${\n        isInComparison\n          ? 'bg-indigo-500 text-white'\n          : 'bg-white text-gray-600 hover:bg-indigo-50 hover:text-indigo-600'\n      }`}\n      title={isInComparison ? 'Eltvolts az sszehasonltsbl' : 'Hozzads az sszehasonltshoz'}\n    >\n      <ArrowLeftRight className=\"w-4 h-4\" />\n    </button>\n  );\n};\n\n/**\n * Hook for managing comparison list\n */\nexport const useComparison = () => {\n  const [comparisonList, setComparisonList] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('comparison_list') || '[]');\n    } catch {\n      return [];\n    }\n  });\n\n  const addToComparison = (product) => {\n    if (comparisonList.length >= 6) {\n      return { success: false, message: 'Maximum 6 termk hasonlthat ssze' };\n    }\n    \n    if (comparisonList.find(p => p.id === product.id)) {\n      return { success: false, message: 'Ez a termk mr az sszehasonltsban van' };\n    }\n\n    const updated = [...comparisonList, product];\n    setComparisonList(updated);\n    localStorage.setItem('comparison_list', JSON.stringify(updated));\n    return { success: true, message: 'Hozzadva az sszehasonltshoz' };\n  };\n\n  const removeFromComparison = (productId) => {\n    const updated = comparisonList.filter(p => p.id !== productId);\n    setComparisonList(updated);\n    localStorage.setItem('comparison_list', JSON.stringify(updated));\n  };\n\n  const clearComparison = () => {\n    setComparisonList([]);\n    localStorage.removeItem('comparison_list');\n  };\n\n  const toggleComparison = (product) => {\n    const exists = comparisonList.find(p => p.id === product.id);\n    if (exists) {\n      removeFromComparison(product.id);\n      return { success: true, message: 'Eltvoltva az sszehasonltsbl', action: 'removed' };\n    } else {\n      return { ...addToComparison(product), action: 'added' };\n    }\n  };\n\n  const isInComparison = (productId) => {\n    return comparisonList.some(p => p.id === productId);\n  };\n\n  return {\n    comparisonList,\n    addToComparison,\n    removeFromComparison,\n    clearComparison,\n    toggleComparison,\n    isInComparison\n  };\n};\n","import React, { useState, useEffect } from 'react';\nimport { Filter, X, DollarSign, Package, Tag } from 'lucide-react';\n\n/**\n * Advanced Filters Panel\n */\nexport const AdvancedFilters = ({ \n  products = [],\n  onFilterChange,\n  initialFilters = {}\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [filters, setFilters] = useState({\n    priceMin: initialFilters.priceMin || 0,\n    priceMax: initialFilters.priceMax || 1000000,\n    inStockOnly: initialFilters.inStockOnly || false,\n    categories: initialFilters.categories || [],\n    ...initialFilters\n  });\n\n  // Calculate price range from products (avoid Math.min/max spread  168k args = stack overflow)\n  const priceRange = React.useMemo(() => {\n    if (products.length === 0) return { min: 0, max: 1000000 };\n    let min = Infinity;\n    let max = -Infinity;\n    const cap = Math.min(products.length, 100000);\n    for (let i = 0; i < cap; i++) {\n      const p = products[i].price;\n      if (p < min) min = p;\n      if (p > max) max = p;\n    }\n    return {\n      min: min === Infinity ? 0 : Math.floor(min / 1000) * 1000,\n      max: max === -Infinity ? 1000000 : Math.ceil(max / 1000) * 1000\n    };\n  }, [products]);\n\n  // Get unique categories (limit to 500 to avoid huge lists; sample if needed)\n  const categories = React.useMemo(() => {\n    const seen = new Set();\n    const step = Math.max(1, Math.floor(products.length / 20000));\n    for (let i = 0; i < products.length && seen.size < 500; i += step) {\n      const c = products[i]?.category;\n      if (c) seen.add(c);\n    }\n    return [...seen].sort();\n  }, [products]);\n\n  // Extract colors and materials from params (sample to avoid long loop on 168k)\n  const extractedAttributes = React.useMemo(() => {\n    const colors = new Set();\n    const materials = new Set();\n    const step = Math.max(1, Math.floor(products.length / 5000));\n    for (let i = 0; i < products.length; i += step) {\n      const p = products[i];\n      if (p.params) {\n        const params = p.params.toLowerCase();\n        // Simple extraction - can be enhanced\n        if (params.includes('szn:') || params.includes('szne:')) {\n          const match = params.match(/szn[e]?:\\s*([^,]+)/i);\n          if (match) colors.add(match[1].trim());\n        }\n        if (params.includes('anyag:')) {\n          const match = params.match(/anyag:\\s*([^,]+)/i);\n          if (match) materials.add(match[1].trim());\n        }\n      }\n    }\n\n    return {\n      colors: Array.from(colors).slice(0, 10),\n      materials: Array.from(materials).slice(0, 10)\n    };\n  }, [products]);\n\n  useEffect(() => {\n    onFilterChange?.(filters);\n  }, [filters]);\n\n  const handlePriceChange = (type, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [type]: parseInt(value)\n    }));\n  };\n\n  const toggleCategory = (category) => {\n    setFilters(prev => ({\n      ...prev,\n      categories: prev.categories.includes(category)\n        ? prev.categories.filter(c => c !== category)\n        : [...prev.categories, category]\n    }));\n  };\n\n  const previousFiltersRef = React.useRef(null);\n  const [hasRestorableFilters, setHasRestorableFilters] = useState(false);\n\n  const clearFilters = () => {\n    previousFiltersRef.current = { ...filters };\n    setHasRestorableFilters(true);\n    setFilters({\n      priceMin: priceRange.min,\n      priceMax: priceRange.max,\n      inStockOnly: false,\n      categories: []\n    });\n  };\n\n  const restorePreviousFilters = () => {\n    if (previousFiltersRef.current) {\n      setFilters(previousFiltersRef.current);\n      previousFiltersRef.current = null;\n      setHasRestorableFilters(false);\n    }\n  };\n\n  const activeFilterCount = [\n    filters.inStockOnly,\n    filters.categories.length > 0,\n    filters.priceMin > priceRange.min,\n    filters.priceMax < priceRange.max\n  ].filter(Boolean).length;\n\n  const panelContent = (\n    <>\n      <div className=\"p-4 border-b border-gray-200 flex justify-between items-center shrink-0\">\n        <h3 className=\"font-bold text-lg flex items-center gap-2\">\n          <Filter className=\"w-5 h-5 text-indigo-600\" />\n          Szrk\n        </h3>\n        <button\n          type=\"button\"\n          onClick={() => setIsOpen(false)}\n          className=\"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors\"\n          aria-label=\"Szrk bezrsa\"\n        >\n          <X className=\"w-5 h-5 text-gray-600\" />\n        </button>\n      </div>\n\n      <div className=\"p-4 space-y-6 max-h-[60vh] md:max-h-96 overflow-y-auto custom-scrollbar flex-1 min-h-0\">\n            {/* Price Range */}\n            <div>\n              <label className=\"flex items-center gap-2 text-sm font-bold text-gray-700 mb-3\">\n                <DollarSign className=\"w-4 h-4\" />\n                r tartomny\n              </label>\n              <div className=\"space-y-3\">\n                <div>\n                  <label className=\"text-xs text-gray-600\">Minimum</label>\n                  <input\n                    type=\"range\"\n                    min={priceRange.min}\n                    max={priceRange.max}\n                    step=\"5000\"\n                    value={filters.priceMin}\n                    onChange={(e) => handlePriceChange('priceMin', e.target.value)}\n                    className=\"w-full\"\n                  />\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {new Intl.NumberFormat('hu-HU', { style: 'currency', currency: 'HUF', maximumFractionDigits: 0 }).format(filters.priceMin)}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-xs text-gray-600\">Maximum</label>\n                  <input\n                    type=\"range\"\n                    min={priceRange.min}\n                    max={priceRange.max}\n                    step=\"5000\"\n                    value={filters.priceMax}\n                    onChange={(e) => handlePriceChange('priceMax', e.target.value)}\n                    className=\"w-full\"\n                  />\n                  <div className=\"text-sm font-medium text-gray-900\">\n                    {new Intl.NumberFormat('hu-HU', { style: 'currency', currency: 'HUF', maximumFractionDigits: 0 }).format(filters.priceMax)}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Stock Filter */}\n            <div>\n              <label className=\"flex items-center gap-2 text-sm font-bold text-gray-700 mb-2\">\n                <Package className=\"w-4 h-4\" />\n                Kszlet\n              </label>\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={filters.inStockOnly}\n                  onChange={(e) => setFilters(prev => ({ ...prev, inStockOnly: e.target.checked }))}\n                  className=\"w-4 h-4 text-indigo-600 rounded\"\n                />\n                <span className=\"text-sm text-gray-700\">Csak raktron lv termkek</span>\n              </label>\n            </div>\n\n            {/* Categories */}\n            {categories.length > 0 && (\n              <div>\n                <label className=\"flex items-center gap-2 text-sm font-bold text-gray-700 mb-2\">\n                  <Tag className=\"w-4 h-4\" />\n                  Kategrik\n                </label>\n                <div className=\"space-y-1 max-h-40 overflow-y-auto\">\n                  {categories.map(cat => (\n                    <label key={cat} className=\"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={filters.categories.includes(cat)}\n                        onChange={() => toggleCategory(cat)}\n                        className=\"w-4 h-4 text-indigo-600 rounded\"\n                      />\n                      <span className=\"text-sm text-gray-700\">{cat}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n            )}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t border-gray-200 flex flex-wrap gap-2 shrink-0\">\n        <button\n          type=\"button\"\n          onClick={clearFilters}\n          className=\"flex-1 min-w-[80px] px-4 py-3 min-h-[44px] border border-gray-300 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\n        >\n          Trls\n        </button>\n        {hasRestorableFilters && (\n          <button\n            type=\"button\"\n            onClick={restorePreviousFilters}\n            className=\"flex-1 min-w-[80px] px-4 py-3 min-h-[44px] border border-indigo-300 rounded-xl text-sm font-medium text-indigo-700 hover:bg-indigo-50 transition-colors\"\n          >\n            Visszallts\n          </button>\n        )}\n        <button\n          type=\"button\"\n          onClick={() => setIsOpen(false)}\n          className=\"flex-1 min-w-[80px] px-4 py-3 min-h-[44px] bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors\"\n        >\n          Alkalmaz\n        </button>\n      </div>\n    </>\n  );\n\n  return (\n    <>\n      {/* Filter Toggle Button */}\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative px-4 py-2 min-h-[44px] border-2 border-gray-200 rounded-xl hover:border-indigo-500 transition-all flex items-center gap-2 font-medium\"\n        aria-label=\"Szrk megnyitsa\"\n      >\n        <Filter className=\"w-4 h-4\" />\n        <span>Szrk</span>\n        {activeFilterCount > 0 && (\n          <span className=\"absolute -top-2 -right-2 bg-indigo-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center\">\n            {activeFilterCount}\n          </span>\n        )}\n      </button>\n\n      {/* Mobile: full-screen overlay + bottom sheet */}\n      {isOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-end md:hidden\" role=\"dialog\" aria-label=\"Szrk\">\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setIsOpen(false)} aria-hidden=\"true\" />\n          <div className=\"relative w-full max-h-[85vh] bg-white rounded-t-2xl shadow-2xl flex flex-col animate-fade-in-down\">\n            {panelContent}\n          </div>\n        </div>\n      )}\n\n      {/* Desktop: dropdown panel */}\n      {isOpen && (\n        <div className=\"hidden md:block absolute top-full right-0 mt-2 w-80 bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 animate-fade-in-down\">\n          {panelContent}\n        </div>\n      )}\n    </>\n  );\n};\n\n/**\n * Apply filters to product list\n */\nexport const applyFilters = (products, filters) => {\n  return products.filter(product => {\n    // Price filter\n    if (product.price < filters.priceMin || product.price > filters.priceMax) {\n      return false;\n    }\n\n    // Stock filter (support both inStock and in_stock)\n    if (filters.inStockOnly && !(product.inStock ?? product.in_stock)) {\n      return false;\n    }\n\n    // Category filter\n    if (filters.categories.length > 0 && !filters.categories.includes(product.category)) {\n      return false;\n    }\n\n    return true;\n  });\n};\n","import React, { useState } from 'react';\nimport { ShoppingCart, Check, Loader2 } from 'lucide-react';\n\n/**\n * QuickAddToCart - One-click add to cart with visual feedback\n * Uses CSS transitions instead of framer-motion\n */\nconst QuickAddToCart = ({ product, onAdd, className = '' }) => {\n  const [isAdding, setIsAdding] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const handleQuickAdd = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (window.navigator?.vibrate) {\n      window.navigator.vibrate(50);\n    }\n\n    setIsAdding(true);\n\n    try {\n      await new Promise(resolve => setTimeout(resolve, 500));\n      \n      if (onAdd) {\n        await onAdd(product);\n      }\n\n      setShowSuccess(true);\n      \n      setTimeout(() => {\n        setShowSuccess(false);\n        setIsAdding(false);\n      }, 2000);\n\n    } catch (error) {\n      setIsAdding(false);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleQuickAdd}\n      disabled={isAdding || showSuccess}\n      className={`\n        relative overflow-hidden\n        flex items-center justify-center gap-2\n        px-4 py-2 rounded-lg\n        font-medium text-sm\n        transition-all duration-200\n        transform hover:scale-105 active:scale-95\n        ${showSuccess \n          ? 'bg-green-500 text-white' \n          : 'bg-indigo-600 text-white hover:bg-indigo-700'\n        }\n        disabled:opacity-80\n        ${className}\n      `}\n    >\n      {isAdding && !showSuccess && (\n        <span className=\"flex items-center gap-2\">\n          <Loader2 className=\"w-4 h-4 animate-spin\" />\n          <span>Hozzads...</span>\n        </span>\n      )}\n\n      {showSuccess && (\n        <span className=\"flex items-center gap-2\">\n          <Check className=\"w-4 h-4\" />\n          <span>Hozzadva!</span>\n        </span>\n      )}\n\n      {!isAdding && !showSuccess && (\n        <span className=\"flex items-center gap-2\">\n          <ShoppingCart className=\"w-4 h-4\" />\n          <span>Kosrba</span>\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport default QuickAddToCart;\n","import React, { useState, useEffect } from 'react';\nimport { X, ShoppingCart, Heart, Share2, ExternalLink, Sparkles } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport QuickAddToCart from './QuickAddToCart';\nimport { PLACEHOLDER_IMAGE } from '../../utils/helpers';\n\n/**\n * ProductQuickPeek - Hover/click modal for quick product preview\n * Shows essential info without full page navigation\n */\nconst ProductQuickPeek = ({ product, isOpen, onClose, onAddToCart }) => {\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [activeImage, setActiveImage] = useState(0);\n\n  useEffect(() => {\n    if (isOpen) {\n      setImageLoaded(false);\n      setActiveImage(0);\n      // Prevent body scroll\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!product) return null;\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('hu-HU', {\n      style: 'currency',\n      currency: 'HUF',\n      maximumFractionDigits: 0\n    }).format(price);\n  };\n\n  // Parse product images (array or single)\n  const images = Array.isArray(product.images) && product.images.length > 0\n    ? product.images\n    : product.image ? [product.image] : [];\n  \n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50\"\n          />\n\n          {/* Wrapper: always center modal on screen (safe area for mobile) */}\n          <div className=\"fixed inset-0 flex items-center justify-center p-4 z-50 pointer-events-none overflow-y-auto\">\n            {/* Modal: centered, scrolls on small screens */}\n            <motion.div\n              initial={{ opacity: 0, scale: 0.9, y: 20 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.9, y: 20 }}\n              transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n              className=\"w-full max-w-4xl max-h-[90vh] my-auto pointer-events-auto flex flex-col\"\n            >\n            <div className=\"bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] min-h-0\">\n              {/* Header */}\n              <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50\">\n                <div className=\"flex items-center gap-2\">\n                  <Sparkles className=\"w-5 h-5 text-indigo-600\" />\n                  <h3 className=\"text-lg font-bold text-gray-900\">Gyors elnzet</h3>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={onClose}\n                  className=\"p-2 min-h-[44px] min-w-[44px] flex items-center justify-center hover:bg-white rounded-lg transition-colors\"\n                  aria-label=\"Bezrs\"\n                >\n                  <X className=\"w-5 h-5 text-gray-600\" />\n                </button>\n              </div>\n\n              {/* Content: scrollable, keeps modal centered */}\n              <div className=\"flex-1 min-h-0 overflow-y-auto\">\n                <div className=\"grid md:grid-cols-2 gap-6 p-6\">\n                  {/* Left: Image */}\n                  <div className=\"space-y-4\">\n                    <div className=\"relative aspect-square bg-gray-100 rounded-xl overflow-hidden group\">\n                      <img\n                        src={images[activeImage] || product.image || PLACEHOLDER_IMAGE}\n                        alt={product.name}\n                        onLoad={() => setImageLoaded(true)}\n                        className={`\n                          w-full h-full object-cover\n                          transition-all duration-300\n                          ${imageLoaded ? 'opacity-100 scale-100' : 'opacity-0 scale-105'}\n                        `}\n                      />\n                      \n                      {!imageLoaded && (\n                        <div className=\"absolute inset-0 flex items-center justify-center\">\n                          <div className=\"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin\" />\n                        </div>\n                      )}\n\n                      {/* Quick View Badge */}\n                      <div className=\"absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-indigo-600\">\n                        Gyors elnzet\n                      </div>\n                    </div>\n\n                    {/* Additional images thumbnails (if any) */}\n                    {images.length > 1 && (\n                      <div className=\"flex gap-2 overflow-x-auto\">\n                        {images.map((img, idx) => (\n                          <button\n                            key={idx}\n                            onClick={() => setActiveImage(idx)}\n                            className={`\n                              flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all\n                              ${activeImage === idx ? 'border-indigo-600 scale-110' : 'border-gray-200 hover:border-indigo-300'}\n                            `}\n                          >\n                            <img src={img} alt={`${product.name} ${idx + 1}`} className=\"w-full h-full object-cover\" />\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Right: Info */}\n                  <div className=\"flex flex-col gap-4\">\n                    {/* Category */}\n                    <div className=\"inline-flex items-center gap-2 text-sm text-indigo-600 font-medium\">\n                      <span>{product.category}</span>\n                    </div>\n\n                    {/* Title */}\n                    <h2 className=\"text-2xl font-bold text-gray-900 leading-tight\">\n                      {product.name}\n                    </h2>\n\n                    {/* Price */}\n                    <div className=\"flex items-baseline gap-2\">\n                      <span className=\"text-3xl font-bold text-indigo-600\">\n                        {formatPrice(product.price)}\n                      </span>\n                      {product.originalPrice && product.originalPrice > product.price && (\n                        <span className=\"text-lg text-gray-400 line-through\">\n                          {formatPrice(product.originalPrice)}\n                        </span>\n                      )}\n                    </div>\n\n                    {/* Description/Params */}\n                    {product.params && (\n                      <div className=\"prose prose-sm max-w-none text-gray-600\">\n                        <p>{product.params.substring(0, 200)}{product.params.length > 200 ? '...' : ''}</p>\n                      </div>\n                    )}\n\n                    {/* Features/Specs (if available) */}\n                    <div className=\"border-t border-b border-gray-200 py-4 space-y-2\">\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">llapot</span>\n                        <span className={`font-medium ${(product.inStock ?? product.in_stock) ? 'text-green-600' : 'text-red-500'}`}>\n                          {(product.inStock ?? product.in_stock) ? 'Raktron' : 'Kszlethiny'}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">Szllts</span>\n                        <span className=\"font-medium\">2-5 munkanap</span>\n                      </div>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex gap-3 mt-auto\">\n                      <QuickAddToCart\n                        product={product}\n                        onAdd={onAddToCart}\n                        className=\"flex-1\"\n                      />\n                      \n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          // Add to wishlist logic\n                        }}\n                        className=\"p-3 border-2 border-gray-200 rounded-lg hover:border-red-500 hover:text-red-500 transition-colors\"\n                      >\n                        <Heart className=\"w-5 h-5\" />\n                      </button>\n                      \n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          // Share logic\n                        }}\n                        className=\"p-3 border-2 border-gray-200 rounded-lg hover:border-indigo-500 hover:text-indigo-500 transition-colors\"\n                      >\n                        <Share2 className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n\n                    {/* Full Details Link */}\n                    <a\n                      href={product.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center justify-center gap-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium py-2\"\n                    >\n                      <span>Teljes lers megtekintse</span>\n                      <ExternalLink className=\"w-4 h-4\" />\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            </motion.div>\n          </div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default ProductQuickPeek;\n","import React, { useState, useEffect } from 'react';\nimport { X, Mail, Gift, Sparkles, CheckCircle } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n/**\n * SmartNewsletterPopup - Intelligent newsletter popup\n * Shows based on exit intent, time on site, and scroll depth\n */\nconst SmartNewsletterPopup = ({ onSubscribe }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    // Check if user already dismissed or subscribed\n    const dismissed = localStorage.getItem('newsletter_dismissed');\n    const subscribed = localStorage.getItem('newsletter_subscribed');\n    \n    if (dismissed || subscribed) {\n      return;\n    }\n\n    let timeOnSiteTimeout;\n    let scrollDepthTriggered = false;\n    let exitIntentTriggered = false;\n\n    // Strategy 1: Time on site (30 seconds)\n    timeOnSiteTimeout = setTimeout(() => {\n      if (!scrollDepthTriggered && !exitIntentTriggered) {\n        setIsVisible(true);\n      }\n    }, 30000);\n\n    // Strategy 2: Scroll depth (70%)\n    const handleScroll = () => {\n      if (scrollDepthTriggered) return;\n\n      const scrolled = window.pageYOffset;\n      const height = document.documentElement.scrollHeight - window.innerHeight;\n      const scrollPercent = (scrolled / height) * 100;\n\n      if (scrollPercent > 70) {\n        scrollDepthTriggered = true;\n        clearTimeout(timeOnSiteTimeout);\n        setIsVisible(true);\n      }\n    };\n\n    // Strategy 3: Exit intent (mouse leaving viewport)\n    const handleMouseLeave = (e) => {\n      if (exitIntentTriggered) return;\n      \n      if (e.clientY <= 0) {\n        exitIntentTriggered = true;\n        clearTimeout(timeOnSiteTimeout);\n        setIsVisible(true);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    document.addEventListener('mouseleave', handleMouseLeave);\n\n    return () => {\n      clearTimeout(timeOnSiteTimeout);\n      window.removeEventListener('scroll', handleScroll);\n      document.removeEventListener('mouseleave', handleMouseLeave);\n    };\n  }, []);\n\n  const handleClose = () => {\n    setIsVisible(false);\n    localStorage.setItem('newsletter_dismissed', Date.now().toString());\n    // Show again after 7 days\n    setTimeout(() => {\n      localStorage.removeItem('newsletter_dismissed');\n    }, 7 * 24 * 60 * 60 * 1000);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    // Basic email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError('Krlek adj meg egy rvnyes email cmet.');\n      return;\n    }\n\n    try {\n      // Here you would send to your newsletter service\n      if (onSubscribe) {\n        await onSubscribe(email);\n      }\n\n      setIsSubmitted(true);\n      localStorage.setItem('newsletter_subscribed', 'true');\n\n      // Close after 3 seconds\n      setTimeout(() => {\n        setIsVisible(false);\n      }, 3000);\n\n    } catch (err) {\n      setError('Hiba trtnt. Prbld jra ksbb!');\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={handleClose}\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60]\"\n          />\n\n          {/* Popup */}\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n            className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-[70] w-[90%] max-w-md\"\n          >\n            <div className=\"bg-white rounded-2xl shadow-2xl overflow-hidden\">\n              {/* Header */}\n              <div className=\"relative bg-gradient-to-br from-indigo-600 to-purple-600 p-8 text-white\">\n                <button\n                  onClick={handleClose}\n                  className=\"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n\n                <div className=\"flex items-center justify-center mb-4\">\n                  <div className=\"p-4 bg-white/20 backdrop-blur-sm rounded-full\">\n                    <Gift className=\"w-8 h-8\" />\n                  </div>\n                </div>\n\n                <h2 className=\"text-2xl font-bold text-center mb-2\">\n                  {isSubmitted ? 'Ksznjk!' : '10% KEDVEZMNY'}\n                </h2>\n                <p className=\"text-white/90 text-center text-sm\">\n                  {isSubmitted \n                    ? 'Feliratkoztl a hrlevelnkre!' \n                    : 'Iratkozz fel s kapd meg els vsrlsodhoz!'\n                  }\n                </p>\n              </div>\n\n              {/* Content */}\n              <div className=\"p-6\">\n                {!isSubmitted ? (\n                  <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    {/* Benefits */}\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center gap-2 text-sm text-gray-700\">\n                        <Sparkles className=\"w-4 h-4 text-indigo-600\" />\n                        <span>Exkluzv ajnlatok</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-sm text-gray-700\">\n                        <Sparkles className=\"w-4 h-4 text-indigo-600\" />\n                        <span>Korai hozzfrs j termkekhez</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-sm text-gray-700\">\n                        <Sparkles className=\"w-4 h-4 text-indigo-600\" />\n                        <span>Lakberendezsi tippek</span>\n                      </div>\n                    </div>\n\n                    {/* Email Input */}\n                    <div>\n                      <div className=\"relative\">\n                        <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                        <input\n                          type=\"email\"\n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                          placeholder=\"Add meg az email cmed\"\n                          className=\"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-indigo-600 focus:ring-2 focus:ring-indigo-600/20 outline-none transition-all\"\n                          required\n                        />\n                      </div>\n                      {error && (\n                        <p className=\"mt-2 text-sm text-red-600\">{error}</p>\n                      )}\n                    </div>\n\n                    {/* Submit Button */}\n                    <button\n                      type=\"submit\"\n                      className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition-colors shadow-lg hover:shadow-xl\"\n                    >\n                      Feliratkozom!\n                    </button>\n\n                    {/* Privacy Notice */}\n                    <p className=\"text-xs text-gray-500 text-center\">\n                      Adataid biztonsgban vannak. Brmikor leiratkozhatsz.\n                    </p>\n                  </form>\n                ) : (\n                  <div className=\"text-center py-4\">\n                    <motion.div\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{ type: 'spring', damping: 15 }}\n                      className=\"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4\"\n                    >\n                      <CheckCircle className=\"w-8 h-8 text-green-600\" />\n                    </motion.div>\n                    <p className=\"text-gray-700 mb-2\">\n                      <strong>{email}</strong>\n                    </p>\n                    <p className=\"text-sm text-gray-600\">\n                      Nzd meg az email fikod a kedvezmny kdrt!\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default SmartNewsletterPopup;\n","import React, { useState, useEffect } from 'react';\nimport { X, Gift, Timer, Sparkles, ArrowRight, Mail, Check } from 'lucide-react';\n\n/**\n * ExitIntentPopup - Shows discount offer when user tries to leave\n * Also includes email capture for future marketing\n */\nconst ExitIntentPopup = ({ discountPercent = 10, onClose }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [hasShown, setHasShown] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [countdown, setCountdown] = useState(600); // 10 minutes\n\n  // Exit intent detection\n  useEffect(() => {\n    // Check if already shown in this session\n    if (sessionStorage.getItem('exitIntentShown')) {\n      return;\n    }\n\n    const handleMouseLeave = (e) => {\n      if (e.clientY <= 0 && !hasShown) {\n        setIsVisible(true);\n        setHasShown(true);\n        sessionStorage.setItem('exitIntentShown', 'true');\n      }\n    };\n\n    // Also show after 45 seconds of inactivity\n    let inactivityTimer;\n    const resetTimer = () => {\n      clearTimeout(inactivityTimer);\n      inactivityTimer = setTimeout(() => {\n        if (!hasShown) {\n          setIsVisible(true);\n          setHasShown(true);\n          sessionStorage.setItem('exitIntentShown', 'true');\n        }\n      }, 45000);\n    };\n\n    document.addEventListener('mouseleave', handleMouseLeave);\n    document.addEventListener('mousemove', resetTimer);\n    document.addEventListener('click', resetTimer);\n    resetTimer();\n\n    return () => {\n      document.removeEventListener('mouseleave', handleMouseLeave);\n      document.removeEventListener('mousemove', resetTimer);\n      document.removeEventListener('click', resetTimer);\n      clearTimeout(inactivityTimer);\n    };\n  }, [hasShown]);\n\n  // Countdown timer\n  useEffect(() => {\n    if (!isVisible) return;\n\n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [isVisible]);\n\n  const handleClose = () => {\n    setIsVisible(false);\n    if (onClose) onClose();\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (email) {\n      // In real app: send to backend\n      localStorage.setItem('subscribedEmail', email);\n      setIsSubmitted(true);\n      \n      // Copy discount code\n      navigator.clipboard?.writeText(`MARADJ${discountPercent}`);\n      \n      setTimeout(() => {\n        handleClose();\n      }, 3000);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div \n      className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in\"\n      onClick={handleClose}\n    >\n      <div \n        className=\"relative w-full max-w-lg bg-white rounded-3xl shadow-2xl overflow-hidden animate-scale-in\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Close button */}\n        <button\n          onClick={handleClose}\n          className=\"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors z-10\"\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n\n        {/* Decorative top section */}\n        <div className=\"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 p-8 text-center relative overflow-hidden\">\n          {/* Animated background shapes */}\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div className=\"absolute -top-10 -left-10 w-40 h-40 bg-white/10 rounded-full animate-blob\" />\n            <div className=\"absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full animate-blob animation-delay-2000\" />\n          </div>\n\n          <div className=\"relative\">\n            <div className=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce\">\n              <Gift className=\"w-10 h-10 text-white\" />\n            </div>\n            <h2 className=\"text-3xl sm:text-4xl font-bold text-white mb-2\">\n              Vrj! Ne menj el!\n            </h2>\n            <p className=\"text-white/90 text-lg\">\n              Itt egy <span className=\"font-bold text-yellow-300\">{discountPercent}% kedvezmny</span> neked!\n            </p>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 sm:p-8\">\n          {!isSubmitted ? (\n            <>\n              {/* Timer */}\n              <div className=\"flex items-center justify-center gap-2 mb-6 text-red-600\">\n                <Timer className=\"w-5 h-5 animate-pulse\" />\n                <span className=\"font-bold text-lg\">\n                  Az ajnlat lejr: {formatTime(countdown)}\n                </span>\n              </div>\n\n              {/* Discount code */}\n              <div className=\"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-dashed border-amber-300 rounded-xl p-4 mb-6 text-center\">\n                <p className=\"text-sm text-gray-600 mb-1\">Kuponkd:</p>\n                <p className=\"text-2xl font-bold text-amber-600 tracking-wider\">\n                  MARADJ{discountPercent}\n                </p>\n              </div>\n\n              {/* Email form */}\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <p className=\"text-center text-gray-600 text-sm\">\n                  Add meg az email cmed s elkldjk a kuponkdot!\n                </p>\n                \n                <div className=\"relative\">\n                  <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                  <input\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"pelda@email.com\"\n                    className=\"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all text-lg\"\n                    required\n                  />\n                </div>\n\n                <button\n                  type=\"submit\"\n                  className=\"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold text-lg rounded-xl hover:shadow-lg hover:scale-[1.02] transition-all flex items-center justify-center gap-2\"\n                >\n                  <Sparkles className=\"w-5 h-5\" />\n                  Kedvezmny aktivlsa\n                  <ArrowRight className=\"w-5 h-5\" />\n                </button>\n              </form>\n\n              {/* No thanks */}\n              <button\n                onClick={handleClose}\n                className=\"w-full mt-4 py-2 text-gray-500 hover:text-gray-700 text-sm transition-colors\"\n              >\n                Nem, ksznm, inkbb teljes rat fizetek\n              </button>\n            </>\n          ) : (\n            /* Success state */\n            <div className=\"text-center py-8\">\n              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Check className=\"w-10 h-10 text-green-600\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Ksznjk!</h3>\n              <p className=\"text-gray-600 mb-4\">\n                A kuponkd elmentve a vglapra!\n              </p>\n              <div className=\"bg-green-50 border border-green-200 rounded-xl p-4\">\n                <p className=\"text-green-800 font-bold text-xl\">MARADJ{discountPercent}</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes blob {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          33% { transform: translate(30px, -50px) scale(1.1); }\n          66% { transform: translate(-20px, 20px) scale(0.9); }\n        }\n        .animate-blob { animation: blob 7s infinite; }\n        .animation-delay-2000 { animation-delay: 2s; }\n        .animate-fade-in { animation: fadeIn 0.3s ease-out; }\n        .animate-scale-in { animation: scaleIn 0.3s ease-out; }\n        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        @keyframes scaleIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ExitIntentPopup;\n","import React, { useState, useEffect } from 'react';\nimport { Box, Eye, Smartphone, X, AlertCircle } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n/**\n * ARProductPreview - AR (Augmented Reality) product preview\n * Uses WebXR/AR Quick Look for supported devices\n */\nconst ARProductPreview = ({ product, onClose }) => {\n  const [isARAvailable, setIsARAvailable] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    checkARSupport();\n  }, []);\n\n  const checkARSupport = async () => {\n    setIsLoading(true);\n    \n    try {\n      // Check for AR support\n      // WebXR (Android Chrome, Quest)\n      if ('xr' in navigator) {\n        const isSupported = await navigator.xr.isSessionSupported('immersive-ar');\n        setIsARAvailable(isSupported);\n      }\n      // AR Quick Look (iOS Safari)\n      else if (isIOSSafari()) {\n        setIsARAvailable(true);\n      }\n      // Fallback: no AR support\n      else {\n        setIsARAvailable(false);\n        setError('Az eszkzd nem tmogatja az AR megjelentst.');\n      }\n    } catch (err) {\n      setIsARAvailable(false);\n      setError('Nem sikerlt ellenrizni az AR tmogatst.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const isIOSSafari = () => {\n    const ua = navigator.userAgent;\n    const isIOS = /iPad|iPhone|iPod/.test(ua);\n    const isSafari = /Safari/.test(ua) && !/CriOS|FxiOS|OPiOS|mercury/.test(ua);\n    return isIOS && isSafari;\n  };\n\n  const handleARLaunch = () => {\n    if (!isARAvailable) return;\n\n    // For iOS: AR Quick Look\n    if (isIOSSafari()) {\n      // You would need USDZ file format for iOS AR\n      // Example: product.arModelUSDZ\n      const usdzUrl = product.arModelUSDZ || generateMockUSDZ(product);\n      \n      const anchor = document.createElement('a');\n      anchor.rel = 'ar';\n      anchor.href = usdzUrl;\n      anchor.appendChild(document.createElement('img'));\n      anchor.click();\n    }\n    // For Android: WebXR\n    else if ('xr' in navigator) {\n      launchWebXR();\n    }\n  };\n\n  const launchWebXR = async () => {\n    try {\n      const session = await navigator.xr.requestSession('immersive-ar', {\n        requiredFeatures: ['hit-test'],\n        optionalFeatures: ['dom-overlay']\n      });\n      \n      // Here you would initialize the WebXR rendering\n      // This is a simplified example\n      // In production, use libraries like three.js or babylon.js\n      \n      // Placeholder for WebXR session handling\n      session.addEventListener('end', () => {\n        // Cleanup\n      });\n      \n    } catch (err) {\n      setError('Nem sikerlt elindtani az AR nzetet.');\n    }\n  };\n\n  const generateMockUSDZ = (product) => {\n    // In production, you would have actual 3D models\n    // This is a placeholder that links to a sample USDZ file\n    // You can use services like Sketchfab, poly.google.com (deprecated), or custom 3D models\n    return `https://developer.apple.com/augmented-reality/quick-look/models/biplane/toy_biplane.usdz`;\n  };\n\n  const openInARViewer = () => {\n    // Alternative: Open in a web-based 3D viewer\n    // Using model-viewer web component (Google)\n    window.open(`https://arvr.google.com/scene-viewer?file=${product.arModel || ''}`, '_blank');\n  };\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ scale: 0.9, y: 20 }}\n          animate={{ scale: 1, y: 0 }}\n          exit={{ scale: 0.9, y: 20 }}\n          onClick={(e) => e.stopPropagation()}\n          className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden\"\n        >\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white relative\">\n            <button\n              onClick={onClose}\n              className=\"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n            \n            <div className=\"flex items-center gap-3 mb-2\">\n              <Box className=\"w-6 h-6\" />\n              <h2 className=\"text-xl font-bold\">AR Elnzet</h2>\n            </div>\n            <p className=\"text-white/90 text-sm\">{product.name}</p>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-6\">\n            {isLoading && (\n              <div className=\"text-center py-8\">\n                <div className=\"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\n                <p className=\"text-gray-600\">AR kpessgek ellenrzse...</p>\n              </div>\n            )}\n\n            {!isLoading && error && (\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-4\">\n                <div className=\"flex items-start gap-3\">\n                  <AlertCircle className=\"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n                  <div>\n                    <p className=\"text-sm text-yellow-800 font-medium mb-2\">{error}</p>\n                    <p className=\"text-xs text-yellow-700\">\n                      Az AR funkci csak iOS Safari vagy Android Chrome bngszben rhet el.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {!isLoading && isARAvailable && (\n              <div className=\"space-y-4\">\n                <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 text-center\">\n                  <div className=\"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg\">\n                    <Eye className=\"w-10 h-10 text-indigo-600\" />\n                  </div>\n                  <h3 className=\"font-bold text-gray-900 mb-2\">Nzd meg otthonodban!</h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Helyezd el virtulisan a termket a sajt teremben AR segtsgvel.\n                  </p>\n                </div>\n\n                <button\n                  onClick={handleARLaunch}\n                  className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-colors shadow-lg flex items-center justify-center gap-2\"\n                >\n                  <Smartphone className=\"w-5 h-5\" />\n                  AR Indtsa\n                </button>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <span className=\"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xs\">1</span>\n                    <span>Engedlyezd a kamera hozzfrst</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <span className=\"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xs\">2</span>\n                    <span>Clozd meg a padlt a telefonoddal</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <span className=\"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xs\">3</span>\n                    <span>Helyezd el s forgasd a termket</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {!isLoading && !isARAvailable && (\n              <div className=\"text-center space-y-4\">\n                <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto\">\n                  <Smartphone className=\"w-8 h-8 text-gray-400\" />\n                </div>\n                <div>\n                  <p className=\"text-gray-600 mb-2\">AR nem elrhet ezen az eszkzn</p>\n                  <p className=\"text-sm text-gray-500\">\n                    Prbld meg iOS Safari vagy Android Chrome bngszbl!\n                  </p>\n                </div>\n                <button\n                  onClick={openInARViewer}\n                  className=\"text-indigo-600 hover:text-indigo-700 font-medium text-sm\"\n                >\n                  Megnyits web AR nzetben \n                </button>\n              </div>\n            )}\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default ARProductPreview;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Sparkles, Plus, ShoppingBag, Check, ChevronRight, Package, Percent } from 'lucide-react';\nimport { generateText } from '../../services/geminiService';\n\n/**\n * CompleteTheLook - AI-powered bundle suggestions\n * \"Add hozz ezeket is s kapj kedvezmnyt!\"\n */\nconst CompleteTheLook = ({ currentProduct, allProducts, onAddToCart, onViewProduct }) => {\n  const [bundleItems, setBundleItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [bundleTitle, setBundleTitle] = useState('Tedd teljess a szobt');\n\n  useEffect(() => {\n    if (currentProduct && allProducts?.length > 0) {\n      findComplementaryProducts();\n    }\n  }, [currentProduct, allProducts]);\n\n  const findComplementaryProducts = async () => {\n    setIsLoading(true);\n    \n    try {\n      // Kategria s tpus alap prostsok\n      const complementaryMap = {\n        'kanap': ['dohnyzasztal', 'fotel', 'lmpa', 'sznyeg', 'polc', 'puff'],\n        'lgarnitra': ['dohnyzasztal', 'fotel', 'lmpa', 'sznyeg', 'tv llvny'],\n        'gy': ['jjeliszekrny', 'matrac', 'komd', 'lmpa', 'tkr', 'szekrny'],\n        'franciagy': ['jjeliszekrny', 'matrac', 'komd', 'lmpa', 'gardrb'],\n        'tkezasztal': ['szk', 'tkez', 'tlal', 'lmpa', 'vitrin'],\n        'asztal': ['szk', 'lmpa', 'polc'],\n        'rasztal': ['forgszk', 'polc', 'lmpa', 'irattart'],\n        'szk': ['asztal', 'tkez'],\n        'fotel': ['dohnyzasztal', 'lmpa', 'puff', 'takar'],\n        'szekrny': ['komd', 'tkr', 'polc'],\n        'tv llvny': ['polc', 'lmpa', 'dohnyzasztal'],\n      };\n\n      const productName = (currentProduct.name || '').toLowerCase();\n      const productCategory = (currentProduct.category || '').toLowerCase();\n      \n      // Keressk meg a megfelel kiegsztket\n      let searchTerms = [];\n      \n      Object.entries(complementaryMap).forEach(([key, complements]) => {\n        if (productName.includes(key) || productCategory.includes(key)) {\n          searchTerms.push(...complements);\n        }\n      });\n\n      // Ha nincs specifikus match, ltalnos kiegsztk\n      if (searchTerms.length === 0) {\n        searchTerms = ['lmpa', 'polc', 'sznyeg', 'dekorci'];\n      }\n\n      // Keress a termkek kztt\n      const currentPrice = currentProduct.salePrice || currentProduct.price || 0;\n      const priceRange = currentPrice * 0.8; // Hasonl rkategria\n      \n      const matches = allProducts\n        .filter(p => {\n          if (p.id === currentProduct.id) return false;\n          const pName = (p.name || '').toLowerCase();\n          const pCat = (p.category || '').toLowerCase();\n          const pPrice = p.salePrice || p.price || 0;\n          \n          // Ne legyen tl drga\n          if (pPrice > currentPrice * 1.5) return false;\n          \n          // Keressk a kiegsztket\n          return searchTerms.some(term => pName.includes(term) || pCat.includes(term));\n        })\n        .map(p => {\n          let score = 0;\n          const pName = (p.name || '').toLowerCase();\n          const pCat = (p.category || '').toLowerCase();\n          \n          searchTerms.forEach(term => {\n            if (pName.includes(term)) score += 10;\n            if (pCat.includes(term)) score += 5;\n          });\n          \n          return { product: p, score };\n        })\n        .sort((a, b) => b.score - a.score)\n        .slice(0, 6)\n        .map(m => m.product);\n\n      // Ha van tallat, tegyk be\n      if (matches.length >= 2) {\n        setBundleItems(matches.slice(0, 4));\n        \n        // AI generlt cm\n        const prompt = `rj egy rvid, vonz marketing cmet (max 6 sz) ami arra sztnz, hogy a \"${currentProduct.name}\" mell vegyk meg a kiegsztket is. Magyarul, kreatvan!`;\n        \n        const result = await generateText(prompt, { temperature: 0.9, maxTokens: 30 });\n        if (result.success && result.text) {\n          setBundleTitle(result.text.replace(/[\"']/g, '').trim());\n        }\n      } else {\n        // Fallback: random npszer termkek\n        const fallbackProducts = allProducts\n          .filter(p => p.id !== currentProduct.id)\n          .sort(() => Math.random() - 0.5)\n          .slice(0, 4);\n        setBundleItems(fallbackProducts);\n      }\n\n    } catch (error) {\n      console.warn('Bundle search error:', error);\n      // Fallback\n      const fallback = allProducts\n        .filter(p => p.id !== currentProduct.id)\n        .sort(() => Math.random() - 0.5)\n        .slice(0, 4);\n      setBundleItems(fallback);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const toggleItem = (productId) => {\n    setSelectedItems(prev => \n      prev.includes(productId) \n        ? prev.filter(id => id !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  const formatPrice = (price) => (price || 0).toLocaleString('hu-HU');\n\n  // Szmtsok\n  const selectedProducts = bundleItems.filter(p => selectedItems.includes(p.id));\n  const bundleOriginalPrice = selectedProducts.reduce((sum, p) => sum + (p.salePrice || p.price || 0), 0);\n  const bundleDiscount = selectedProducts.length >= 2 ? 0.1 : selectedProducts.length >= 3 ? 0.15 : 0; // 10-15% kedvezmny\n  const bundleFinalPrice = bundleOriginalPrice * (1 - bundleDiscount);\n  const savedAmount = bundleOriginalPrice - bundleFinalPrice;\n\n  const handleAddBundle = () => {\n    selectedProducts.forEach(product => {\n      if (onAddToCart) onAddToCart(product);\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 animate-pulse\">\n        <div className=\"h-6 bg-amber-200/50 rounded w-48 mb-4\" />\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\n          {[1,2,3,4].map(i => (\n            <div key={i} className=\"bg-white rounded-xl p-3\">\n              <div className=\"aspect-square bg-amber-100 rounded-lg mb-2\" />\n              <div className=\"h-4 bg-amber-100 rounded w-3/4\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (bundleItems.length < 2) return null;\n\n  return (\n    <div className=\"bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 rounded-2xl p-5 sm:p-6 border border-amber-200/50 shadow-lg\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-5\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg\">\n            <Sparkles className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\n          </div>\n          <div>\n            <h3 className=\"font-bold text-gray-900 text-lg sm:text-xl\">{bundleTitle}</h3>\n            <p className=\"text-amber-700 text-sm\">Vlassz kiegsztket s sprolj!</p>\n          </div>\n        </div>\n        \n        {bundleDiscount > 0 && (\n          <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1.5 rounded-full text-sm font-bold flex items-center gap-1 shadow-lg animate-pulse\">\n            <Percent className=\"w-4 h-4\" />\n            -{Math.round(bundleDiscount * 100)}%\n          </div>\n        )}\n      </div>\n\n      {/* Products Grid */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-5\">\n        {bundleItems.map((product) => {\n          const isSelected = selectedItems.includes(product.id);\n          const price = product.salePrice || product.price || 0;\n          \n          return (\n            <button\n              key={product.id}\n              onClick={() => toggleItem(product.id)}\n              className={`\n                relative bg-white rounded-xl p-3 text-left transition-all duration-300\n                ${isSelected \n                  ? 'ring-2 ring-amber-500 shadow-lg scale-[1.02]' \n                  : 'hover:shadow-md hover:scale-[1.01] border border-gray-100'\n                }\n              `}\n            >\n              {/* Selection indicator */}\n              <div className={`\n                absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center transition-all\n                ${isSelected \n                  ? 'bg-amber-500 text-white scale-100' \n                  : 'bg-gray-200 text-gray-400 scale-90'\n                }\n              `}>\n                {isSelected ? <Check className=\"w-4 h-4\" /> : <Plus className=\"w-4 h-4\" />}\n              </div>\n\n              {/* Image */}\n              <div className=\"aspect-square bg-gray-50 rounded-lg mb-2 overflow-hidden\">\n                <img\n                  src={product.images?.[0] || product.image}\n                  alt={product.name}\n                  className=\"w-full h-full object-contain hover:scale-110 transition-transform duration-500\"\n                  onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'; }}\n                />\n              </div>\n\n              {/* Info */}\n              <p className=\"text-xs sm:text-sm font-medium text-gray-800 line-clamp-2 mb-1 leading-tight\">\n                {product.name}\n              </p>\n              <p className=\"text-sm sm:text-base font-bold text-amber-600\">\n                {formatPrice(price)} Ft\n              </p>\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Bundle Summary */}\n      {selectedItems.length > 0 && (\n        <div className=\"bg-white rounded-xl p-4 shadow-inner\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div>\n              <p className=\"text-sm text-gray-600 mb-1\">\n                {selectedItems.length} termk kivlasztva\n              </p>\n              <div className=\"flex items-center gap-3\">\n                {bundleDiscount > 0 && (\n                  <span className=\"text-gray-400 line-through text-sm\">\n                    {formatPrice(bundleOriginalPrice)} Ft\n                  </span>\n                )}\n                <span className=\"text-2xl font-bold text-gray-900\">\n                  {formatPrice(Math.round(bundleFinalPrice))} Ft\n                </span>\n              </div>\n              {savedAmount > 0 && (\n                <p className=\"text-green-600 text-sm font-medium mt-1\">\n                   Megtakarts: {formatPrice(Math.round(savedAmount))} Ft\n                </p>\n              )}\n            </div>\n\n            <button\n              onClick={handleAddBundle}\n              className=\"flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:shadow-lg hover:scale-[1.02] transition-all\"\n            >\n              <ShoppingBag className=\"w-5 h-5\" />\n              Mind a kosrba\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Hint when nothing selected */}\n      {selectedItems.length === 0 && (\n        <p className=\"text-center text-amber-700 text-sm py-2\">\n           Kattints a termkekre a kivlasztshoz\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default CompleteTheLook;\n","import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { Sparkles, ChevronLeft, ChevronRight, Clock, Heart, TrendingUp, Eye, Star } from 'lucide-react';\nimport { getViewedProducts, getPersonalizedRecommendations, getLikedProducts, getStyleDNA } from '../../services/userPreferencesService';\n\n/**\n * PersonalizedSection - Szemlyre szabott foldal szekcik\n * Recently Viewed + For You + Trending\n */\nconst PersonalizedSection = ({ \n  products, \n  onProductClick, \n  onToggleWishlist, \n  wishlist = [] \n}) => {\n  const [activeTab, setActiveTab] = useState('foryou');\n  const scrollRef = useRef(null);\n  \n  // User adatok\n  const recentlyViewed = useMemo(() => getViewedProducts(12), []);\n  const likedProducts = useMemo(() => getLikedProducts(), []);\n  const styleDNA = useMemo(() => getStyleDNA(), []);\n  \n  // Szemlyre szabott ajnlsok\n  const forYouProducts = useMemo(() => {\n    if (!products?.length) return [];\n    return getPersonalizedRecommendations(products, 12);\n  }, [products]);\n  \n  // Trending - top rkategria, random mix\n  const trendingProducts = useMemo(() => {\n    if (!products?.length) return [];\n    return products\n      .filter(p => (p.salePrice || p.price) > 50000)\n      .sort(() => Math.random() - 0.5)\n      .slice(0, 12);\n  }, [products]);\n\n  const tabs = [\n    { id: 'foryou', label: 'Neked ajnljuk', icon: Sparkles, products: forYouProducts },\n    { id: 'recent', label: 'Nemrg nzted', icon: Clock, products: recentlyViewed },\n    { id: 'trending', label: 'Trendi most', icon: TrendingUp, products: trendingProducts },\n  ];\n\n  const currentProducts = tabs.find(t => t.id === activeTab)?.products || [];\n\n  const scroll = (direction) => {\n    if (scrollRef.current) {\n      const scrollAmount = scrollRef.current.offsetWidth * 0.8;\n      scrollRef.current.scrollBy({\n        left: direction === 'left' ? -scrollAmount : scrollAmount,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  const formatPrice = (price) => (price || 0).toLocaleString('hu-HU') + ' Ft';\n\n  // Ha nincs elg adat, ne jelenjen meg\n  if (currentProducts.length < 2 && forYouProducts.length < 2) {\n    return null;\n  }\n\n  return (\n    <section className=\"py-8 sm:py-12 lg:py-16 bg-gradient-to-b from-white to-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header with Style DNA */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6\">\n          <div>\n            <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2\">\n              <Sparkles className=\"w-7 h-7 text-indigo-600\" />\n              Szemlyre szabva neked\n            </h2>\n            {styleDNA?.styleDNA && (\n              <p className=\"text-gray-600 text-sm mt-1 max-w-md line-clamp-1\">\n                {styleDNA.styleDNA.split('.')[0]}\n              </p>\n            )}\n          </div>\n\n          {/* Navigation Arrows */}\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => scroll('left')}\n              className=\"p-2 rounded-full bg-white shadow-md hover:shadow-lg hover:bg-gray-50 transition-all\"\n            >\n              <ChevronLeft className=\"w-5 h-5 text-gray-700\" />\n            </button>\n            <button\n              onClick={() => scroll('right')}\n              className=\"p-2 rounded-full bg-white shadow-md hover:shadow-lg hover:bg-gray-50 transition-all\"\n            >\n              <ChevronRight className=\"w-5 h-5 text-gray-700\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n            const count = tab.products?.length || 0;\n            \n            if (count === 0 && tab.id !== 'foryou') return null;\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`\n                  flex items-center gap-2 px-4 py-2.5 rounded-full whitespace-nowrap transition-all\n                  ${isActive \n                    ? 'bg-indigo-600 text-white shadow-lg' \n                    : 'bg-white text-gray-700 hover:bg-gray-100 shadow'\n                  }\n                `}\n              >\n                <Icon className={`w-4 h-4 ${isActive ? 'text-white' : 'text-indigo-600'}`} />\n                <span className=\"font-medium text-sm\">{tab.label}</span>\n                {count > 0 && (\n                  <span className={`\n                    text-xs px-1.5 py-0.5 rounded-full\n                    ${isActive ? 'bg-white/20 text-white' : 'bg-indigo-100 text-indigo-700'}\n                  `}>\n                    {count}\n                  </span>\n                )}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Products Carousel */}\n        <div className=\"relative\">\n          <div\n            ref={scrollRef}\n            className=\"flex gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth\"\n            style={{ scrollSnapType: 'x mandatory' }}\n          >\n            {currentProducts.map((product, index) => {\n              const isWishlisted = wishlist.includes(product.id);\n              const isLiked = likedProducts.includes(product.id);\n              const price = product.salePrice || product.price || 0;\n              const viewedAt = product.viewedAt ? new Date(product.viewedAt) : null;\n              \n              return (\n                <div\n                  key={product.id}\n                  className=\"flex-shrink-0 w-[200px] sm:w-[220px] lg:w-[250px] scroll-snap-align-start\"\n                  style={{ scrollSnapAlign: 'start' }}\n                >\n                  <div \n                    onClick={() => onProductClick?.(product)}\n                    className=\"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group h-full flex flex-col\"\n                  >\n                    {/* Image */}\n                    <div className=\"relative aspect-square bg-gray-50 overflow-hidden\">\n                      <img\n                        src={product.images?.[0] || product.image}\n                        alt={product.name}\n                        className=\"w-full h-full object-contain group-hover:scale-110 transition-transform duration-500\"\n                        onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'; }}\n                      />\n                      \n                      {/* Badges */}\n                      <div className=\"absolute top-2 left-2 flex flex-col gap-1\">\n                        {activeTab === 'foryou' && index < 3 && (\n                          <span className=\"px-2 py-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-[10px] font-bold rounded-full flex items-center gap-1\">\n                            <Star className=\"w-3 h-3\" fill=\"currentColor\" />\n                            Top {index + 1}\n                          </span>\n                        )}\n                        {isLiked && (\n                          <span className=\"px-2 py-1 bg-pink-500 text-white text-[10px] font-bold rounded-full\">\n                             Kedveled\n                          </span>\n                        )}\n                      </div>\n\n                      {/* Wishlist button */}\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onToggleWishlist?.(product.id);\n                        }}\n                        className={`\n                          absolute top-2 right-2 p-2 rounded-full transition-all\n                          ${isWishlisted \n                            ? 'bg-red-500 text-white' \n                            : 'bg-white/80 text-gray-600 hover:bg-white hover:text-red-500'\n                          }\n                        `}\n                      >\n                        <Heart className=\"w-4 h-4\" fill={isWishlisted ? 'currentColor' : 'none'} />\n                      </button>\n\n                      {/* Quick view overlay */}\n                      <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100\">\n                        <span className=\"px-4 py-2 bg-white rounded-full text-sm font-medium shadow-lg flex items-center gap-2\">\n                          <Eye className=\"w-4 h-4\" />\n                          Megnzem\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Info */}\n                    <div className=\"p-4 flex-1 flex flex-col\">\n                      <p className=\"text-sm font-medium text-gray-800 line-clamp-2 mb-2 flex-1\">\n                        {product.name}\n                      </p>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-lg font-bold text-indigo-600\">\n                          {formatPrice(price)}\n                        </span>\n                        {viewedAt && activeTab === 'recent' && (\n                          <span className=\"text-[10px] text-gray-400\">\n                            {formatTimeAgo(viewedAt)}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Gradient edges */}\n          <div className=\"absolute left-0 top-0 bottom-4 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none\" />\n          <div className=\"absolute right-0 top-0 bottom-4 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none\" />\n        </div>\n\n        {/* Empty state for recent */}\n        {activeTab === 'recent' && currentProducts.length === 0 && (\n          <div className=\"text-center py-12 bg-white rounded-2xl shadow-inner\">\n            <Clock className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n            <p className=\"text-gray-500\">Mg nem nztl meg termkeket</p>\n            <p className=\"text-gray-400 text-sm\">Bngssz a knlatban!</p>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\n// Helper: idformzs\nfunction formatTimeAgo(date) {\n  const now = new Date();\n  const diffMs = now - date;\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n  \n  if (diffMins < 1) return 'most';\n  if (diffMins < 60) return `${diffMins} perce`;\n  if (diffHours < 24) return `${diffHours} rja`;\n  if (diffDays < 7) return `${diffDays} napja`;\n  return date.toLocaleDateString('hu-HU');\n}\n\nexport default PersonalizedSection;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { ZoomIn, ZoomOut, ChevronLeft, ChevronRight, X, Expand, Maximize2 } from 'lucide-react';\n\n/**\n * ImageGallery - Professional product image gallery\n * Features: Zoom, Swipe, Thumbnails, Fullscreen\n */\nconst ImageGallery = ({ images = [], productName = 'Termk' }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [zoomPosition, setZoomPosition] = useState({ x: 50, y: 50 });\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [touchStart, setTouchStart] = useState(null);\n  const mainImageRef = useRef(null);\n\n  // Ensure we have at least one image\n  const imageList = images.length > 0 ? images : ['data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\"><rect fill=\"%23f3f4f6\" width=\"400\" height=\"400\"/><text x=\"50%\" y=\"50%\" text-anchor=\"middle\" dy=\".3em\" fill=\"%239ca3af\" font-size=\"16\">Nincs kp</text></svg>'];\n  \n  const currentImage = imageList[currentIndex];\n\n  // Navigation\n  const goToNext = () => {\n    setCurrentIndex((prev) => (prev + 1) % imageList.length);\n    setIsZoomed(false);\n  };\n\n  const goToPrev = () => {\n    setCurrentIndex((prev) => (prev - 1 + imageList.length) % imageList.length);\n    setIsZoomed(false);\n  };\n\n  // Zoom handling\n  const handleMouseMove = (e) => {\n    if (!mainImageRef.current || !isZoomed) return;\n    \n    const rect = mainImageRef.current.getBoundingClientRect();\n    const x = ((e.clientX - rect.left) / rect.width) * 100;\n    const y = ((e.clientY - rect.top) / rect.height) * 100;\n    \n    setZoomPosition({ x, y });\n  };\n\n  const toggleZoom = () => {\n    setIsZoomed(!isZoomed);\n  };\n\n  // Touch handling for swipe\n  const handleTouchStart = (e) => {\n    setTouchStart(e.touches[0].clientX);\n  };\n\n  const handleTouchEnd = (e) => {\n    if (!touchStart) return;\n    \n    const touchEnd = e.changedTouches[0].clientX;\n    const diff = touchStart - touchEnd;\n    \n    if (Math.abs(diff) > 50) {\n      if (diff > 0) goToNext();\n      else goToPrev();\n    }\n    \n    setTouchStart(null);\n  };\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.key === 'ArrowLeft') goToPrev();\n      if (e.key === 'ArrowRight') goToNext();\n      if (e.key === 'Escape') {\n        setIsFullscreen(false);\n        setIsZoomed(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  // Fullscreen Gallery Modal\n  if (isFullscreen) {\n    return (\n      <div className=\"fixed inset-0 z-[100] bg-black flex items-center justify-center\">\n        {/* Close button */}\n        <button\n          onClick={() => setIsFullscreen(false)}\n          className=\"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors z-10\"\n        >\n          <X className=\"w-6 h-6\" />\n        </button>\n\n        {/* Navigation */}\n        {imageList.length > 1 && (\n          <>\n            <button\n              onClick={goToPrev}\n              className=\"absolute left-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors z-10\"\n            >\n              <ChevronLeft className=\"w-8 h-8\" />\n            </button>\n            <button\n              onClick={goToNext}\n              className=\"absolute right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors z-10\"\n            >\n              <ChevronRight className=\"w-8 h-8\" />\n            </button>\n          </>\n        )}\n\n        {/* Main Image */}\n        <img\n          src={currentImage}\n          alt={`${productName} - ${currentIndex + 1}`}\n          className=\"max-h-[90vh] max-w-[90vw] object-contain\"\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n        />\n\n        {/* Counter */}\n        <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-white/10 rounded-full text-white text-sm\">\n          {currentIndex + 1} / {imageList.length}\n        </div>\n\n        {/* Thumbnails */}\n        {imageList.length > 1 && (\n          <div className=\"absolute bottom-16 left-1/2 -translate-x-1/2 flex gap-2\">\n            {imageList.map((img, idx) => (\n              <button\n                key={idx}\n                onClick={() => setCurrentIndex(idx)}\n                className={`\n                  w-16 h-16 rounded-lg overflow-hidden border-2 transition-all\n                  ${idx === currentIndex ? 'border-white scale-110' : 'border-transparent opacity-60 hover:opacity-100'}\n                `}\n              >\n                <img src={img} alt=\"\" className=\"w-full h-full object-cover\" />\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full\">\n      {/* Main Image Container */}\n      <div \n        ref={mainImageRef}\n        className=\"relative aspect-square bg-gray-50 rounded-2xl overflow-hidden cursor-zoom-in group\"\n        onClick={toggleZoom}\n        onMouseMove={handleMouseMove}\n        onMouseLeave={() => setIsZoomed(false)}\n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchEnd}\n      >\n        {/* Image */}\n        <img\n          src={currentImage}\n          alt={`${productName} - ${currentIndex + 1}`}\n          className={`\n            w-full h-full object-contain transition-transform duration-300\n            ${isZoomed ? 'scale-[2.5]' : 'group-hover:scale-105'}\n          `}\n          style={isZoomed ? {\n            transformOrigin: `${zoomPosition.x}% ${zoomPosition.y}%`\n          } : {}}\n          onError={(e) => { \n            e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\"><rect fill=\"%23f3f4f6\" width=\"400\" height=\"400\"/></svg>'; \n          }}\n          draggable={false}\n        />\n\n        {/* Zoom indicator */}\n        {!isZoomed && (\n          <div className=\"absolute bottom-4 right-4 px-3 py-1.5 bg-black/50 text-white text-xs rounded-full flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity\">\n            <ZoomIn className=\"w-4 h-4\" />\n            Kattints a nagytshoz\n          </div>\n        )}\n\n        {/* Navigation arrows */}\n        {imageList.length > 1 && !isZoomed && (\n          <>\n            <button\n              onClick={(e) => { e.stopPropagation(); goToPrev(); }}\n              className=\"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 hover:bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all\"\n            >\n              <ChevronLeft className=\"w-5 h-5 text-gray-700\" />\n            </button>\n            <button\n              onClick={(e) => { e.stopPropagation(); goToNext(); }}\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 hover:bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all\"\n            >\n              <ChevronRight className=\"w-5 h-5 text-gray-700\" />\n            </button>\n          </>\n        )}\n\n        {/* Fullscreen button */}\n        <button\n          onClick={(e) => { e.stopPropagation(); setIsFullscreen(true); }}\n          className=\"absolute top-4 right-4 p-2 bg-white/80 hover:bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all\"\n          title=\"Teljes kperny\"\n        >\n          <Maximize2 className=\"w-5 h-5 text-gray-700\" />\n        </button>\n\n        {/* Image counter badge */}\n        {imageList.length > 1 && (\n          <div className=\"absolute top-4 left-4 px-2.5 py-1 bg-black/50 text-white text-xs rounded-full\">\n            {currentIndex + 1} / {imageList.length}\n          </div>\n        )}\n      </div>\n\n      {/* Thumbnails */}\n      {imageList.length > 1 && (\n        <div className=\"flex gap-2 mt-3 overflow-x-auto pb-2 scrollbar-hide\">\n          {imageList.map((img, idx) => (\n            <button\n              key={idx}\n              onClick={() => { setCurrentIndex(idx); setIsZoomed(false); }}\n              className={`\n                flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-xl overflow-hidden border-2 transition-all\n                ${idx === currentIndex \n                  ? 'border-indigo-500 ring-2 ring-indigo-200' \n                  : 'border-gray-200 hover:border-gray-300 opacity-70 hover:opacity-100'\n                }\n              `}\n            >\n              <img \n                src={img} \n                alt={`Thumbnail ${idx + 1}`}\n                className=\"w-full h-full object-contain bg-gray-50\"\n                onError={(e) => { e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\"><rect fill=\"%23f3f4f6\" width=\"100\" height=\"100\"/></svg>'; }}\n              />\n            </button>\n          ))}\n        </div>\n      )}\n\n      {/* Dots indicator (mobile) */}\n      {imageList.length > 1 && (\n        <div className=\"flex justify-center gap-1.5 mt-3 sm:hidden\">\n          {imageList.map((_, idx) => (\n            <button\n              key={idx}\n              onClick={() => setCurrentIndex(idx)}\n              className={`\n                w-2 h-2 rounded-full transition-all\n                ${idx === currentIndex ? 'bg-indigo-600 w-6' : 'bg-gray-300'}\n              `}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","import React, { useState, useEffect } from 'react';\nimport { ShoppingCart, Heart, Check, AlertTriangle, Truck, Clock, Shield, ChevronUp } from 'lucide-react';\n\n/**\n * StickyAddToCart - Sticky bottom bar for product pages\n * Shows when scrolling down, with stock status and quick actions\n */\nconst StickyAddToCart = ({ \n  product, \n  onAddToCart, \n  onToggleWishlist, \n  isWishlisted = false,\n  isVisible = true \n}) => {\n  const [isShown, setIsShown] = useState(false);\n  const [addedToCart, setAddedToCart] = useState(false);\n  const [quantity, setQuantity] = useState(1);\n\n  // Show after scrolling\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      setIsShown(scrollY > 400);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  if (!product || !isVisible) return null;\n\n  const price = product.salePrice || product.price || 0;\n  const originalPrice = product.originalPrice || (product.salePrice ? product.price : null);\n  const hasDiscount = originalPrice && originalPrice > price;\n  const discountPercent = hasDiscount ? Math.round((1 - price / originalPrice) * 100) : 0;\n  \n  // Stock simulation (in real app this would come from API)\n  const stockLevel = Math.floor(Math.random() * 20) + 1;\n  const isLowStock = stockLevel <= 5;\n  const isInStock = stockLevel > 0;\n\n  const formatPrice = (p) => (p || 0).toLocaleString('hu-HU');\n\n  const handleAddToCart = () => {\n    if (onAddToCart) {\n      onAddToCart(product, quantity);\n    }\n    setAddedToCart(true);\n    \n    // Haptic feedback (if available)\n    if (navigator.vibrate) {\n      navigator.vibrate(50);\n    }\n    \n    setTimeout(() => setAddedToCart(false), 2000);\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <div \n      className={`\n        fixed bottom-0 left-0 right-0 z-40 transition-all duration-300\n        ${isShown ? 'translate-y-0' : 'translate-y-full'}\n      `}\n      style={{ paddingBottom: 'env(safe-area-inset-bottom, 0)' }}\n    >\n      {/* Main sticky bar */}\n      <div className=\"bg-white border-t border-gray-200 shadow-2xl\">\n        {/* Stock urgency banner */}\n        {isLowStock && isInStock && (\n          <div className=\"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-center py-1.5 text-sm font-medium flex items-center justify-center gap-2\">\n            <AlertTriangle className=\"w-4 h-4\" />\n            Mr csak {stockLevel} db van raktron!\n          </div>\n        )}\n\n        <div className=\"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-4\">\n          {/* Product info - mobile */}\n          <div className=\"flex-1 min-w-0 sm:hidden\">\n            <p className=\"text-sm font-medium text-gray-900 truncate\">{product.name}</p>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-lg font-bold text-indigo-600\">{formatPrice(price)} Ft</span>\n              {hasDiscount && (\n                <span className=\"text-sm line-through text-gray-400\">{formatPrice(originalPrice)}</span>\n              )}\n            </div>\n          </div>\n\n          {/* Product info - desktop */}\n          <div className=\"hidden sm:flex items-center gap-4 flex-1\">\n            <img \n              src={product.images?.[0] || product.image} \n              alt={product.name}\n              className=\"w-14 h-14 object-contain bg-gray-50 rounded-lg\"\n            />\n            <div>\n              <p className=\"font-medium text-gray-900 line-clamp-1\">{product.name}</p>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-xl font-bold text-indigo-600\">{formatPrice(price)} Ft</span>\n                {hasDiscount && (\n                  <>\n                    <span className=\"text-sm line-through text-gray-400\">{formatPrice(originalPrice)}</span>\n                    <span className=\"px-1.5 py-0.5 bg-red-100 text-red-600 text-xs font-bold rounded\">\n                      -{discountPercent}%\n                    </span>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Trust badges - desktop only */}\n          <div className=\"hidden lg:flex items-center gap-4 text-gray-500 text-xs\">\n            <div className=\"flex items-center gap-1.5\">\n              <Truck className=\"w-4 h-4 text-green-600\" />\n              <span>Ingyenes szllts</span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <Shield className=\"w-4 h-4 text-blue-600\" />\n              <span>2 v garancia</span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <Clock className=\"w-4 h-4 text-amber-600\" />\n              <span>24h kiszllts</span>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-2\">\n            {/* Quantity selector - desktop only */}\n            <div className=\"hidden sm:flex items-center border border-gray-200 rounded-lg\">\n              <button \n                onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                className=\"px-3 py-2 text-gray-600 hover:bg-gray-100 transition-colors\"\n              >\n                -\n              </button>\n              <span className=\"px-3 py-2 font-medium min-w-[40px] text-center\">{quantity}</span>\n              <button \n                onClick={() => setQuantity(quantity + 1)}\n                className=\"px-3 py-2 text-gray-600 hover:bg-gray-100 transition-colors\"\n              >\n                +\n              </button>\n            </div>\n\n            {/* Wishlist */}\n            <button\n              onClick={() => onToggleWishlist?.(product.id)}\n              className={`\n                p-3 rounded-xl transition-all\n                ${isWishlisted \n                  ? 'bg-red-100 text-red-500' \n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }\n              `}\n            >\n              <Heart className=\"w-5 h-5\" fill={isWishlisted ? 'currentColor' : 'none'} />\n            </button>\n\n            {/* Add to cart */}\n            <button\n              onClick={handleAddToCart}\n              disabled={!isInStock || addedToCart}\n              className={`\n                flex items-center gap-2 px-5 sm:px-6 py-3 rounded-xl font-bold transition-all\n                ${addedToCart \n                  ? 'bg-green-500 text-white' \n                  : isInStock \n                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:shadow-lg hover:scale-[1.02]'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                }\n              `}\n            >\n              {addedToCart ? (\n                <>\n                  <Check className=\"w-5 h-5\" />\n                  <span className=\"hidden sm:inline\">Hozzadva!</span>\n                </>\n              ) : isInStock ? (\n                <>\n                  <ShoppingCart className=\"w-5 h-5\" />\n                  <span className=\"hidden sm:inline\">Kosrba</span>\n                </>\n              ) : (\n                <>\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  <span className=\"hidden sm:inline\">Elfogyott</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Scroll to top button */}\n      <button\n        onClick={scrollToTop}\n        className=\"absolute -top-12 right-4 p-2 bg-white rounded-full shadow-lg border border-gray-200 text-gray-600 hover:text-indigo-600 hover:border-indigo-300 transition-all\"\n      >\n        <ChevronUp className=\"w-5 h-5\" />\n      </button>\n    </div>\n  );\n};\n\nexport default StickyAddToCart;\n","import React, { useState } from 'react';\nimport { Bell, BellRing, Mail, Check, X, TrendingDown, Sparkles } from 'lucide-react';\n\n/**\n * PriceAlert - \"rtests ha lecskken az r\" feature\n * Saves to localStorage, shows confirmation\n */\nconst PriceAlert = ({ product, variant = 'button' }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [email, setEmail] = useState('');\n  const [targetPrice, setTargetPrice] = useState('');\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [isAlertSet, setIsAlertSet] = useState(() => {\n    const alerts = JSON.parse(localStorage.getItem('priceAlerts') || '[]');\n    return alerts.some(a => a.productId === product?.id);\n  });\n\n  if (!product) return null;\n\n  const currentPrice = product.salePrice || product.price || 0;\n  const suggestedPrice = Math.floor(currentPrice * 0.85); // 15% kedvezmnyes r\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const alertData = {\n      productId: product.id,\n      productName: product.name,\n      currentPrice,\n      targetPrice: parseInt(targetPrice) || suggestedPrice,\n      email,\n      createdAt: Date.now()\n    };\n\n    // Save to localStorage\n    const alerts = JSON.parse(localStorage.getItem('priceAlerts') || '[]');\n    const filtered = alerts.filter(a => a.productId !== product.id);\n    filtered.push(alertData);\n    localStorage.setItem('priceAlerts', JSON.stringify(filtered));\n\n    setIsSubmitted(true);\n    setIsAlertSet(true);\n\n    setTimeout(() => {\n      setIsOpen(false);\n      setIsSubmitted(false);\n    }, 2000);\n  };\n\n  const removeAlert = () => {\n    const alerts = JSON.parse(localStorage.getItem('priceAlerts') || '[]');\n    const filtered = alerts.filter(a => a.productId !== product.id);\n    localStorage.setItem('priceAlerts', JSON.stringify(filtered));\n    setIsAlertSet(false);\n  };\n\n  const formatPrice = (p) => (p || 0).toLocaleString('hu-HU');\n\n  // Button variant\n  if (variant === 'button') {\n    return (\n      <>\n        <button\n          onClick={() => isAlertSet ? removeAlert() : setIsOpen(true)}\n          className={`\n            flex items-center gap-2 px-4 py-2.5 rounded-xl transition-all text-sm font-medium\n            ${isAlertSet \n              ? 'bg-amber-100 text-amber-700 hover:bg-amber-200' \n              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }\n          `}\n        >\n          {isAlertSet ? (\n            <>\n              <BellRing className=\"w-4 h-4\" />\n              rtests belltva\n            </>\n          ) : (\n            <>\n              <Bell className=\"w-4 h-4\" />\n              rcskkens rtest\n            </>\n          )}\n        </button>\n\n        {/* Modal */}\n        {isOpen && (\n          <PriceAlertModal\n            product={product}\n            currentPrice={currentPrice}\n            suggestedPrice={suggestedPrice}\n            email={email}\n            setEmail={setEmail}\n            targetPrice={targetPrice}\n            setTargetPrice={setTargetPrice}\n            isSubmitted={isSubmitted}\n            onSubmit={handleSubmit}\n            onClose={() => setIsOpen(false)}\n            formatPrice={formatPrice}\n          />\n        )}\n      </>\n    );\n  }\n\n  // Inline variant (for product cards)\n  return (\n    <button\n      onClick={() => isAlertSet ? removeAlert() : setIsOpen(true)}\n      className={`\n        p-2 rounded-full transition-all\n        ${isAlertSet \n          ? 'bg-amber-500 text-white' \n          : 'bg-gray-100 text-gray-500 hover:bg-amber-100 hover:text-amber-600'\n        }\n      `}\n      title={isAlertSet ? 'rtests belltva' : 'rcskkens rtest'}\n    >\n      {isAlertSet ? <BellRing className=\"w-4 h-4\" /> : <Bell className=\"w-4 h-4\" />}\n    </button>\n  );\n};\n\n// Modal component\nconst PriceAlertModal = ({\n  product,\n  currentPrice,\n  suggestedPrice,\n  email,\n  setEmail,\n  targetPrice,\n  setTargetPrice,\n  isSubmitted,\n  onSubmit,\n  onClose,\n  formatPrice\n}) => {\n  return (\n    <div \n      className=\"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\"\n      onClick={onClose}\n    >\n      <div \n        className=\"w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-amber-500 to-orange-500 p-5 text-white relative\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 p-1.5 hover:bg-white/20 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n          \n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n              <TrendingDown className=\"w-6 h-6\" />\n            </div>\n            <div>\n              <h3 className=\"text-xl font-bold\">rcskkens rtest</h3>\n              <p className=\"text-white/80 text-sm\">Szlunk, ha cskken az r!</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-5\">\n          {!isSubmitted ? (\n            <form onSubmit={onSubmit} className=\"space-y-4\">\n              {/* Product info */}\n              <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl\">\n                <img \n                  src={product.images?.[0] || product.image}\n                  alt={product.name}\n                  className=\"w-16 h-16 object-contain bg-white rounded-lg\"\n                />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium text-gray-900 text-sm line-clamp-2\">{product.name}</p>\n                  <p className=\"text-lg font-bold text-indigo-600\">{formatPrice(currentPrice)} Ft</p>\n                </div>\n              </div>\n\n              {/* Target price */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                  rtests, ha az r ez al cskken:\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"number\"\n                    value={targetPrice}\n                    onChange={(e) => setTargetPrice(e.target.value)}\n                    placeholder={suggestedPrice.toString()}\n                    className=\"w-full pl-4 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none transition-all\"\n                  />\n                  <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500\">Ft</span>\n                </div>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Javasolt r: {formatPrice(suggestedPrice)} Ft ({Math.round((1 - suggestedPrice/currentPrice) * 100)}% kedvezmny)\n                </p>\n              </div>\n\n              {/* Email */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                  Email cm:\n                </label>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                  <input\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"pelda@email.com\"\n                    className=\"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none transition-all\"\n                    required\n                  />\n                </div>\n              </div>\n\n              {/* Submit */}\n              <button\n                type=\"submit\"\n                className=\"w-full py-3.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:shadow-lg hover:scale-[1.02] transition-all flex items-center justify-center gap-2\"\n              >\n                <Bell className=\"w-5 h-5\" />\n                rtests belltsa\n              </button>\n            </form>\n          ) : (\n            /* Success */\n            <div className=\"text-center py-6\">\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Check className=\"w-8 h-8 text-green-600\" />\n              </div>\n              <h4 className=\"text-xl font-bold text-gray-900 mb-2\">rtests belltva!</h4>\n              <p className=\"text-gray-600 text-sm\">\n                Emailben rtestnk, ha {formatPrice(parseInt(targetPrice) || suggestedPrice)} Ft al cskken az r.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PriceAlert;\n","import React, { useState, useEffect, useRef } from 'react';\n\n/**\n * FadeInOnScroll - Animates children when they enter viewport\n */\nexport const FadeInOnScroll = ({ \n  children, \n  direction = 'up', // 'up', 'down', 'left', 'right', 'none'\n  delay = 0,\n  duration = 500,\n  threshold = 0.1,\n  className = ''\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n          observer.unobserve(entry.target);\n        }\n      },\n      { threshold }\n    );\n\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return () => observer.disconnect();\n  }, [threshold]);\n\n  const getTransform = () => {\n    if (isVisible) return 'translate3d(0, 0, 0)';\n    switch (direction) {\n      case 'up': return 'translate3d(0, 30px, 0)';\n      case 'down': return 'translate3d(0, -30px, 0)';\n      case 'left': return 'translate3d(30px, 0, 0)';\n      case 'right': return 'translate3d(-30px, 0, 0)';\n      default: return 'translate3d(0, 0, 0)';\n    }\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={className}\n      style={{\n        transform: getTransform(),\n        opacity: isVisible ? 1 : 0,\n        transition: `transform ${duration}ms ease-out ${delay}ms, opacity ${duration}ms ease-out ${delay}ms`,\n        willChange: 'transform, opacity'\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\n/**\n * StaggerChildren - Staggers animation of child elements\n */\nexport const StaggerChildren = ({ \n  children, \n  staggerDelay = 100,\n  direction = 'up',\n  duration = 400,\n  className = ''\n}) => {\n  return (\n    <div className={className}>\n      {React.Children.map(children, (child, index) => (\n        <FadeInOnScroll\n          direction={direction}\n          delay={index * staggerDelay}\n          duration={duration}\n        >\n          {child}\n        </FadeInOnScroll>\n      ))}\n    </div>\n  );\n};\n\n/**\n * Confetti - Celebration animation for add to cart, etc.\n */\nexport const Confetti = ({ isActive, duration = 2000, onComplete }) => {\n  const [particles, setParticles] = useState([]);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    if (!isActive) return;\n\n    // Generate confetti particles\n    const newParticles = Array.from({ length: 50 }, (_, i) => ({\n      id: i,\n      x: Math.random() * 100,\n      y: -10,\n      size: Math.random() * 8 + 4,\n      color: ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981', '#3b82f6'][Math.floor(Math.random() * 6)],\n      speedX: (Math.random() - 0.5) * 3,\n      speedY: Math.random() * 3 + 2,\n      rotation: Math.random() * 360,\n      rotationSpeed: (Math.random() - 0.5) * 10\n    }));\n\n    setParticles(newParticles);\n\n    const timeout = setTimeout(() => {\n      setParticles([]);\n      if (onComplete) onComplete();\n    }, duration);\n\n    return () => clearTimeout(timeout);\n  }, [isActive, duration, onComplete]);\n\n  useEffect(() => {\n    if (particles.length === 0) return;\n\n    let animationFrame;\n    const animate = () => {\n      setParticles(prev => \n        prev.map(p => ({\n          ...p,\n          y: p.y + p.speedY,\n          x: p.x + p.speedX,\n          rotation: p.rotation + p.rotationSpeed\n        })).filter(p => p.y < 110)\n      );\n      animationFrame = requestAnimationFrame(animate);\n    };\n\n    animationFrame = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(animationFrame);\n  }, [particles.length > 0]);\n\n  if (particles.length === 0) return null;\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[200] overflow-hidden\">\n      {particles.map(p => (\n        <div\n          key={p.id}\n          className=\"absolute\"\n          style={{\n            left: `${p.x}%`,\n            top: `${p.y}%`,\n            width: p.size,\n            height: p.size,\n            backgroundColor: p.color,\n            transform: `rotate(${p.rotation}deg)`,\n            borderRadius: Math.random() > 0.5 ? '50%' : '0',\n            opacity: 1 - (p.y / 110)\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\n/**\n * PulseButton - Button with pulse animation\n */\nexport const PulseButton = ({ children, className = '', ...props }) => {\n  return (\n    <button \n      className={`relative ${className}`}\n      {...props}\n    >\n      <span className=\"absolute inset-0 rounded-xl bg-current opacity-20 animate-ping\" />\n      {children}\n    </button>\n  );\n};\n\n/**\n * ShimmerText - Text with shimmer effect\n */\nexport const ShimmerText = ({ children, className = '' }) => {\n  return (\n    <span \n      className={`relative inline-block ${className}`}\n      style={{\n        background: 'linear-gradient(90deg, currentColor 0%, #a78bfa 50%, currentColor 100%)',\n        backgroundSize: '200% 100%',\n        WebkitBackgroundClip: 'text',\n        WebkitTextFillColor: 'transparent',\n        animation: 'shimmer 2s linear infinite'\n      }}\n    >\n      {children}\n      <style jsx>{`\n        @keyframes shimmer {\n          0% { background-position: 200% 0; }\n          100% { background-position: -200% 0; }\n        }\n      `}</style>\n    </span>\n  );\n};\n\n/**\n * FloatingElement - Gentle floating animation\n */\nexport const FloatingElement = ({ children, className = '', amplitude = 10, duration = 3 }) => {\n  return (\n    <div \n      className={className}\n      style={{\n        animation: `float ${duration}s ease-in-out infinite`\n      }}\n    >\n      {children}\n      <style jsx>{`\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-${amplitude}px); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n/**\n * CountUp - Animated number counter\n */\nexport const CountUp = ({ end, duration = 2000, prefix = '', suffix = '', className = '' }) => {\n  const [count, setCount] = useState(0);\n  const [hasStarted, setHasStarted] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !hasStarted) {\n          setHasStarted(true);\n        }\n      },\n      { threshold: 0.5 }\n    );\n\n    if (ref.current) observer.observe(ref.current);\n    return () => observer.disconnect();\n  }, [hasStarted]);\n\n  useEffect(() => {\n    if (!hasStarted) return;\n\n    let startTime;\n    const animate = (timestamp) => {\n      if (!startTime) startTime = timestamp;\n      const progress = Math.min((timestamp - startTime) / duration, 1);\n      \n      // Easing function\n      const easeOut = 1 - Math.pow(1 - progress, 3);\n      setCount(Math.floor(easeOut * end));\n\n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    };\n\n    requestAnimationFrame(animate);\n  }, [hasStarted, end, duration]);\n\n  return (\n    <span ref={ref} className={className}>\n      {prefix}{count.toLocaleString('hu-HU')}{suffix}\n    </span>\n  );\n};\n\n/**\n * ProgressBar - Animated progress bar\n */\nexport const ProgressBar = ({ progress, className = '', color = 'indigo' }) => {\n  const [width, setWidth] = useState(0);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => setWidth(progress), 100);\n    return () => clearTimeout(timeout);\n  }, [progress]);\n\n  return (\n    <div className={`h-2 bg-gray-200 rounded-full overflow-hidden ${className}`}>\n      <div \n        className={`h-full bg-gradient-to-r from-${color}-500 to-${color}-600 rounded-full transition-all duration-1000 ease-out`}\n        style={{ width: `${width}%` }}\n      />\n    </div>\n  );\n};\n\nexport default {\n  FadeInOnScroll,\n  StaggerChildren,\n  Confetti,\n  PulseButton,\n  ShimmerText,\n  FloatingElement,\n  CountUp,\n  ProgressBar\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport { X, ChevronDown } from 'lucide-react';\n\n/**\n * BottomSheet - iOS-style bottom sheet modal\n * Supports drag to close, snap points, and swipe gestures\n */\nconst BottomSheet = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  snapPoints = [0.5, 0.9], // Percentage of screen height\n  initialSnap = 0,\n  showHandle = true,\n  showClose = true\n}) => {\n  const [currentSnap, setCurrentSnap] = useState(initialSnap);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState(0);\n  const [touchStartY, setTouchStartY] = useState(0);\n  const sheetRef = useRef(null);\n  const contentRef = useRef(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n      setCurrentSnap(initialSnap);\n      setDragOffset(0);\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => { document.body.style.overflow = ''; };\n  }, [isOpen, initialSnap]);\n\n  const getSheetHeight = () => {\n    const snapHeight = snapPoints[currentSnap] * 100;\n    return `${snapHeight}vh`;\n  };\n\n  const handleTouchStart = (e) => {\n    // Only allow drag from handle area\n    if (e.target.closest('.sheet-content') && contentRef.current?.scrollTop > 0) {\n      return;\n    }\n    setTouchStartY(e.touches[0].clientY);\n    setIsDragging(true);\n  };\n\n  const handleTouchMove = (e) => {\n    if (!isDragging) return;\n    \n    const currentY = e.touches[0].clientY;\n    const diff = currentY - touchStartY;\n    \n    // Only allow dragging down\n    if (diff > 0) {\n      setDragOffset(diff);\n    } else {\n      // Allow dragging up to expand\n      setDragOffset(diff * 0.3); // Resistance when dragging up\n    }\n  };\n\n  const handleTouchEnd = () => {\n    if (!isDragging) return;\n    setIsDragging(false);\n\n    const threshold = 100;\n    \n    if (dragOffset > threshold) {\n      // Dragged down enough - close or snap to lower point\n      if (currentSnap === 0) {\n        onClose();\n      } else {\n        setCurrentSnap(currentSnap - 1);\n      }\n    } else if (dragOffset < -threshold && currentSnap < snapPoints.length - 1) {\n      // Dragged up - snap to higher point\n      setCurrentSnap(currentSnap + 1);\n    }\n    \n    setDragOffset(0);\n  };\n\n  const triggerHaptic = () => {\n    if (navigator.vibrate) {\n      navigator.vibrate(10);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[80] md:hidden\">\n      {/* Backdrop */}\n      <div \n        className={`absolute inset-0 bg-black transition-opacity duration-300 ${isDragging ? 'opacity-40' : 'opacity-50'}`}\n        onClick={onClose}\n      />\n      \n      {/* Sheet */}\n      <div\n        ref={sheetRef}\n        className=\"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl transition-all duration-300 ease-out\"\n        style={{\n          height: getSheetHeight(),\n          transform: `translateY(${Math.max(0, dragOffset)}px)`,\n          transitionProperty: isDragging ? 'none' : 'all'\n        }}\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n      >\n        {/* Handle */}\n        {showHandle && (\n          <div className=\"flex justify-center py-3 cursor-grab active:cursor-grabbing\">\n            <div className=\"w-12 h-1.5 bg-gray-300 rounded-full\" />\n          </div>\n        )}\n\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-5 pb-4 border-b border-gray-100\">\n          <h3 className=\"text-lg font-bold text-gray-900\">{title}</h3>\n          {showClose && (\n            <button\n              onClick={onClose}\n              className=\"p-2 -mr-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          )}\n        </div>\n\n        {/* Content */}\n        <div \n          ref={contentRef}\n          className=\"sheet-content flex-1 overflow-y-auto overscroll-contain\"\n          style={{ maxHeight: `calc(${getSheetHeight()} - 100px)` }}\n        >\n          {children}\n        </div>\n\n        {/* Safe area padding for iOS */}\n        <div style={{ paddingBottom: 'env(safe-area-inset-bottom, 0)' }} />\n      </div>\n    </div>\n  );\n};\n\n/**\n * FilterBottomSheet - Pre-styled filter sheet\n */\nexport const FilterBottomSheet = ({\n  isOpen,\n  onClose,\n  filters,\n  activeFilters,\n  onFilterChange,\n  onClearAll,\n  onApply\n}) => {\n  return (\n    <BottomSheet isOpen={isOpen} onClose={onClose} title=\"Szrk\" snapPoints={[0.7, 0.9]}>\n      <div className=\"p-5 space-y-6\">\n        {/* Active filters count */}\n        {Object.keys(activeFilters).length > 0 && (\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-sm text-gray-600\">\n              {Object.keys(activeFilters).length} szr aktv\n            </span>\n            <button\n              onClick={onClearAll}\n              className=\"text-sm text-indigo-600 font-medium\"\n            >\n              sszes trlse\n            </button>\n          </div>\n        )}\n\n        {/* Filter sections */}\n        {filters.map((filter) => (\n          <FilterSection\n            key={filter.id}\n            filter={filter}\n            value={activeFilters[filter.id]}\n            onChange={(value) => onFilterChange(filter.id, value)}\n          />\n        ))}\n\n        {/* Apply button */}\n        <button\n          onClick={onApply}\n          className=\"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors\"\n        >\n          Szrk alkalmazsa\n        </button>\n      </div>\n    </BottomSheet>\n  );\n};\n\nconst FilterSection = ({ filter, value, onChange }) => {\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  return (\n    <div className=\"border-b border-gray-100 pb-4\">\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"w-full flex items-center justify-between py-2\"\n      >\n        <span className=\"font-medium text-gray-900\">{filter.label}</span>\n        <ChevronDown className={`w-5 h-5 text-gray-400 transition-transform ${isExpanded ? 'rotate-180' : ''}`} />\n      </button>\n      \n      {isExpanded && (\n        <div className=\"mt-3 space-y-2\">\n          {filter.type === 'checkbox' && filter.options?.map((option) => (\n            <label key={option.value} className=\"flex items-center gap-3 py-2\">\n              <input\n                type=\"checkbox\"\n                checked={value?.includes(option.value)}\n                onChange={(e) => {\n                  const newValue = e.target.checked\n                    ? [...(value || []), option.value]\n                    : (value || []).filter(v => v !== option.value);\n                  onChange(newValue);\n                }}\n                className=\"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\n              />\n              <span className=\"text-gray-700\">{option.label}</span>\n              {option.count && (\n                <span className=\"text-gray-400 text-sm ml-auto\">({option.count})</span>\n              )}\n            </label>\n          ))}\n          \n          {filter.type === 'range' && (\n            <div className=\"space-y-4\">\n              <div className=\"flex gap-4\">\n                <div className=\"flex-1\">\n                  <label className=\"text-xs text-gray-500 mb-1 block\">Min</label>\n                  <input\n                    type=\"number\"\n                    value={value?.min || ''}\n                    onChange={(e) => onChange({ ...value, min: e.target.value })}\n                    placeholder={filter.min?.toString()}\n                    className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-200 outline-none\"\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <label className=\"text-xs text-gray-500 mb-1 block\">Max</label>\n                  <input\n                    type=\"number\"\n                    value={value?.max || ''}\n                    onChange={(e) => onChange({ ...value, max: e.target.value })}\n                    placeholder={filter.max?.toString()}\n                    className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-200 outline-none\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BottomSheet;\n","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\nimport { ShoppingCart, Camera, MessageCircle, X, Send, Plus, Move, Trash2, Home, ZoomIn, ZoomOut, Upload, Settings, Link as LinkIcon, FileText, RefreshCw, AlertCircle, Database, Lock, Search, ChevronLeft, ChevronRight, Filter, Heart, ArrowDownUp, Info, Check, Star, Truck, ShieldCheck, Phone, ArrowRight, Mail, Eye, Sparkles, Lightbulb, Image as ImageIcon, MousePointer2, Menu, Bot, Moon, Sun, Clock, Gift, Zap, TrendingUp, Instagram, Facebook, MapPin, Sofa, Lamp, BedDouble, Armchair, Grid3X3, ExternalLink, Timer, ChevronDown } from 'lucide-react';\n// framer-motion removed due to Vite production build TDZ issues\nimport { fetchUnasProducts, refreshUnasProducts, fetchCategories } from './services/unasApi';\nimport { trackProductView as trackProductViewPref, getPersonalizedRecommendations, getSimilarProducts } from './services/userPreferencesService';\n\n// New UI Components\nimport { ProductCardSkeleton, ProductGridSkeleton, CategorySkeleton } from './components/ui/Skeleton';\nimport { ToastProvider, useToast } from './components/ui/Toast';\nimport { NoSearchResults, NoFilterResults, ErrorState } from './components/ui/EmptyState';\nimport { SmartBadges } from './components/ui/Badge';\n\n// AI Components\nimport { AIShowcase, AIOnboarding } from './components/ai/AIShowcase';\nimport AIChatAssistant from './components/ai/AIChatAssistant';\nimport AIRoomDesigner from './components/ai/AIRoomDesigner';\nimport AIStyleQuiz from './components/ai/AIStyleQuiz';\nimport AIDebugPanel from './components/debug/AIDebugPanel';\n\n// Category Components\nimport CategorySwipe from './components/category/CategorySwipe';\nimport CategoryPage from './components/category/CategoryPage';\n\n// UX Components\nimport ScrollProgress from './components/ux/ScrollProgress';\nimport BackToTop from './components/ux/BackToTop';\nimport LiveSocialProof from './components/ux/LiveSocialProof';\n\n// Landing Components\nimport { ModernHero, AIFeaturesShowcase } from './components/landing/ModernHero';\nimport { SocialProof, LiveShowcase, InteractiveCTA } from './components/landing/ShowcaseSections';\n// Footer eltvoltva - a f UNAS shopnak mr van sajt lblcce\n\n// Product Components\nimport { EnhancedProductCard } from './components/product/EnhancedProductCard';\nimport { SmartSearch } from './components/product/SmartSearch';\nimport { SimilarProducts } from './components/product/SimilarProducts';\nimport { RecentlyViewed, trackProductView } from './components/product/RecentlyViewed';\nimport { ProductComparison, useComparison } from './components/product/ProductComparison';\nimport { AdvancedFilters, applyFilters } from './components/product/AdvancedFilters';\nimport QuickAddToCart from './components/product/QuickAddToCart';\nimport ProductQuickPeek from './components/product/ProductQuickPeek';\nimport AIPricePredictor from './components/ai/AIPricePredictor';\n\n// Search Components - removed VoiceSearch (framer-motion bundling issue)\n\n// Marketing Components\nimport SmartNewsletterPopup from './components/marketing/SmartNewsletterPopup';\nimport ExitIntentPopup from './components/marketing/ExitIntentPopup';\n\n// AR Components\nimport ARProductPreview from './components/ar/ARProductPreview';\n\n// New UX Components\nimport CompleteTheLook from './components/product/CompleteTheLook';\nimport PersonalizedSection from './components/home/PersonalizedSection';\nimport ImageGallery from './components/product/ImageGallery';\nimport StickyAddToCart from './components/product/StickyAddToCart';\nimport PriceAlert from './components/product/PriceAlert';\nimport { FadeInOnScroll, Confetti, CountUp } from './components/ui/Animations';\nimport SwipeableProductCard from './components/mobile/SwipeableProductCard';\nimport BottomSheet, { FilterBottomSheet } from './components/mobile/BottomSheet';\n\n// Hooks\nimport { useLocalStorage } from './hooks/index';\n// useInfiniteScroll removed - using manual \"Load More\" button instead\n\n// Utils\nimport { getOptimizedImageProps } from './utils/imageOptimizer';\nimport { PLACEHOLDER_IMAGE } from './utils/helpers';\n\n/* --- 1. KONFIGURCI & ADATOK --- */\n\nconst GOOGLE_API_KEY = import.meta.env.VITE_GOOGLE_API_KEY || \"AIzaSyDZV-fAFVCvh4Ad2lKlARMdtHoZWNRwZQA\"; \nconst WEBSHOP_DOMAIN = \"https://www.marketly.hu\";\nconst SHOP_ID = \"81697\"; \n\n// PERFORMANCE CONFIG - Don't load all 170k products!\n// Server-side filtering + pagination for instant UX\n// No page size limit - load ALL products at once (slim mode + GZIP = fast)\nconst DISPLAY_BATCH = 48;  // Products shown initially, more on scroll\n\n/* --- 2. SEGDFGGVNYEK --- */\n\nconst formatPrice = (price) => {\n  return new Intl.NumberFormat('hu-HU', { style: 'currency', currency: 'HUF', maximumFractionDigits: 0 }).format(price);\n};\n\nconst fixUrl = (url, type = 'main') => {\n    if (!url) return PLACEHOLDER_IMAGE;\n    let cleanUrl = url.trim().replace(/^\"|\"$/g, '');\n    \n    if (cleanUrl.length === 0) return PLACEHOLDER_IMAGE;\n    if (cleanUrl.startsWith('http')) return cleanUrl;\n\n    // UNAS specilis tvonalak kezelse\n    if (!cleanUrl.includes('/')) {\n        const folder = type === 'alt' ? 'shop_altpic' : 'shop_pic';\n        return `${WEBSHOP_DOMAIN}/shop_ordered/${SHOP_ID}/${folder}/${cleanUrl}`;\n    }\n\n    // Relatv tvonalak\n    if (cleanUrl.startsWith('/') || cleanUrl.startsWith('img/')) {\n        const path = cleanUrl.startsWith('/') ? cleanUrl : '/' + cleanUrl;\n        return WEBSHOP_DOMAIN.replace(/\\/$/, '') + path;\n    }\n\n    return cleanUrl;\n};\n\nconst generateAltImages = (mainImageUrl) => {\n    if (mainImageUrl.includes('/shop_pic/')) {\n        const baseUrl = mainImageUrl.replace('/shop_pic/', '/shop_altpic/');\n        const extIndex = baseUrl.lastIndexOf('.');\n        if (extIndex > -1) {\n            const basePath = baseUrl.substring(0, extIndex);\n            const ext = baseUrl.substring(extIndex);\n            return [\n                `${basePath}_altpic_1${ext}`,\n                `${basePath}_altpic_2${ext}`\n            ];\n        }\n    }\n    return [];\n};\n\nconst splitCSVLine = (line, delimiter) => {\n    const values = [];\n    let current = '';\n    let inQuotes = false;\n    for (let i = 0; i < line.length; i++) {\n        const char = line[i];\n        if (char === '\"') { inQuotes = !inQuotes; }\n        else if (char === delimiter && !inQuotes) { values.push(current); current = ''; }\n        else { current += char; }\n    }\n    values.push(current);\n    return values;\n};\n\nconst parseCSV = (csvText) => {\n  const lines = csvText.split(/\\r?\\n/);\n  const products = [];\n  if (lines.length < 2) return [];\n\n  const firstLine = lines[0];\n  const delimiter = (firstLine.match(/;/g) || []).length > (firstLine.match(/,/g) || []).length ? ';' : ',';\n  const headers = splitCSVLine(firstLine, delimiter).map(h => h.trim().replace(/^\"|\"$/g, ''));\n  \n  const findCol = (name) => headers.findIndex(h => h.toLowerCase().includes(name.toLowerCase()));\n\n  const nameCol = findCol(\"Termk Nv\");\n  const priceCol = findCol(\"Brutt r\"); \n  const catCol = findCol(\"Kategria\");\n  const imgCol = findCol(\"Kp link\"); \n  const urlCol = findCol(\"Termk link\");\n  const descCol = findCol(\"Tulajdonsgok\");\n  const stockCol = findCol(\"Raktrkszlet\");\n  const altImgCol = findCol(\"Kp kapcsolat\"); \n  \n  const paramCols = headers.reduce((acc, header, index) => {\n      if (header.startsWith(\"Paramter:\")) {\n          const cleanName = header.replace(\"Paramter:\", \"\").split(\"|\")[0].trim();\n          acc.push({ index, name: cleanName });\n      }\n      return acc;\n  }, []);\n\n  for (let i = 1; i < lines.length; i++) {\n      if (!lines[i].trim()) continue;\n      const row = splitCSVLine(lines[i], delimiter);\n      const getVal = (colIndex) => colIndex > -1 && row[colIndex] ? row[colIndex].replace(/^\"|\"$/g, '').trim() : \"\";\n\n      const stock = getVal(stockCol);\n      const priceStr = getVal(priceCol);\n      if (!priceStr || !getVal(nameCol)) continue;\n\n      let categoryPath = getVal(catCol) || \"Egyb\";\n      const category = categoryPath.includes('>') ? categoryPath.split('>').pop().trim() : categoryPath;\n\n      const mainImgUrl = fixUrl(getVal(imgCol), 'main');\n      let images = [mainImgUrl];\n      \n      const altImgsRaw = getVal(altImgCol);\n      if (altImgsRaw) {\n          const alts = altImgsRaw.split(/[|]/).map(url => fixUrl(url.trim(), 'alt'));\n          images = [...images, ...alts].slice(0, 4);\n      } else {\n          const generatedAlts = generateAltImages(mainImgUrl);\n          images = [...images, ...generatedAlts];\n      }\n\n      let aiContextParams = [];\n      paramCols.forEach(p => {\n          const val = getVal(p.index);\n          if (val) aiContextParams.push(`${p.name}: ${val}`);\n      });\n      const paramsString = aiContextParams.join(\", \");\n\n      products.push({\n          id: `mkt-prod-${i}`,\n          name: getVal(nameCol),\n          price: parseInt(priceStr.replace(/[^0-9]/g, '')) || 0,\n          category: category,\n          images: images, \n          description: getVal(descCol).replace(/<[^>]*>/g, ' ').substring(0, 500),\n          params: paramsString,\n          link: fixUrl(getVal(urlCol)),\n          inStock: !(stock === '0' || stock.toLowerCase() === 'nincs')\n      });\n  }\n  return products;\n};\n\n// --- 3. KOMPONENSEK ---\n\n// Announcement bar messages for rotation\nconst ANNOUNCEMENT_MESSAGES = [\n  { icon: Truck, text: 'Ingyenes szllts 50.000 Ft felett', highlight: 'Ingyenes' },\n  { icon: Gift, text: 'Els rendelsre 10% kedvezmny: ELSO10', highlight: 'ELSO10' },\n  { icon: Zap, text: 'AI-alap btorajnlatok - Csak Neked!', highlight: 'AI' },\n  { icon: TrendingUp, text: 'Tbb mint 90.000 termk egy helyen', highlight: '90.000' },\n  { icon: Star, text: '4.9 rtkels 10.000+ vsrltl', highlight: '4.9' },\n];\n\n// Popular categories for mega menu and mobile\nconst POPULAR_CATEGORIES = [\n  { id: 'kanapek', name: 'Kanapk', icon: Sofa, color: 'from-blue-500 to-indigo-600' },\n  { id: 'agyak', name: 'gyak', icon: BedDouble, color: 'from-purple-500 to-pink-600' },\n  { id: 'fotelek', name: 'Fotelek', icon: Armchair, color: 'from-orange-500 to-red-600' },\n  { id: 'lampak', name: 'Lmpk', icon: Lamp, color: 'from-yellow-500 to-orange-600' },\n  { id: 'szekrenyek', name: 'Szekrnyek', icon: Grid3X3, color: 'from-green-500 to-teal-600' },\n  { id: 'asztalok', name: 'Asztalok', icon: Grid3X3, color: 'from-cyan-500 to-blue-600' },\n];\n\nconst Navbar = ({ activeTab, setActiveTab, wishlistCount, productCount = 0, onScrollToProducts, recentlyViewed = [], categories = [] }) => {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [announcementIndex, setAnnouncementIndex] = useState(0);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [showMegaMenu, setShowMegaMenu] = useState(false);\n  const [isReturningUser, setIsReturningUser] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [mobileMenuClosing, setMobileMenuClosing] = useState(false);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const mobileMenuRef = useRef(null);\n\n  // Check for returning user\n  useEffect(() => {\n    const lastVisit = localStorage.getItem('mkt_last_visit');\n    const savedName = localStorage.getItem('mkt_user_name');\n    if (lastVisit) {\n      setIsReturningUser(true);\n      if (savedName) setUserName(savedName);\n    }\n    localStorage.setItem('mkt_last_visit', Date.now().toString());\n  }, []);\n\n  // Rotating announcement messages\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setAnnouncementIndex(prev => (prev + 1) % ANNOUNCEMENT_MESSAGES.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Scroll detection for navbar shrink effect\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 20);\n    };\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Prevent body scroll when mobile menu is open\n  useEffect(() => {\n    if (mobileMenuOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => { document.body.style.overflow = ''; };\n  }, [mobileMenuOpen]);\n\n  // Dark mode toggle\n  useEffect(() => {\n    if (isDarkMode) {\n      document.getElementById('mkt-butorbolt-app')?.classList.add('dark-mode');\n    } else {\n      document.getElementById('mkt-butorbolt-app')?.classList.remove('dark-mode');\n    }\n  }, [isDarkMode]);\n\n  // Swipe gesture handling for mobile menu\n  const handleTouchStart = (e) => {\n    setTouchStartX(e.touches[0].clientX);\n  };\n\n  const handleTouchEnd = (e) => {\n    const touchEndX = e.changedTouches[0].clientX;\n    const diff = touchEndX - touchStartX;\n    // Swipe right to close (diff > 80px)\n    if (diff > 80) {\n      closeMobileMenu();\n    }\n  };\n\n  const closeMobileMenu = () => {\n    // Haptic feedback\n    if (navigator.vibrate) navigator.vibrate(10);\n    setMobileMenuClosing(true);\n    setTimeout(() => {\n      setMobileMenuOpen(false);\n      setMobileMenuClosing(false);\n    }, 300);\n  };\n\n  const openMobileMenu = () => {\n    // Haptic feedback\n    if (navigator.vibrate) navigator.vibrate(10);\n    setMobileMenuOpen(true);\n  };\n\n  const setTabAndClose = (tab) => {\n    setActiveTab(tab);\n    closeMobileMenu();\n  };\n\n  const navItems = [\n    { id: 'shop', label: 'Termkek', icon: ShoppingCart, badge: productCount > 0 ? `${(productCount/1000).toFixed(0)}K+` : null, desc: 'Bngssz a knlatban' },\n    { id: 'visual-search', label: 'AI Kpkeres', icon: Camera, isAI: true, desc: 'Fotzz s keress' },\n    { id: 'room-planner', label: 'Szobatervez', icon: Move, isAI: true, desc: 'Tervezd meg a szobd' },\n  ];\n\n  const currentAnnouncement = ANNOUNCEMENT_MESSAGES[announcementIndex];\n\n  return (\n    <>\n      {/* Animated Announcement Bar - UNIFIED sizing */}\n      <div className=\"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white py-2.5 sm:py-3 lg:py-4 px-3 sm:px-4 lg:px-6 text-center relative overflow-hidden\">\n        <div className=\"absolute inset-0 opacity-20\" style={{backgroundImage: 'radial-gradient(circle, rgba(255,255,255,0.3) 1px, transparent 1px)', backgroundSize: '16px 16px'}} />\n        \n        {/* Animated message */}\n        <div className=\"relative flex items-center justify-center gap-2 sm:gap-3 lg:gap-4\">\n          <div \n            key={announcementIndex}\n            className=\"flex items-center gap-2 sm:gap-3 lg:gap-4 animate-fade-in\"\n          >\n            <currentAnnouncement.icon className=\"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 shrink-0\" />\n            <span className=\"text-sm sm:text-base lg:text-lg xl:text-xl font-medium\">\n              {currentAnnouncement.text.split(currentAnnouncement.highlight).map((part, i, arr) => (\n                <React.Fragment key={i}>\n                  {part}\n                  {i < arr.length - 1 && (\n                    <span className=\"font-bold bg-white/20 px-1.5 py-0.5 lg:px-2 lg:py-1 rounded mx-1 text-sm sm:text-base lg:text-lg xl:text-xl\">\n                      {currentAnnouncement.highlight}\n                    </span>\n                  )}\n                </React.Fragment>\n              ))}\n            </span>\n          </div>\n          \n          {/* Progress dots */}\n          <div className=\"hidden sm:flex items-center gap-1 lg:gap-1.5 ml-4 lg:ml-6\">\n            {ANNOUNCEMENT_MESSAGES.map((_, i) => (\n              <div \n                key={i} \n                className={`w-1.5 h-1.5 lg:w-2 lg:h-2 rounded-full transition-all duration-300 ${\n                  i === announcementIndex ? 'bg-white w-4 lg:w-6' : 'bg-white/40'\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Returning User Greeting */}\n      {isReturningUser && (\n        <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100 py-2 px-3 text-center\">\n          <span className=\"text-sm sm:text-base text-green-800 font-medium\">\n             dv jra{userName ? `, ${userName}` : ''}! rlnk, hogy visszatrtl!\n          </span>\n        </div>\n      )}\n\n      {/* Main navbar - UNIFIED sizing */}\n      <nav \n        id=\"mkt-butorbolt-navbar\" \n        className={`\n          sticky top-0 z-50 transition-all duration-300\n          ${isScrolled \n            ? 'bg-white/95 backdrop-blur-xl shadow-lg shadow-gray-200/50 border-b border-gray-100' \n            : 'bg-white/80 backdrop-blur-md'\n          }\n        `}\n      >\n        <div className=\"w-full max-w-[2000px] mx-auto px-3 sm:px-4 lg:px-10 xl:px-16 2xl:px-20\">\n          <div className={`flex justify-between items-center transition-all duration-300 ${isScrolled ? 'h-16 sm:h-18 lg:h-20 xl:h-24' : 'h-18 sm:h-20 lg:h-24 xl:h-28'}`}>\n            \n            {/* Logo - UNIFIED scaling */}\n            <div className=\"flex items-center cursor-pointer group\" onClick={() => setActiveTab('shop')}>\n              <div className={`\n                relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl sm:rounded-2xl \n                flex items-center justify-center text-white mr-3 sm:mr-4 lg:mr-5\n                transform group-hover:scale-105 group-hover:rotate-3 transition-all duration-300 \n                shadow-lg shadow-indigo-300/50 group-hover:shadow-xl\n                ${isScrolled ? 'w-11 h-11 sm:w-12 sm:h-12 lg:w-14 lg:h-14 xl:w-16 xl:h-16' : 'w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 xl:w-20 xl:h-20'}\n              `}>\n                <Home className={`${isScrolled ? 'w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 xl:w-8 xl:h-8' : 'w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10'}`} />\n                <div className=\"absolute -top-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7 bg-green-400 rounded-full border-2 border-white flex items-center justify-center\">\n                  <Sparkles className=\"w-2 h-2 sm:w-2.5 sm:h-2.5 lg:w-3 lg:h-3 xl:w-4 xl:h-4 text-white\" />\n                </div>\n              </div>\n              <div className=\"flex flex-col\">\n                <div className=\"flex items-baseline\">\n                  <span className={`font-black text-gray-900 tracking-tight transition-all ${isScrolled ? 'text-xl sm:text-2xl lg:text-3xl xl:text-4xl' : 'text-2xl sm:text-3xl lg:text-4xl xl:text-5xl'}`}>\n                    Marketly\n                  </span>\n                  <span className={`font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent transition-all ${isScrolled ? 'text-xl sm:text-2xl lg:text-3xl xl:text-4xl' : 'text-2xl sm:text-3xl lg:text-4xl xl:text-5xl'}`}>\n                    .AI\n                  </span>\n                </div>\n                <span className=\"text-[10px] sm:text-xs lg:text-sm xl:text-base text-gray-500 font-semibold tracking-widest -mt-0.5\">\n                  BTORBOLT\n                </span>\n              </div>\n            </div>\n\n            {/* Desktop Navigation with Mega Menu - UNIFIED */}\n            <div className=\"hidden lg:flex items-center gap-2 xl:gap-3 2xl:gap-4\">\n              {/* Categories Dropdown */}\n              <div \n                className=\"relative\"\n                onMouseEnter={() => setShowMegaMenu(true)}\n                onMouseLeave={() => setShowMegaMenu(false)}\n              >\n                <button className=\"flex items-center gap-2 xl:gap-3 px-4 xl:px-6 2xl:px-7 py-2.5 xl:py-3.5 2xl:py-4 rounded-xl xl:rounded-2xl text-gray-600 hover:text-gray-900 hover:bg-gray-100 font-bold text-base xl:text-lg 2xl:text-xl transition-all\">\n                  <Grid3X3 className=\"w-5 h-5 xl:w-6 xl:h-6\" />\n                  <span>Kategrik</span>\n                  <ChevronDown className={`w-4 h-4 xl:w-5 xl:h-5 transition-transform ${showMegaMenu ? 'rotate-180' : ''}`} />\n                </button>\n\n                {/* Mega Menu Dropdown - UNIFIED */}\n                {showMegaMenu && (\n                  <div className=\"absolute top-full left-0 mt-2 w-[500px] xl:w-[600px] 2xl:w-[700px] bg-white rounded-2xl xl:rounded-3xl shadow-2xl border border-gray-100 p-6 xl:p-8 animate-fade-in-up z-50\">\n                    <div className=\"grid grid-cols-3 gap-3 xl:gap-4\">\n                      {POPULAR_CATEGORIES.map((cat) => (\n                        <button\n                          key={cat.id}\n                          onClick={() => {\n                            setActiveTab('shop');\n                            setShowMegaMenu(false);\n                          }}\n                          className=\"flex flex-col items-center gap-2 xl:gap-3 p-4 xl:p-5 rounded-xl xl:rounded-2xl hover:bg-gray-50 transition-all group\"\n                        >\n                          <div className={`w-12 h-12 xl:w-16 xl:h-16 2xl:w-20 2xl:h-20 rounded-xl xl:rounded-2xl bg-gradient-to-br ${cat.color} flex items-center justify-center text-white group-hover:scale-110 transition-transform`}>\n                            <cat.icon className=\"w-6 h-6 xl:w-8 xl:h-8 2xl:w-10 2xl:h-10\" />\n                          </div>\n                          <span className=\"text-sm xl:text-base 2xl:text-lg font-semibold text-gray-700\">{cat.name}</span>\n                        </button>\n                      ))}\n                    </div>\n                    <div className=\"mt-4 xl:mt-6 pt-4 xl:pt-6 border-t border-gray-100\">\n                      <button \n                        onClick={() => {\n                          setActiveTab('shop');\n                          setShowMegaMenu(false);\n                        }}\n                        className=\"w-full flex items-center justify-center gap-2 xl:gap-3 py-3 xl:py-4 text-base xl:text-lg 2xl:text-xl text-indigo-600 hover:bg-indigo-50 rounded-xl xl:rounded-2xl font-bold transition-all\"\n                      >\n                        sszes kategria megtekintse\n                        <ArrowRight className=\"w-4 h-4 xl:w-5 xl:h-5\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {navItems.map((item) => (\n                <button\n                  key={item.id}\n                  onClick={() => setActiveTab(item.id)}\n                  className={`\n                    relative flex items-center gap-2 xl:gap-3 px-4 xl:px-6 2xl:px-7 py-2.5 xl:py-3.5 2xl:py-4 rounded-xl xl:rounded-2xl\n                    font-bold text-base xl:text-lg 2xl:text-xl transition-all duration-200\n                    ${activeTab === item.id\n                      ? 'bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-300/50'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                    }\n                  `}\n                >\n                  <item.icon className=\"w-5 h-5 xl:w-6 xl:h-6\" />\n                  <span>{item.label}</span>\n                  {item.isAI && activeTab !== item.id && (\n                    <span className=\"px-2 py-0.5 xl:px-2.5 xl:py-1 text-[10px] xl:text-xs font-bold bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-600 rounded-full\">\n                      AI\n                    </span>\n                  )}\n                  {item.badge && activeTab !== item.id && (\n                    <span className=\"px-2 py-0.5 xl:px-2.5 xl:py-1 text-[10px] xl:text-xs font-bold bg-green-100 text-green-700 rounded-full\">\n                      {item.badge}\n                    </span>\n                  )}\n                </button>\n              ))}\n            </div>\n\n            {/* Right side actions - UNIFIED */}\n            <div className=\"flex items-center gap-2 sm:gap-3 lg:gap-4\">\n              \n              {/* Progressive Search (appears when scrolled on desktop) */}\n              {isScrolled && (\n                <button\n                  onClick={() => {\n                    const productsSection = document.getElementById('products-section');\n                    productsSection?.scrollIntoView({ behavior: 'smooth' });\n                  }}\n                  className=\"hidden lg:flex items-center gap-2 xl:gap-3 px-4 xl:px-5 py-2.5 xl:py-3 bg-gray-100 hover:bg-gray-200 rounded-xl xl:rounded-2xl text-gray-600 hover:text-gray-900 transition-all\"\n                >\n                  <Search className=\"w-5 h-5 xl:w-6 xl:h-6\" />\n                  <span className=\"text-sm xl:text-base font-bold\">Keress</span>\n                </button>\n              )}\n\n              {/* Dark Mode Toggle */}\n              <button \n                onClick={() => setIsDarkMode(!isDarkMode)}\n                className=\"hidden sm:flex p-2.5 sm:p-3 lg:p-3.5 xl:p-4 min-w-[44px] min-h-[44px] lg:min-w-[52px] lg:min-h-[52px] xl:min-w-[56px] xl:min-h-[56px] items-center justify-center text-gray-600 hover:text-gray-900 rounded-xl xl:rounded-2xl hover:bg-gray-100 transition-all\"\n                aria-label={isDarkMode ? 'Vilgos md' : 'Stt md'}\n              >\n                {isDarkMode ? <Sun className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7\" /> : <Moon className=\"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7\" />}\n              </button>\n\n              {/* Wishlist */}\n              <button \n                className=\"relative p-2.5 sm:p-3 lg:p-3.5 xl:p-4 min-w-[44px] min-h-[44px] lg:min-w-[52px] lg:min-h-[52px] xl:min-w-[56px] xl:min-h-[56px] flex items-center justify-center text-gray-600 hover:text-red-500 rounded-xl xl:rounded-2xl hover:bg-red-50 transition-all group\"\n                aria-label=\"Kvnsglista\"\n              >\n                <Heart className={`w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 transition-all group-hover:scale-110 ${wishlistCount > 0 ? 'fill-red-500 text-red-500' : ''}`} />\n                {wishlistCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 min-w-[20px] lg:min-w-[24px] h-5 lg:h-6 flex items-center justify-center px-1.5 lg:px-2 text-xs lg:text-sm font-bold text-white bg-red-500 rounded-full shadow-lg animate-scale-in\">\n                    {wishlistCount}\n                  </span>\n                )}\n              </button>\n\n              {/* Mobile menu button */}\n              <button\n                type=\"button\"\n                className=\"lg:hidden p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg hover:shadow-xl transition-all\"\n                onClick={openMobileMenu}\n                aria-label=\"Men megnyitsa\"\n              >\n                <Menu className=\"w-6 h-6\" />\n              </button>\n\n              {/* CTA Button - UNIFIED */}\n              <a \n                href={WEBSHOP_DOMAIN} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\" \n                className=\"hidden md:flex items-center gap-2 xl:gap-3 bg-gradient-to-r from-gray-900 to-gray-800 hover:from-gray-800 hover:to-gray-700 text-white px-5 lg:px-7 xl:px-9 2xl:px-10 py-2.5 lg:py-3.5 xl:py-4 2xl:py-5 rounded-xl lg:rounded-2xl text-sm lg:text-base xl:text-lg 2xl:text-xl font-bold transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n              >\n                <span>F webshop</span>\n                <ExternalLink className=\"w-4 h-4 lg:w-5 lg:h-5 xl:w-6 xl:h-6\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* ENHANCED Mobile Menu - Slide-in with swipe gesture */}\n      {mobileMenuOpen && (\n        <div\n          ref={mobileMenuRef}\n          className={`fixed inset-0 z-[200] lg:hidden ${mobileMenuClosing ? 'animate-slide-out-right' : 'animate-slide-in-right'}`}\n          style={{ bottom: '40px' }}\n          role=\"dialog\"\n          aria-label=\"Navigcis men\"\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n        >\n          {/* Gradient background */}\n          <div className=\"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600\" />\n          \n          {/* Animated floating shapes */}\n          <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n            <div className=\"absolute top-10 left-5 w-48 h-48 bg-white/10 rounded-full blur-3xl animate-float-slow\" />\n            <div className=\"absolute bottom-32 right-5 w-64 h-64 bg-pink-400/15 rounded-full blur-3xl animate-float-medium\" />\n            <div className=\"absolute top-1/3 right-1/4 w-32 h-32 bg-yellow-400/10 rounded-full blur-2xl animate-float-fast\" />\n          </div>\n          \n          {/* Content */}\n          <div className=\"relative h-full flex flex-col text-white p-4 sm:p-5 overflow-y-auto\">\n            \n            {/* Header */}\n            <div className=\"flex justify-between items-center mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-11 h-11 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center\">\n                  <Home className=\"w-5 h-5\" />\n                </div>\n                <div>\n                  <div className=\"flex items-baseline\">\n                    <span className=\"font-black text-xl\">Marketly</span>\n                    <span className=\"font-black text-xl text-white/80\">.AI</span>\n                  </div>\n                  <p className=\"text-[10px] text-white/60 font-medium tracking-wider\">BTORBOLT</p>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                className=\"p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-xl bg-white/10 hover:bg-white/20 backdrop-blur-xl transition-colors\"\n                onClick={closeMobileMenu}\n                aria-label=\"Men bezrsa\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {/* Quick Actions Row */}\n            <div className=\"flex gap-3 mb-5\">\n              <button \n                onClick={() => {\n                  closeMobileMenu();\n                  setTimeout(() => {\n                    document.getElementById('products-section')?.scrollIntoView({ behavior: 'smooth' });\n                  }, 350);\n                }}\n                className=\"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white/15 backdrop-blur-xl rounded-xl font-bold text-base\"\n              >\n                <Search className=\"w-5 h-5\" />\n                <span>Keress</span>\n              </button>\n              <button className=\"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white/15 backdrop-blur-xl rounded-xl font-bold text-base relative\">\n                <Heart className={`w-5 h-5 ${wishlistCount > 0 ? 'fill-white' : ''}`} />\n                <span>Kedvencek</span>\n                {wishlistCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center font-bold\">\n                    {wishlistCount}\n                  </span>\n                )}\n              </button>\n            </div>\n\n            {/* Popular Categories Grid */}\n            <div className=\"mb-5\">\n              <p className=\"text-sm text-white/70 font-bold uppercase tracking-wider mb-3\">Npszer kategrik</p>\n              <div className=\"grid grid-cols-3 gap-2\">\n                {POPULAR_CATEGORIES.slice(0, 6).map((cat) => (\n                  <button\n                    key={cat.id}\n                    onClick={() => setTabAndClose('shop')}\n                    className=\"flex flex-col items-center gap-2 py-3 bg-white/10 backdrop-blur-xl rounded-xl hover:bg-white/20 transition-all\"\n                  >\n                    <div className={`w-10 h-10 rounded-xl bg-gradient-to-br ${cat.color} flex items-center justify-center`}>\n                      <cat.icon className=\"w-5 h-5\" />\n                    </div>\n                    <span className=\"text-xs font-bold\">{cat.name}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Main Navigation */}\n            <div className=\"space-y-2.5 mb-5\">\n              <p className=\"text-sm text-white/70 font-bold uppercase tracking-wider mb-3\">Navigci</p>\n              {navItems.map((item, index) => (\n                <button\n                  key={item.id}\n                  onClick={() => setTabAndClose(item.id)}\n                  className={`\n                    w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-left transition-all\n                    ${activeTab === item.id\n                      ? 'bg-white text-gray-900 shadow-2xl'\n                      : 'bg-white/10 hover:bg-white/20 backdrop-blur-xl'\n                    }\n                  `}\n                  style={{ animationDelay: `${index * 50}ms` }}\n                >\n                  <div className={`\n                    w-11 h-11 rounded-xl flex items-center justify-center shrink-0\n                    ${activeTab === item.id \n                      ? 'bg-gradient-to-br from-indigo-500 to-purple-600 text-white' \n                      : 'bg-white/20'\n                    }\n                  `}>\n                    <item.icon className=\"w-5 h-5\" />\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className={`text-lg font-bold ${activeTab === item.id ? 'text-gray-900' : 'text-white'}`}>\n                        {item.label}\n                      </span>\n                      {item.isAI && (\n                        <span className={`px-2 py-0.5 text-[10px] font-bold rounded-full ${\n                          activeTab === item.id \n                            ? 'bg-indigo-100 text-indigo-600' \n                            : 'bg-white/20 text-white'\n                        }`}>\n                          AI\n                        </span>\n                      )}\n                    </div>\n                    <p className={`text-sm ${activeTab === item.id ? 'text-gray-500' : 'text-white/60'}`}>\n                      {item.desc}\n                    </p>\n                  </div>\n                  <ChevronRight className={`w-5 h-5 shrink-0 ${activeTab === item.id ? 'text-indigo-600' : 'text-white/40'}`} />\n                </button>\n              ))}\n            </div>\n\n            {/* Recently Viewed (if any) */}\n            {recentlyViewed && recentlyViewed.length > 0 && (\n              <div className=\"mb-4\">\n                <p className=\"text-xs text-white/60 font-semibold uppercase tracking-wider mb-2 flex items-center gap-1.5\">\n                  <Clock className=\"w-3.5 h-3.5\" />\n                  Utoljra nzett\n                </p>\n                <div className=\"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1\">\n                  {recentlyViewed.slice(0, 4).map((product) => (\n                    <div key={product.id} className=\"shrink-0 w-20\">\n                      <div className=\"w-20 h-20 bg-white/10 backdrop-blur-xl rounded-lg overflow-hidden mb-1\">\n                        <img \n                          src={fixUrl(product.imageUrl)} \n                          alt={product.name}\n                          className=\"w-full h-full object-cover\"\n                          loading=\"lazy\"\n                        />\n                      </div>\n                      <p className=\"text-[10px] text-white/80 truncate\">{product.name}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Bottom Section */}\n            <div className=\"mt-auto space-y-3\">\n              {/* Dark Mode Toggle */}\n              <button \n                onClick={() => setIsDarkMode(!isDarkMode)}\n                className=\"w-full flex items-center justify-between px-4 py-3 bg-white/10 backdrop-blur-xl rounded-xl\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  {isDarkMode ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\n                  <span className=\"font-semibold\">{isDarkMode ? 'Vilgos md' : 'Stt md'}</span>\n                </div>\n                <div className={`w-10 h-6 rounded-full transition-colors ${isDarkMode ? 'bg-indigo-400' : 'bg-white/30'}`}>\n                  <div className={`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${isDarkMode ? 'translate-x-4.5 ml-0.5' : 'translate-x-0.5'}`} />\n                </div>\n              </button>\n\n              {/* Contact Row */}\n              <div className=\"flex gap-2\">\n                <a href=\"tel:+36123456789\" className=\"flex-1 flex items-center justify-center gap-2 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl text-sm font-semibold\">\n                  <Phone className=\"w-4 h-4\" />\n                  Hvs\n                </a>\n                <a href=\"mailto:info@marketly.hu\" className=\"flex-1 flex items-center justify-center gap-2 py-2.5 bg-white/10 backdrop-blur-xl rounded-xl text-sm font-semibold\">\n                  <Mail className=\"w-4 h-4\" />\n                  Email\n                </a>\n              </div>\n\n              {/* Social Links */}\n              <div className=\"flex justify-center gap-3\">\n                <a href=\"https://instagram.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"p-2.5 bg-white/10 backdrop-blur-xl rounded-xl hover:bg-white/20 transition-colors\">\n                  <Instagram className=\"w-5 h-5\" />\n                </a>\n                <a href=\"https://facebook.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"p-2.5 bg-white/10 backdrop-blur-xl rounded-xl hover:bg-white/20 transition-colors\">\n                  <Facebook className=\"w-5 h-5\" />\n                </a>\n                <a href=\"https://maps.google.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"p-2.5 bg-white/10 backdrop-blur-xl rounded-xl hover:bg-white/20 transition-colors\">\n                  <MapPin className=\"w-5 h-5\" />\n                </a>\n              </div>\n\n              {/* Stats Row */}\n              <div className=\"grid grid-cols-3 gap-2\">\n                <div className=\"bg-white/10 backdrop-blur-xl rounded-xl p-2.5 text-center\">\n                  <p className=\"text-lg font-bold\">{productCount > 0 ? `${(productCount/1000).toFixed(0)}K+` : '...'}</p>\n                  <p className=\"text-[9px] text-white/60\">Termk</p>\n                </div>\n                <div className=\"bg-white/10 backdrop-blur-xl rounded-xl p-2.5 text-center\">\n                  <p className=\"text-lg font-bold\">24/7</p>\n                  <p className=\"text-[9px] text-white/60\">AI Support</p>\n                </div>\n                <div className=\"bg-white/10 backdrop-blur-xl rounded-xl p-2.5 text-center\">\n                  <p className=\"text-lg font-bold\">4.9</p>\n                  <p className=\"text-[9px] text-white/60\">rtkels</p>\n                </div>\n              </div>\n\n              {/* CTA Button */}\n              <a \n                href={WEBSHOP_DOMAIN} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\" \n                className=\"flex items-center justify-center gap-2 w-full px-4 py-3.5 rounded-xl font-bold text-base bg-white text-gray-900 hover:bg-gray-100 transition-all shadow-2xl\"\n                onClick={closeMobileMenu}\n              >\n                Vissza a f webshopba\n                <ExternalLink className=\"w-4 h-4\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nconst FileLoaderBar = ({ onFileLoad, onUnasRefresh, isLoadingUnas, lastUpdated, unasError }) => {\n    const fileInputRef = useRef(null);\n    \n    const formatTimestamp = (timestamp) => {\n        if (!timestamp) return '';\n        const date = new Date(timestamp);\n        const now = new Date();\n        const diffMs = now - date;\n        const diffMins = Math.floor(diffMs / 60000);\n        \n        if (diffMins < 1) return 'most';\n        if (diffMins < 60) return `${diffMins} perce`;\n        const diffHours = Math.floor(diffMins / 60);\n        if (diffHours < 24) return `${diffHours} rja`;\n        return date.toLocaleDateString('hu-HU');\n    };\n    \n    return (\n        <div id=\"mkt-butorbolt-loader\" className=\"bg-indigo-600 text-white py-3 px-4 shadow-md\">\n            <div className=\"max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3\">\n                <div className=\"flex items-center\">\n                    <Database className=\"w-5 h-5 mr-2\" />\n                    <span className=\"text-sm font-medium\">\n                        {lastUpdated ? `Frisstve: ${formatTimestamp(lastUpdated)}` : 'Adatok betltse...'}\n                    </span>\n                    {unasError && (\n                        <span className=\"ml-2 text-xs bg-red-500 px-2 py-0.5 rounded-full flex items-center\">\n                            <AlertCircle className=\"w-3 h-3 mr-1\" /> Hiba\n                        </span>\n                    )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <input type=\"file\" ref={fileInputRef} accept=\".csv\" className=\"hidden\" onChange={(e) => {\n                        const file = e.target.files[0];\n                        if(file) {\n                            file.text().then(text => onFileLoad(parseCSV(text)));\n                        }\n                    }} />\n                    <button \n                        onClick={() => fileInputRef.current?.click()} \n                        className=\"bg-white text-indigo-600 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-indigo-50 transition-colors flex items-center shadow-sm\"\n                    >\n                        <Upload className=\"w-4 h-4 mr-1.5\" /> CSV\n                    </button>\n                    <button \n                        onClick={onUnasRefresh}\n                        disabled={isLoadingUnas}\n                        className=\"bg-white text-indigo-600 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-indigo-50 transition-colors flex items-center shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                        <RefreshCw className={`w-4 h-4 mr-1.5 ${isLoadingUnas ? 'animate-spin' : ''}`} /> \n                        {isLoadingUnas ? 'Frissts...' : 'UNAS Frissts'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst Hero = ({ onExplore }) => (\n    <div className=\"relative bg-gray-50 overflow-hidden mb-12\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-indigo-50 to-white z-0\"></div>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10\">\n            <div className=\"py-20 lg:py-28 flex flex-col lg:flex-row items-center justify-between\">\n                <div className=\"lg:w-1/2 mb-12 lg:mb-0\">\n                    <div className=\"inline-flex items-center px-4 py-2 bg-white rounded-full shadow-sm text-indigo-600 text-sm font-bold mb-6 border border-indigo-50\">\n                        <Star className=\"w-4 h-4 mr-2 fill-current\" /> Prmium Minsg 2025\n                    </div>\n                    <h1 className=\"text-5xl lg:text-7xl font-extrabold text-gray-900 leading-tight mb-6 tracking-tight\">\n                        Otthonod, <br/>\n                        <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600\">a te stlusod.</span>\n                    </h1>\n                    <p className=\"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed\">\n                        Talld meg a tkletes btort az AI segtsgvel. Tlts fel egy fott lmaid szobjrl, s mi megmutatjuk hozz a termkeket.\n                    </p>\n                    <div className=\"flex flex-col sm:flex-row gap-4\">\n                        <button onClick={onExplore} className=\"bg-gray-900 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all shadow-xl hover:shadow-2xl flex items-center justify-center transform hover:-translate-y-1\">\n                            Kollekci megtekintse <ArrowRight className=\"ml-2 w-5 h-5\" />\n                        </button>\n                    </div>\n                </div>\n                <div className=\"lg:w-1/2 relative h-[500px] w-full\">\n                    <img \n                        src=\"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?auto=format&fit=crop&q=80&w=1000\" \n                        alt=\"Btor enterir\" \n                        className=\"absolute inset-0 w-full h-full object-cover rounded-3xl shadow-2xl transform lg:rotate-1 hover:rotate-0 transition-transform duration-700\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nconst Features = () => (\n    <div className=\"bg-white py-16 lg:py-20 xl:py-24 border-b border-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 xl:gap-10\">\n                <div className=\"flex items-center p-6 lg:p-8 xl:p-10 bg-gray-50 rounded-2xl xl:rounded-3xl\">\n                    <div className=\"w-14 h-14 lg:w-16 lg:h-16 xl:w-20 xl:h-20 bg-blue-100 text-blue-600 rounded-xl lg:rounded-2xl flex items-center justify-center mr-4 lg:mr-5 xl:mr-6 shrink-0\">\n                        <Truck className=\"w-7 h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10\" />\n                    </div>\n                    <div>\n                        <h3 className=\"font-bold text-gray-900 text-lg lg:text-xl xl:text-2xl\">Ingyenes Szllts</h3>\n                        <p className=\"text-sm lg:text-base xl:text-lg text-gray-500 mt-1\">Minden 50.000 Ft feletti rendelsnl.</p>\n                    </div>\n                </div>\n                <div className=\"flex items-center p-6 lg:p-8 xl:p-10 bg-gray-50 rounded-2xl xl:rounded-3xl\">\n                    <div className=\"w-14 h-14 lg:w-16 lg:h-16 xl:w-20 xl:h-20 bg-green-100 text-green-600 rounded-xl lg:rounded-2xl flex items-center justify-center mr-4 lg:mr-5 xl:mr-6 shrink-0\">\n                        <ShieldCheck className=\"w-7 h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10\" />\n                    </div>\n                    <div>\n                        <h3 className=\"font-bold text-gray-900 text-lg lg:text-xl xl:text-2xl\">Garancia</h3>\n                        <p className=\"text-sm lg:text-base xl:text-lg text-gray-500 mt-1\">Minden btorra teljes kr garancia.</p>\n                    </div>\n                </div>\n                <div className=\"flex items-center p-6 lg:p-8 xl:p-10 bg-gray-50 rounded-2xl xl:rounded-3xl\">\n                    <div className=\"w-14 h-14 lg:w-16 lg:h-16 xl:w-20 xl:h-20 bg-purple-100 text-purple-600 rounded-xl lg:rounded-2xl flex items-center justify-center mr-4 lg:mr-5 xl:mr-6 shrink-0\">\n                        <Phone className=\"w-7 h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10\" />\n                    </div>\n                    <div>\n                        <h3 className=\"font-bold text-gray-900 text-lg lg:text-xl xl:text-2xl\">gyflszolglat</h3>\n                        <p className=\"text-sm lg:text-base xl:text-lg text-gray-500 mt-1\">Szakrt segtsg minden nap.</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nconst Testimonials = () => (\n    <div className=\"bg-gray-50 py-16 lg:py-20 xl:py-24 mb-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n            <h2 className=\"text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 mb-12 lg:mb-16\">Mit mondanak rlunk?</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 xl:gap-10\">\n                {[\n                    { name: \"Kovcs Anna\", text: \"Az AI segtsgvel talltam meg a kanapt, ami pont illik a fggnyhz.\", role: \"Lakberendez\" },\n                    { name: \"Nagy Pter\", text: \"Gyors szllts, s a minsg is kivl. A kpkeres funkci nagyon hasznos.\", role: \"Vsrl\" },\n                    { name: \"Szab va\", text: \"Vgre egy webshop, ahol nem kell rkig grgetni. Az asszisztens azonnal segtett.\", role: \"Vsrl\" }\n                ].map((t, i) => (\n                    <div key={i} className=\"bg-white p-8 lg:p-10 xl:p-12 rounded-2xl xl:rounded-3xl shadow-sm hover:shadow-lg transition-shadow text-left\">\n                        <div className=\"flex text-yellow-400 mb-4 lg:mb-5\">\n                            {[...Array(5)].map((_, i) => <Star key={i} className=\"w-5 h-5 lg:w-6 lg:h-6 fill-current\" />)}\n                        </div>\n                        <p className=\"text-gray-600 mb-6 lg:mb-8 italic text-base lg:text-lg xl:text-xl leading-relaxed\">\"{t.text}\"</p>\n                        <div className=\"flex items-center\">\n                            <div className=\"w-12 h-12 lg:w-14 lg:h-14 xl:w-16 xl:h-16 bg-indigo-100 rounded-full flex items-center justify-center font-bold text-indigo-600 text-lg lg:text-xl xl:text-2xl mr-4\">\n                                {t.name.charAt(0)}\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-gray-900 text-base lg:text-lg xl:text-xl\">{t.name}</h4>\n                                <p className=\"text-sm lg:text-base text-gray-500\">{t.role}</p>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    </div>\n);\n\nconst ProductModal = ({ product, isOpen, onClose, allProducts = [], onAddToCart }) => {\n    const [aiTip, setAiTip] = useState(null);\n    const [loadingTip, setLoadingTip] = useState(false);\n    \n    useEffect(() => {\n        setAiTip(null);\n    }, [product]);\n\n    if (!isOpen || !product) return null;\n\n    const generateStyleTip = async () => {\n        setLoadingTip(true);\n        try {\n            const prompt = `Lakberendez vagy. Adj 2 rvid, konkrt tippet ehhez:\n            Termk: ${product.name} (${product.category})\n            Paramterek: ${product.params || \"Nincs adat\"}\n            Vlaszolj magyarul, emojikkal.`;\n\n            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GOOGLE_API_KEY}`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })\n            });\n            const data = await response.json();\n            setAiTip(data.candidates?.[0]?.content?.parts?.[0]?.text);\n        } catch (error) {\n            setAiTip(\"Sajnos most nem tudok tippet adni.\");\n        } finally {\n            setLoadingTip(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in\" onClick={onClose}>\n            <div className=\"bg-white rounded-3xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col relative\" onClick={e => e.stopPropagation()}>\n                <button onClick={onClose} className=\"absolute top-4 right-4 z-10 bg-white/80 p-2 rounded-full hover:bg-gray-100 transition-colors\"><X className=\"w-6 h-6 text-gray-600\" /></button>\n                \n                <div className=\"flex flex-col md:flex-row overflow-y-auto\">\n                  {/* Left: Image Gallery */}\n                  <div className=\"md:w-1/2 bg-gray-50 p-6\">\n                      <ImageGallery \n                        images={product.images || []} \n                        productName={product.name}\n                      />\n                  </div>\n\n                  {/* Right: Product Info */}\n                  <div className=\"md:w-1/2 p-6 md:p-8 overflow-y-auto\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                          <span className=\"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide\">{product.category}</span>\n                          {product.inStock ?? product.in_stock ? \n                              <span className=\"text-green-600 text-xs font-bold flex items-center bg-green-50 px-2 py-1 rounded-full\"><Check className=\"w-3 h-3 mr-1\" /> Raktron</span> : \n                              <span className=\"text-red-500 text-xs font-bold bg-red-50 px-2 py-1 rounded-full\">Kszlethiny</span>\n                          }\n                      </div>\n                      <h2 className=\"text-2xl md:text-3xl font-extrabold text-gray-900 mb-2 leading-tight\">{product.name}</h2>\n                      <p className=\"text-2xl md:text-3xl font-bold text-indigo-600 mb-4\">{formatPrice(product.price)}</p>\n                      \n                      {/* Price Alert */}\n                      <div className=\"flex items-center gap-3 mb-6\">\n                        <PriceAlert product={product} />\n                      </div>\n                      \n                      <div className=\"mb-6\">\n                          {!aiTip && !loadingTip && (\n                              <button onClick={generateStyleTip} className=\"w-full bg-gradient-to-r from-purple-50 to-indigo-50 hover:from-purple-100 hover:to-indigo-100 text-indigo-700 p-4 rounded-xl border border-indigo-100 flex items-center justify-center transition-all group\">\n                                  <Sparkles className=\"w-5 h-5 mr-2 group-hover:scale-110 transition-transform\" />\n                                  Krj AI Lakberendez tippet!\n                              </button>\n                          )}\n                          {loadingTip && (\n                              <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100 flex items-center justify-center text-gray-500 animate-pulse\">\n                                  <RefreshCw className=\"w-5 h-5 mr-2 animate-spin\" /> A tervez gondolkodik...\n                              </div>\n                          )}\n                          {aiTip && (\n                              <div className=\"bg-gradient-to-br from-indigo-50 to-white p-5 rounded-xl border border-indigo-100 shadow-sm animate-fade-in\">\n                                  <div className=\"flex items-center mb-2 text-indigo-700 font-bold\"><Lightbulb className=\"w-5 h-5 mr-2\" /> AI Tipp:</div>\n                                  <div className=\"text-sm text-gray-700 leading-relaxed whitespace-pre-line\">{aiTip}</div>\n                              </div>\n                          )}\n                      </div>\n\n                      <div className=\"prose prose-sm text-gray-600 mb-6 border-t border-gray-100 pt-4\">\n                          <h4 className=\"font-bold text-gray-900 mb-2\">Lers</h4>\n                          <p className=\"text-sm\">{product.description || \"Nincs lers.\"}</p>\n                          {product.params && (\n                              <div className=\"mt-4 grid grid-cols-2 gap-2 text-xs\">\n                                  {product.params.split(',').slice(0, 6).map((param, i) => (\n                                      <div key={i} className=\"bg-gray-50 p-2 rounded text-gray-700\">{param.trim()}</div>\n                                  ))}\n                              </div>\n                          )}\n                      </div>\n\n                      {/* Complete The Look - AI Bundle */}\n                      {allProducts.length > 0 && (\n                        <div className=\"mb-6\">\n                          <CompleteTheLook\n                            currentProduct={product}\n                            allProducts={allProducts}\n                            onAddToCart={onAddToCart}\n                          />\n                        </div>\n                      )}\n\n                      <div className=\"sticky bottom-0 bg-white pt-4 border-t border-gray-100 mt-auto\">\n                          <a href={product.link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg text-center hover:bg-gray-800 transition-all shadow-lg flex items-center justify-center hover:shadow-xl transform hover:-translate-y-1\">\n                              Megveszem a webshopban <ArrowRight className=\"ml-2 w-5 h-5\" />\n                          </a>\n                      </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst ChatWidget = ({ products }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([{ role: 'system', text: 'Szia! Btor szakrt vagyok. Segthetek vlasztani?' }]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => { messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [messages, isOpen]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const userMsg = input;\n    setInput('');\n    setMessages(prev => [...prev, { role: 'user', text: userMsg }]);\n    setIsLoading(true);\n\n    try {\n      const lowerQuery = userMsg.toLowerCase();\n      const relevantProducts = products.filter(p =>\n          (p.name || '').toLowerCase().includes(lowerQuery) ||\n          (p.category || '').toLowerCase().includes(lowerQuery) ||\n          (p.params && p.params.toLowerCase().includes(lowerQuery))\n      ).slice(0, 5);\n\n      let contextText = relevantProducts.length === 0 \n          ? \"Nincs pontos tallat.\"\n          : relevantProducts.map(p => `- ${p.name} (${p.category}): ${formatPrice(p.price)}. Adatok: ${p.params}. Link: ${p.link}`).join('\\n');\n\n      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GOOGLE_API_KEY}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ contents: [{ parts: [{ text: `Te egy segtksz webshop asszisztens vagy a Marketly btorboltban.\n        VEV: \"${userMsg}\"\n        KSZLETNK: ${contextText}\n        Instrukcik: Vlaszolj rviden, kedvesen, magyarul. Ajnlj konkrt termket linkkel.` }] }] })\n      });\n      const data = await response.json();\n      setMessages(prev => [...prev, { role: 'system', text: data.candidates?.[0]?.content?.parts?.[0]?.text || \"Hiba trtnt.\" }]);\n    } catch (error) { setMessages(prev => [...prev, { role: 'system', text: \"Hiba az AI kapcsoldsban.\" }]); } \n    finally { setIsLoading(false); }\n  };\n\n  return (\n    <div id=\"mkt-butorbolt-chat\" className=\"fixed bottom-[calc(1.5rem+44px)] md:bottom-6 right-4 md:right-6 z-50 flex flex-col items-end\">\n      {isOpen && (\n        <div className=\"bg-white rounded-2xl shadow-2xl mb-4 w-[calc(100vw-2rem)] sm:w-96 max-h-[calc(100vh-140px)] md:max-h-none overflow-hidden border border-gray-200 animate-fade-in-up\">\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 flex justify-between items-center text-white\">\n            <span className=\"font-bold flex items-center\"><MessageCircle className=\"w-5 h-5 mr-2\" /> AI Asszisztens</span>\n            <button onClick={() => setIsOpen(false)} className=\"text-white/80 hover:text-white\"><X className=\"w-5 h-5\" /></button>\n          </div>\n          <div className=\"h-80 overflow-y-auto p-4 bg-gray-50 space-y-3\">\n            {messages.map((msg, idx) => (\n              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}><div className={`max-w-[85%] p-3 rounded-2xl text-sm ${msg.role === 'user' ? 'bg-indigo-600 text-white' : 'bg-white border text-gray-800'}`}>{msg.text}</div></div>\n            ))}\n            {isLoading && <div className=\"text-xs text-gray-400 p-2\">Gpels...</div>}\n            <div ref={messagesEndRef} />\n          </div>\n          <div className=\"p-3 bg-white border-t border-gray-100 flex items-center gap-2\">\n            <input type=\"text\" value={input} onChange={(e) => setInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleSend()} placeholder=\"rj zenetet...\" className=\"flex-1 p-2 bg-gray-50 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500\" />\n            <button onClick={handleSend} disabled={isLoading} className=\"bg-indigo-600 text-white p-2 rounded-xl\"><Send className=\"w-4 h-4\" /></button>\n          </div>\n        </div>\n      )}\n      <button onClick={() => setIsOpen(!isOpen)} className=\"bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:scale-110 transition-transform\">{isOpen ? <X className=\"w-6 h-6\" /> : <MessageCircle className=\"w-6 h-6\" />}</button>\n    </div>\n  );\n};\n\nconst VisualSearch = ({ products }) => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [searchResults, setSearchResults] = useState([]);\n  const [analysisText, setAnalysisText] = useState(\"\");\n\n  const handleImageUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => { setSelectedImage(reader.result); analyzeImage(reader.result); };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const analyzeImage = async (base64Image) => {\n    setIsAnalyzing(true); setSearchResults([]); setAnalysisText(\"Elemzs...\");\n    try {\n      const base64Data = base64Image.split(',')[1];\n      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GOOGLE_API_KEY}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ contents: [{ role: \"user\", parts: [{ text: \"Elemezd a btort. JSON: { \\\"style\\\": \\\"...\\\", \\\"category\\\": \\\"...\\\", \\\"color\\\": \\\"...\\\" } Magyarul.\" }, { inlineData: { mimeType: \"image/jpeg\", data: base64Data } }] }], generationConfig: { responseMimeType: \"application/json\" } })\n      });\n      const data = await response.json();\n      const analysis = JSON.parse(data.candidates?.[0]?.content?.parts?.[0]?.text);\n      if (analysis) {\n        setAnalysisText(`Felismerve: ${analysis.style} stlus ${analysis.color} ${analysis.category}.`);\n        const relevant = products.filter(p => p.category.toLowerCase().includes(analysis.category.toLowerCase()) || p.name.toLowerCase().includes(analysis.category.toLowerCase())).slice(0, 4);\n        setSearchResults(relevant);\n      }\n    } catch (error) { setAnalysisText(\"Hiba az elemzsben.\"); } \n    finally { setIsAnalyzing(false); }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-8 px-4\">\n      <div className=\"text-center mb-8\"><h2 className=\"text-3xl font-bold text-gray-900\">AI Vizulis Keres</h2></div>\n      <div className=\"bg-white rounded-xl shadow-lg p-8 mb-8 border-2 border-dashed border-gray-300 flex flex-col items-center justify-center text-center\">\n        {!selectedImage ? (\n          <>\n            <div className=\"bg-indigo-50 p-4 rounded-full mb-4\"><Camera className=\"w-8 h-8 text-indigo-600\" /></div>\n            <label className=\"cursor-pointer bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors\">Fnykp feltltse<input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleImageUpload} /></label>\n          </>\n        ) : (\n          <div className=\"relative w-full max-w-md mx-auto\">\n            <img src={selectedImage} alt=\"Uploaded\" className=\"rounded-lg shadow-md max-h-64 mx-auto\" />\n            <button onClick={() => { setSelectedImage(null); setSearchResults([]); }} className=\"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600\"><X className=\"w-4 h-4\" /></button>\n            {isAnalyzing && <div className=\"absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center rounded-lg\"><span className=\"text-indigo-800 font-bold animate-pulse\">Elemzs...</span></div>}\n          </div>\n        )}\n      </div>\n      {!isAnalyzing && selectedImage && searchResults.length === 0 && (\n        <p className=\"text-center text-gray-600 py-6\">Nincs tallat a feltlttt kp alapjn. Prblj msik fott vagy bngssz a kategrikban.</p>\n      )}\n      {searchResults.length > 0 && (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6\">{searchResults.map(product => (<div key={product.id} className=\"border border-gray-200 p-4 rounded-xl hover:shadow-lg transition-shadow\"><img src={product.images?.[0]} alt={product.name} className=\"h-32 mx-auto object-contain\" /><p className=\"font-bold mt-2 truncate\">{product.name}</p><p>{formatPrice(product.price)}</p></div>))}</div>\n      )}\n    </div>\n  );\n};\n\nconst RoomPlanner = ({ products }) => {\n  const [background, setBackground] = useState(null);\n  const [placedItems, setPlacedItems] = useState([]);\n  const [selectedItemId, setSelectedItemId] = useState(null);\n\n  const handleBackgroundUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) { const reader = new FileReader(); reader.onloadend = () => setBackground(reader.result); reader.readAsDataURL(file); }\n  };\n\n  const addItem = (product) => {\n    if (!background) { alert(\"Tlts fel szobt!\"); return; }\n    setPlacedItems([...placedItems, { id: Date.now(), image: product.images[0], x: 50, y: 50, scale: 1 }]);\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-8 px-4 flex flex-col lg:flex-row gap-6 h-[80vh]\">\n      <div className=\"lg:w-1/4 bg-white rounded-2xl shadow-lg border border-gray-200 flex flex-col overflow-hidden\">\n          <div className=\"p-4 border-b bg-gray-50\"><h3 className=\"font-bold\">Btorok</h3></div>\n          <div className=\"flex-1 overflow-y-auto p-2 space-y-2\">\n              {products.slice(0, 50).map(p => (\n                  <div key={p.id} onClick={() => addItem(p)} className=\"flex items-center gap-3 p-2 hover:bg-indigo-50 rounded cursor-pointer\"><img src={p.images[0]} className=\"w-12 h-12 object-contain\" /><p className=\"text-xs font-bold truncate w-24\">{p.name}</p></div>\n              ))}\n          </div>\n      </div>\n      <div className=\"lg:w-3/4 bg-gray-100 rounded-2xl border-2 border-dashed relative overflow-hidden flex items-center justify-center\">\n          {!background ? (\n              <label className=\"bg-indigo-600 text-white px-6 py-3 rounded-xl cursor-pointer\">Szobafot feltltse<input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleBackgroundUpload} /></label>\n          ) : (\n              <div className=\"relative w-full h-full\">\n                  <img src={background} className=\"w-full h-full object-cover\" />\n                  {placedItems.map((item) => (\n                      <div key={item.id} className=\"absolute w-32 cursor-move\" style={{ left: `${item.x}%`, top: `${item.y}%`, transform: `translate(-50%, -50%) scale(${item.scale})` }} onClick={() => setSelectedItemId(item.id)}>\n                          <img src={item.image} className=\"w-full\" />\n                      </div>\n                  ))}\n              </div>\n          )}\n      </div>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [activeTab, setActiveTab] = useState('shop');\n  const [products, setProducts] = useState([]);\n  const [totalProductsCount, setTotalProductsCount] = useState(0);\n  const [hasMoreProducts, setHasMoreProducts] = useState(true);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [visibleCount, setVisibleCount] = useState(DISPLAY_BATCH);\n  const visibleCountRef = useRef(visibleCount);\n  const filteredLengthRef = useRef(0);\n  const hasMoreProductsRef = useRef(hasMoreProducts);\n  const isLoadingMoreRef = useRef(isLoadingMore);\n  visibleCountRef.current = visibleCount;\n  // filteredLengthRef.current updated below after filteredAndSortedProducts is defined\n  hasMoreProductsRef.current = hasMoreProducts;\n  isLoadingMoreRef.current = isLoadingMore;\n  const [wishlist, setWishlist] = useLocalStorage('mkt_wishlist', []);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [categoryFilter, setCategoryFilter] = useState(\"sszes\");\n  const [sortOption, setSortOption] = useState(\"default\");\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [showAIOnboarding, setShowAIOnboarding] = useState(false);\n  const [onboardingFeature, setOnboardingFeature] = useState('chat');\n  const [advancedFilters, setAdvancedFilters] = useState({});\n  \n  // AI Feature states\n  const [showStyleQuiz, setShowStyleQuiz] = useState(false);\n  const [showRoomDesigner, setShowRoomDesigner] = useState(false);\n  const [showAIDebug, setShowAIDebug] = useState(false);\n  const [aiRecommendedProducts, setAiRecommendedProducts] = useState([]);\n  const [aiRecommendationLabel, setAiRecommendationLabel] = useState('');\n  \n  // Quick Peek & AR states\n  const [quickPeekProduct, setQuickPeekProduct] = useState(null);\n  const [showARPreview, setShowARPreview] = useState(false);\n  const [arProduct, setArProduct] = useState(null);\n  \n  // New UX states\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [showFilterSheet, setShowFilterSheet] = useState(false);\n  const [showExitIntent, setShowExitIntent] = useState(true); // Exit intent enabled\n  \n  // UNAS API states\n  const [isLoadingUnas, setIsLoadingUnas] = useState(true);\n  const [unasError, setUnasError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [dataSource, setDataSource] = useState('demo');\n  \n  // New hooks\n  const toast = useToast();\n  const comparison = useComparison();\n  \n  // Track product views - both for RecentlyViewed component and user preferences\n  const handleProductView = (product) => {\n    trackProductView(product); // RecentlyViewed component\n    trackProductViewPref(product); // User preferences service (for AI personalization)\n    setSelectedProduct(product);\n  };\n  \n  // Handle AI recommended products - scroll to products and show them\n  // Accepts either: (product, allRecommended) OR (recommendedProducts, label)\n  const handleShowAIProducts = useCallback((firstArg, secondArg) => {\n    let recommendedProducts = [];\n    let label = 'AI ajnlsok';\n    \n    // Check if first argument is a single product or an array\n    if (firstArg && !Array.isArray(firstArg) && firstArg.id) {\n      // Single product clicked - show it first, then add similar products\n      const clickedProduct = firstArg;\n      const allRecommended = secondArg || [];\n      \n      // Get similar products from the full products list\n      const similarProducts = products\n        .filter(p => {\n          if (p.id === clickedProduct.id) return false;\n          const clickedCat = (clickedProduct.category || '').toLowerCase();\n          const pCat = (p.category || '').toLowerCase();\n          // Same main category or similar price range\n          const sameCategory = clickedCat && pCat && pCat.includes(clickedCat.split(' > ')[0]);\n          const price = p.salePrice || p.price || 0;\n          const clickedPrice = clickedProduct.salePrice || clickedProduct.price || 0;\n          const similarPrice = clickedPrice > 0 && Math.abs(price - clickedPrice) / clickedPrice < 0.5;\n          return sameCategory || similarPrice;\n        })\n        .slice(0, 12);\n      \n      // Combine: clicked product + other recommendations + similar\n      recommendedProducts = [\n        clickedProduct,\n        ...allRecommended.filter(p => p.id !== clickedProduct.id),\n        ...similarProducts.filter(p => !allRecommended.some(r => r.id === p.id))\n      ].slice(0, 20);\n      \n      label = `\"${clickedProduct.name.slice(0, 30)}...\" s hasonl termkek`;\n    } else if (Array.isArray(firstArg)) {\n      // Array of products provided\n      recommendedProducts = firstArg;\n      label = typeof secondArg === 'string' ? secondArg : 'AI ajnlsok';\n    }\n    \n    if (recommendedProducts.length === 0) return;\n    \n    setAiRecommendedProducts(recommendedProducts);\n    setAiRecommendationLabel(label);\n    setCategoryFilter('sszes'); // Reset category\n    setSearchQuery(''); // Reset search\n    \n    // Scroll to products section\n    setTimeout(() => {\n      const productsSection = document.getElementById('products-section');\n      if (productsSection) {\n        productsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }, 100);\n  }, [products]);\n  \n  // Clear AI recommendations\n  const clearAIRecommendations = useCallback(() => {\n    setAiRecommendedProducts([]);\n    setAiRecommendationLabel('');\n  }, []);\n\n  const toggleWishlist = (id) => {\n    const isAdding = !wishlist.includes(id);\n    setWishlist(prev => \n      isAdding \n        ? [...prev, id] \n        : prev.filter(item => item !== id)\n    );\n    \n    if (isAdding) {\n      toast.wishlist('Hozzadva a kvnsglisthoz!');\n    } else {\n      toast.info('Eltvoltva a kvnsglistrl');\n    }\n  };\n  \n  const handleToggleComparison = (product) => {\n    const result = comparison.toggleComparison(product);\n    if (result.success) {\n      if (result.action === 'added') {\n        toast.success('Hozzadva az sszehasonltshoz!');\n      } else {\n        toast.info('Eltvoltva az sszehasonltsbl');\n      }\n    } else {\n      toast.error(result.message);\n    }\n  };\n  \n  // Handle add to cart with confetti celebration\n  const handleAddToCart = useCallback((product, quantity = 1) => {\n    // Trigger confetti\n    setShowConfetti(true);\n    \n    // Show toast\n    toast.success(`${product.name} hozzadva a kosrhoz!`);\n    \n    // In real app: Add to cart logic here\n    console.log('Added to cart:', product.name, 'x', quantity);\n  }, [toast]);\n  \n  // Server-side search state\n  const [serverSearchQuery, setServerSearchQuery] = useState('');\n  const [serverCategory, setServerCategory] = useState('');\n  const searchTimeoutRef = useRef(null);\n\n  // FAST LOADING: Load ALL products at once (slim mode + GZIP compression)\n  // This ensures all categories are available immediately\n  const loadUnasData = useCallback(async (options = {}) => {\n    const { silent = false, search = '', category = '' } = options;\n    \n    if (!silent) {\n      setIsLoadingUnas(true);\n      setUnasError(null);\n    }\n    \n    try {\n      // Load ALL products at once - slim mode + GZIP makes this fast (~2-3 sec)\n      const params = { \n        slim: true,\n        ...(search && { search }),\n        ...(category && category !== 'sszes' && { category })\n      };\n      \n      const data = await fetchUnasProducts(params);\n      const newProducts = (data.products || []).map(p => ({\n        ...p,\n        images: p.image ? [p.image] : [],\n        inStock: p.inStock ?? true\n      }));\n      \n      const totalCount = data.total ?? newProducts.length;\n      \n      setProducts(newProducts);\n      setVisibleCount(DISPLAY_BATCH);\n      setTotalProductsCount(totalCount);\n      setHasMoreProducts(false); // All products loaded\n      setLastUpdated(data.lastSync || data.lastUpdated);\n      setDataSource('unas');\n      setUnasError(null);\n      \n    } catch (err) {\n      console.error('Load error:', err);\n      if (!silent) setUnasError('Termkek betltse sikertelen');\n    } finally {\n      if (!silent) setIsLoadingUnas(false);\n      setIsLoadingMore(false);\n    }\n  }, []);\n\n  // Debounced server-side search\n  const handleServerSearch = useCallback((query) => {\n    setSearchQuery(query);\n    if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n    searchTimeoutRef.current = setTimeout(() => {\n      setServerSearchQuery(query);\n      loadUnasData({ search: query, category: serverCategory });\n    }, 300); // 300ms debounce\n  }, [loadUnasData, serverCategory]);\n\n  // Server-side category filter\n  const handleCategoryChange = useCallback((category) => {\n    setCategoryFilter(category);\n    setServerCategory(category);\n    loadUnasData({ search: serverSearchQuery, category });\n  }, [loadUnasData, serverSearchQuery]);\n\n  // Load more is now just showing more from already-loaded products\n  // All products are loaded at once, so no server fetch needed\n  const loadMoreProducts = useCallback(() => {\n    // This is handled by handleLoadMore - just show more from filteredAndSortedProducts\n  }, []);\n\n  const loadUnasDataRef = useRef(loadUnasData);\n  loadUnasDataRef.current = loadUnasData;\n\n  useEffect(() => {\n    loadUnasDataRef.current({}); // Initial load with no filters\n  }, []);\n\n  useEffect(() => {\n    const t = setInterval(() => loadUnasDataRef.current?.({ silent: true }), 300000);\n    return () => clearInterval(t);\n  }, []);\n  \n  // Products are already filtered server-side (search + category)\n  // Only apply client-side sorting and advanced filters\n  const filteredAndSortedProducts = useMemo(() => {\n      let result = products;\n      // Advanced filters (price range, etc.) - still client-side for now\n      if (Object.keys(advancedFilters).length > 0) result = applyFilters(result, advancedFilters);\n      // Sorting\n      if (sortOption === 'price-asc') result = [...result].sort((a, b) => (a.price || 0) - (b.price || 0));\n      if (sortOption === 'price-desc') result = [...result].sort((a, b) => (b.price || 0) - (a.price || 0));\n      return result;\n  }, [products, sortOption, advancedFilters]);\n\n  // Update ref after filteredAndSortedProducts is defined\n  filteredLengthRef.current = filteredAndSortedProducts.length;\n\n  // Show first visibleCount items from filtered products\n  // If AI recommendations are active, show those instead\n  const displayedProducts = aiRecommendedProducts.length > 0 \n    ? aiRecommendedProducts \n    : filteredAndSortedProducts.slice(0, visibleCount);\n  const hasMoreToShow = aiRecommendedProducts.length === 0 && visibleCount < filteredAndSortedProducts.length;\n\n  // When sort/advanced filters change, reset visible window\n  useEffect(() => {\n    setVisibleCount(DISPLAY_BATCH);\n  }, [sortOption, advancedFilters]);\n\n  // Manual \"Load More\" button handler - shows more from already-loaded products\n  const handleLoadMore = useCallback(() => {\n    setVisibleCount(prev => Math.min(prev + DISPLAY_BATCH, filteredAndSortedProducts.length));\n  }, [filteredAndSortedProducts.length]);\n\n  // Compute categories from products (already filtered by EXCLUDED_MAIN_CATEGORIES)\n  // This ensures only valid categories with actual products are shown\n  const categories = useMemo(() => {\n    if (!products || products.length === 0) return ['sszes'];\n    \n    // Count products per category\n    const categoryCount = new Map();\n    for (const p of products) {\n      if (p.category) {\n        categoryCount.set(p.category, (categoryCount.get(p.category) || 0) + 1);\n      }\n    }\n    \n    // Sort by count (most products first)\n    const sorted = Array.from(categoryCount.entries())\n      .sort((a, b) => b[1] - a[1])\n      .map(([name, count]) => ({ name, count }));\n    \n    return [{ name: 'sszes', count: products.length }, ...sorted];\n  }, [products]);\n\n  return (\n    <ToastProvider>\n    <div id=\"mkt-butorbolt-app\" className=\"min-h-screen bg-white font-sans text-gray-900\">\n      {/* Scroll Progress Bar */}\n      <ScrollProgress />\n      \n      <Navbar \n        activeTab={activeTab} \n        setActiveTab={setActiveTab} \n        wishlistCount={wishlist.length}\n        productCount={products.length}\n      />\n      \n      {/* AI Onboarding */}\n      <AIOnboarding \n        isOpen={showAIOnboarding} \n        onClose={() => setShowAIOnboarding(false)}\n        targetFeature={onboardingFeature}\n      />\n      \n      {/* Live Social Proof */}\n      <LiveSocialProof \n        currentProduct={selectedProduct} \n        recentPurchases={products.slice(0, 10)}\n      />\n      \n      {/* Back to Top Button */}\n      <BackToTop />\n      \n      {/* AI Chat Assistant */}\n      <AIChatAssistant products={products} onShowProducts={handleShowAIProducts} />\n\n      <main id=\"mkt-butorbolt-main\">\n        {activeTab === 'shop' && (\n          <>\n            <ModernHero \n              onExplore={() => {\n                const productsSection = document.getElementById('products-section');\n                productsSection?.scrollIntoView({ behavior: 'smooth' });\n              }}\n              onTryAI={() => setActiveTab('visual-search')}\n            />\n            <AIFeaturesShowcase \n              onFeatureClick={(feature) => {\n                if (feature.title.includes('Kpfelismers')) setActiveTab('visual-search');\n                else if (feature.title.includes('Asszisztens')) {\n                  const chat = document.getElementById('mkt-butorbolt-chat');\n                  chat?.scrollIntoView({ behavior: 'smooth' });\n                }\n                else if (feature.title.includes('Tervez')) setActiveTab('room-planner');\n              }}\n            />\n            \n            {/* AI Super Features Row */}\n            <div className=\"w-full max-w-[2000px] mx-auto px-4 sm:px-6 lg:px-10 xl:px-16 py-6 sm:py-8 lg:py-12\">\n              <div className=\"text-center mb-6 lg:mb-8\">\n                <div className=\"inline-flex items-center gap-2.5 px-5 py-2.5 bg-indigo-100 rounded-full mb-5\">\n                  <Bot className=\"w-5 h-5 lg:w-6 lg:h-6 text-indigo-600\" />\n                  <span className=\"text-base lg:text-lg font-bold text-indigo-600\">AI Powered</span>\n                </div>\n                <h2 className=\"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 mb-4\">\n                  AI Szuper Funkcik\n                </h2>\n                <p className=\"text-lg lg:text-xl text-gray-600\">\n                  Prbld ki a legjabb AI technolgiinkat!\n                </p>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 max-w-4xl mx-auto\">\n                <button\n                  onClick={() => setShowStyleQuiz(true)}\n                  className=\"\n                    group p-5 sm:p-8 rounded-2xl\n                    bg-gradient-to-br from-indigo-50 to-purple-50\n                    hover:from-indigo-100 hover:to-purple-100\n                    border-2 border-transparent hover:border-indigo-300\n                    transition-all duration-300\n                    hover:shadow-xl hover:scale-[1.02]\n                    text-left\n                  \"\n                >\n                  <div className=\"flex items-start gap-3 sm:gap-4\">\n                    <div className=\"p-2.5 sm:p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl text-white group-hover:scale-110 transition-transform shrink-0\">\n                      <Sparkles className=\"w-6 h-6 sm:w-8 sm:h-8\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-lg sm:text-xl font-bold text-gray-900 mb-1 sm:mb-2\">\n                        AI Stlus Quiz\n                      </h3>\n                      <p className=\"text-gray-600 text-sm mb-2 sm:mb-3\">\n                        5 krds, s megismered a Style DNA-d! Szemlyre szabott ajnlatok.\n                      </p>\n                      <span className=\"text-indigo-600 font-semibold text-sm flex items-center gap-2\">\n                        Kiprblom <ArrowRight className=\"w-4 h-4 group-hover:translate-x-1 transition-transform\" />\n                      </span>\n                    </div>\n                  </div>\n                </button>\n\n                <button\n                  onClick={() => setShowRoomDesigner(true)}\n                  className=\"\n                    group p-5 sm:p-8 rounded-2xl\n                    bg-gradient-to-br from-purple-50 to-pink-50\n                    hover:from-purple-100 hover:to-pink-100\n                    border-2 border-transparent hover:border-purple-300\n                    transition-all duration-300\n                    hover:shadow-xl hover:scale-[1.02]\n                    text-left\n                  \"\n                >\n                  <div className=\"flex items-start gap-3 sm:gap-4\">\n                    <div className=\"p-2.5 sm:p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl text-white group-hover:scale-110 transition-transform shrink-0\">\n                      <Camera className=\"w-6 h-6 sm:w-8 sm:h-8\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-lg sm:text-xl font-bold text-gray-900 mb-1 sm:mb-2\">\n                        AI Szoba Tervez\n                      </h3>\n                      <p className=\"text-gray-600 text-sm mb-2 sm:mb-3\">\n                        Tltsd fel a szobd fotjt, s az AI megtervezi neked!\n                      </p>\n                      <span className=\"text-purple-600 font-semibold text-sm flex items-center gap-2\">\n                        Kiprblom <ArrowRight className=\"w-4 h-4 group-hover:translate-x-1 transition-transform\" />\n                      </span>\n                    </div>\n                  </div>\n                </button>\n              </div>\n            </div>\n            \n            <SocialProof />\n            <LiveShowcase \n              products={products.slice(0, 6)} \n              onProductClick={handleProductView}\n            />\n            \n            {/* Personalized Section - For You + Recently Viewed + Trending */}\n            {products.length > 0 && (\n              <PersonalizedSection\n                products={products}\n                onProductClick={handleProductView}\n                onToggleWishlist={toggleWishlist}\n                wishlist={wishlist}\n              />\n            )}\n            \n            <FadeInOnScroll direction=\"up\">\n              <Features />\n            </FadeInOnScroll>\n            \n            {/* Category Page View - shown when specific category selected */}\n            {categoryFilter && categoryFilter !== \"sszes\" && !isLoadingUnas ? (\n              <CategoryPage\n                category={categoryFilter}\n                products={filteredAndSortedProducts}\n                allCategories={categories}\n                onBack={() => handleCategoryChange(\"sszes\")}\n                onProductClick={handleProductView}\n                onWishlistToggle={toggleWishlist}\n                onCategoryChange={handleCategoryChange}\n                wishlist={wishlist}\n                onAskAI={() => setShowStyleQuiz(true)}\n                visibleCount={visibleCount}\n                onLoadMore={handleLoadMore}\n              />\n            ) : (\n            <section id=\"products-section\" className=\"container-app section-padding\">\n                {/* Sticky products header - PROMINENT */}\n                <div className=\"sticky top-16 sm:top-20 z-40 mx-0 sm:-mx-4 lg:-mx-8 xl:-mx-10 px-3 sm:px-4 lg:px-8 xl:px-10 py-3 sm:py-4 lg:py-5 xl:py-6 mb-3 sm:mb-4 lg:mb-8 bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm\">\n                  <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 lg:gap-6\">\n                    {/* Title & Count */}\n                    <div className=\"flex items-baseline gap-2 sm:gap-3 lg:gap-4\">\n                      <h2 className=\"text-xl sm:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl font-bold text-gray-900\">Termkek</h2>\n                      {!isLoadingUnas && (\n                        <span className=\"text-sm sm:text-base lg:text-lg xl:text-xl 2xl:text-2xl text-gray-500\">\n                          <span className=\"font-semibold text-indigo-600\">{products.length.toLocaleString('hu-HU')}</span> db\n                        </span>\n                      )}\n                    </div>\n                    \n                    {/* Search & Filters */}\n                    <div className=\"w-full sm:w-auto flex items-center gap-2 sm:gap-3 lg:gap-4\">\n                      <div className=\"flex-1 sm:flex-initial sm:w-64 lg:w-80 xl:w-[420px] 2xl:w-[500px]\">\n                        <SmartSearch \n                          products={products}\n                          onSearch={handleServerSearch}\n                          onSelectProduct={handleProductView}\n                        />\n                      </div>\n                      {/* Desktop filters */}\n                      <div className=\"hidden sm:block\">\n                        <AdvancedFilters\n                          products={products}\n                          onFilterChange={setAdvancedFilters}\n                          initialFilters={advancedFilters}\n                        />\n                      </div>\n                      {/* Mobile filter button */}\n                      <button\n                        onClick={() => setShowFilterSheet(true)}\n                        className=\"sm:hidden p-3 min-h-[48px] min-w-[48px] border-2 border-gray-200 rounded-xl bg-white hover:bg-gray-50 transition-colors flex items-center justify-center\"\n                        aria-label=\"Szrk\"\n                      >\n                        <Filter className=\"w-5 h-5 text-gray-700\" />\n                      </button>\n                      <select \n                        onChange={(e) => setSortOption(e.target.value)} \n                        className=\"hidden sm:block px-4 lg:px-5 xl:px-6 py-3 lg:py-3.5 xl:py-4 min-h-[48px] lg:min-h-[52px] xl:min-h-[56px] text-sm sm:text-base lg:text-lg xl:text-xl border-2 border-gray-200 rounded-xl lg:rounded-2xl bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all cursor-pointer font-medium\"\n                        aria-label=\"Rendezs\"\n                      >\n                        <option value=\"default\">Rendezs</option>\n                        <option value=\"price-asc\">r: alacsony  magas</option>\n                        <option value=\"price-desc\">r: magas  alacsony</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Category Navigation */}\n                <CategorySwipe\n                  categories={categories.map((cat, idx) => ({\n                    id: cat.name,\n                    name: cat.name,\n                    totalCount: cat.count,\n                    icon: null // Icons handled by CategorySwipe component\n                  }))}\n                  activeCategory={categoryFilter}\n                  onCategoryChange={handleCategoryChange}\n                  displayedCount={Math.min(visibleCount, filteredAndSortedProducts.length)}\n                />\n\n                {/* Loading State */}\n                {isLoadingUnas && (\n                  <div className=\"space-y-6\">\n                    <div className=\"flex items-center justify-center gap-3\">\n                      <div className=\"w-6 h-6 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin\" />\n                      <p className=\"text-sm text-gray-500 font-medium\">Termkek betltse...</p>\n                    </div>\n                    <div className=\"product-grid\">\n                      {[...Array(12)].map((_, i) => (\n                        <ProductCardSkeleton key={`skeleton-${i}`} />\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* API Error State */}\n                {!isLoadingUnas && unasError && (\n                  <div className=\"flex flex-col items-center justify-center py-16 px-4 text-center\">\n                    <AlertCircle className=\"w-16 h-16 text-red-500 mb-4\" />\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Nem sikerlt betlteni a termkeket</h3>\n                    <p className=\"text-gray-600 mb-6 max-w-md\">Prbld ksbb, vagy ellenrizd a kapcsolatot.</p>\n                    <button\n                      type=\"button\"\n                      onClick={() => loadUnasData(false)}\n                      className=\"px-6 py-3 min-h-[44px] bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors\"\n                    >\n                      jraprbls\n                    </button>\n                  </div>\n                )}\n\n                {/* Empty State (no error, just no products) */}\n                {!isLoadingUnas && !unasError && displayedProducts.length === 0 && (\n                  searchQuery ? (\n                    <NoSearchResults \n                      query={searchQuery}\n                      onClear={() => { setSearchQuery(''); handleServerSearch(''); }}\n                    />\n                  ) : (\n                    <NoFilterResults \n                      onClearFilters={() => {\n                        handleCategoryChange(\"sszes\");\n                        setAdvancedFilters({});\n                      }}\n                    />\n                  )\n                )}\n\n                {/* AI Recommendations Banner */}\n                {aiRecommendedProducts.length > 0 && (\n                  <div className=\"mb-6 p-4 sm:p-5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl shadow-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-white/20 flex items-center justify-center\">\n                          <Sparkles className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\n                        </div>\n                        <div>\n                          <h3 className=\"text-white font-bold text-base sm:text-lg\">{aiRecommendationLabel}</h3>\n                          <p className=\"text-white/80 text-sm\">{aiRecommendedProducts.length} szemlyre szabott ajnls</p>\n                        </div>\n                      </div>\n                      <button\n                        onClick={clearAIRecommendations}\n                        className=\"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium text-sm transition-colors flex items-center gap-2\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                        <span className=\"hidden sm:inline\">sszes termk</span>\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                {/* Products Grid - Responsive with Scroll Animations */}\n                {!isLoadingUnas && displayedProducts.length > 0 && (\n                  <div className=\"product-grid\">\n                    {displayedProducts.map((product, index) => (\n                      <EnhancedProductCard \n                        key={product.id}\n                        product={product} \n                        onToggleWishlist={toggleWishlist} \n                        isWishlisted={wishlist.includes(product.id)} \n                        onQuickView={handleProductView}\n                        index={index}\n                      />\n                    ))}\n                  </div>\n                )}\n                \n                {/* Load More Button */}\n                {!isLoadingUnas && !unasError && displayedProducts.length > 0 && (\n                  <div className=\"py-8 sm:py-10 lg:py-14 flex flex-col items-center gap-4\">\n                    {hasMoreToShow ? (\n                      <button\n                        onClick={handleLoadMore}\n                        className=\"px-6 sm:px-8 lg:px-10 py-3.5 sm:py-4 lg:py-5 min-h-[48px] lg:min-h-[56px] bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl lg:rounded-2xl\n                                   hover:from-indigo-700 hover:to-purple-700 transition-all duration-200\n                                   shadow-lg hover:shadow-xl active:scale-[0.98]\n                                   flex items-center gap-3 sm:gap-4 text-base sm:text-lg lg:text-xl\"\n                      >\n                        <span>Tbb termk</span>\n                        <span className=\"px-3 sm:px-3.5 py-1 sm:py-1.5 bg-white/20 rounded-lg text-sm sm:text-base\">\n                          {displayedProducts.length.toLocaleString('hu-HU')} / {filteredAndSortedProducts.length.toLocaleString('hu-HU')}\n                        </span>\n                      </button>\n                    ) : (\n                      <div className=\"flex items-center gap-2.5 text-sm sm:text-base lg:text-lg text-gray-400\">\n                        <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                        </svg>\n                        <span>Minden termk ({displayedProducts.length.toLocaleString('hu-HU')} db)</span>\n                      </div>\n                    )}\n                  </div>\n                )}\n            </section>\n            )}\n            \n            {/* Recently Viewed Products */}\n            <RecentlyViewed\n              onToggleWishlist={toggleWishlist}\n              wishlist={wishlist}\n              onQuickView={handleProductView}\n            />\n            \n            <FadeInOnScroll direction=\"up\" delay={100}>\n              <Testimonials />\n            </FadeInOnScroll>\n            \n            {/* Final CTA */}\n            <InteractiveCTA \n              onGetStarted={() => {\n                const productsSection = document.getElementById('products-section');\n                productsSection?.scrollIntoView({ behavior: 'smooth' });\n              }}\n            />\n          </>\n        )}\n        \n        {activeTab === 'visual-search' && <VisualSearch products={products} onAddToCart={() => {}} />}\n        {activeTab === 'room-planner' && <RoomPlanner products={products} />}\n      </main>\n\n      <ProductModal \n        product={selectedProduct} \n        isOpen={!!selectedProduct} \n        onClose={() => setSelectedProduct(null)}\n        allProducts={products}\n        onAddToCart={handleAddToCart}\n      />\n      \n      {/* Similar Products AI Recommendation */}\n      {selectedProduct && (\n        <SimilarProducts\n          currentProduct={selectedProduct}\n          allProducts={products}\n          onToggleWishlist={toggleWishlist}\n          wishlist={wishlist}\n          onQuickView={handleProductView}\n        />\n      )}\n      \n      {/* Product Comparison */}\n      <ProductComparison\n        comparisonList={comparison.comparisonList}\n        onRemove={comparison.removeFromComparison}\n        onClear={comparison.clearComparison}\n      />\n      \n      {/* AI Style Quiz Modal */}\n      {showStyleQuiz && (\n        <AIStyleQuiz\n          products={products}\n          onRecommendations={(recs) => {\n            toast.success(`${recs.length} termk a Style DNA-d alapjn!`);\n          }}\n          onClose={() => setShowStyleQuiz(false)}\n        />\n      )}\n      \n      {/* AI Room Designer Modal */}\n      {showRoomDesigner && (\n        <AIRoomDesigner\n          products={products}\n          onProductRecommendations={(recs) => {\n            toast.success(`${recs.length} termk ajnlat!`);\n          }}\n          onClose={() => setShowRoomDesigner(false)}\n        />\n      )}\n\n      {/* Product Quick Peek Modal */}\n      <ProductQuickPeek\n        product={quickPeekProduct}\n        isOpen={!!quickPeekProduct}\n        onClose={() => setQuickPeekProduct(null)}\n        onAddToCart={(product) => {\n          toast.success(`${product.name} hozzadva a kosrhoz!`);\n          setQuickPeekProduct(null);\n        }}\n      />\n\n      {/* AR Product Preview */}\n      {showARPreview && arProduct && (\n        <ARProductPreview\n          product={arProduct}\n          onClose={() => {\n            setShowARPreview(false);\n            setArProduct(null);\n          }}\n        />\n      )}\n\n      {/* Smart Newsletter Popup */}\n      <SmartNewsletterPopup\n        onSubscribe={(email) => {\n          toast.success('Sikeres feliratkozs! Ellenrizd az email fikod.');\n          return Promise.resolve();\n        }}\n      />\n\n      {/* AI Debug Panel */}\n      {showAIDebug && (\n        <AIDebugPanel onClose={() => setShowAIDebug(false)} />\n      )}\n\n      {/* AI Debug Trigger - kis gomb a bal als sarokban */}\n      <button\n        onClick={() => setShowAIDebug(true)}\n        className=\"fixed bottom-[calc(1.5rem+44px)] md:bottom-6 left-4 z-40 w-10 h-10 bg-orange-500 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-orange-600 transition-colors text-xs font-bold\"\n        title=\"AI Debug Panel\"\n      >\n        \n      </button>\n\n      {/* Confetti Celebration */}\n      <Confetti \n        isActive={showConfetti} \n        onComplete={() => setShowConfetti(false)} \n      />\n\n      {/* Sticky Add to Cart (shows for selected product) */}\n      {selectedProduct && (\n        <StickyAddToCart\n          product={selectedProduct}\n          onAddToCart={handleAddToCart}\n          onToggleWishlist={toggleWishlist}\n          isWishlisted={wishlist.includes(selectedProduct.id)}\n        />\n      )}\n\n      {/* Exit Intent Popup */}\n      {showExitIntent && (\n        <ExitIntentPopup \n          discountPercent={10}\n          onClose={() => setShowExitIntent(false)}\n        />\n      )}\n\n      {/* Mobile Filter Bottom Sheet */}\n      <FilterBottomSheet\n        isOpen={showFilterSheet}\n        onClose={() => setShowFilterSheet(false)}\n        filters={[\n          {\n            id: 'price',\n            label: 'r',\n            type: 'range',\n            min: 0,\n            max: 1000000\n          },\n          {\n            id: 'inStock',\n            label: 'Raktron',\n            type: 'checkbox',\n            options: [\n              { value: 'yes', label: 'Csak raktron lv', count: products.filter(p => p.inStock).length }\n            ]\n          }\n        ]}\n        activeFilters={advancedFilters}\n        onFilterChange={(filterId, value) => {\n          setAdvancedFilters(prev => ({ ...prev, [filterId]: value }));\n        }}\n        onClearAll={() => setAdvancedFilters({})}\n        onApply={() => setShowFilterSheet(false)}\n      />\n    </div>\n    </ToastProvider>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.jsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","toKebabCase","string","mergeClasses","classes","className","index","array","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","props","Armchair","ArrowLeftRight","ArrowRight","ArrowUp","Award","Baby","Bath","BedDouble","BellRing","Bell","BookOpen","Bot","Box","Briefcase","Building2","Camera","Check","ChevronDown","ChevronLeft","ChevronRight","ChevronUp","CircleAlert","CircleCheckBig","CircleCheck","CircleDot","CircleX","Circle","Clock","Crown","DollarSign","ExternalLink","Eye","Facebook","Factory","Filter","Flame","Flower2","Gem","Gift","GitCompare","Grid3x3","Heart","House","Info","Instagram","LampDesk","Lamp","LayoutGrid","Leaf","Lightbulb","LoaderCircle","Mail","MapPin","Maximize2","Menu","MessageCircle","Moon","Move3d","Move","Package","Paintbrush","Palette","Percent","Phone","Plus","RefreshCw","RotateCcw","Rows3","Search","Send","Server","Share2","ShieldCheck","Shield","Shirt","ShoppingBag","ShoppingCart","SlidersHorizontal","Smartphone","Sofa","Sparkles","Star","Sun","Table","Tag","Target","ThumbsDown","ThumbsUp","Timer","TreeDeciduous","TreePine","TrendingDown","TrendingUp","TriangleAlert","Truck","Tv","Upload","User","Users","UtensilsCrossed","Warehouse","X","Zap","ZoomIn","getApiBase","base","_a","fetchUnasProducts","filters","API_BASE","params","url","res","err","data","products","error","STORAGE_KEYS","MAX_ITEMS","trackProductView","product","filtered","getViewedProducts","updated","updateCategoryPreference","limit","parsed","getRecentlyViewedIds","likeProduct","productId","liked","getLikedProducts","disliked","getDislikedProducts","id","dislikeProduct","isProductLiked","trackSearch","query","getSearchHistory","s","saveStyleDNA","quizAnswers","styleDNAText","getStyleDNA","trackAIFeedback","messageId","isPositive","context","feedback","getAIFeedback","saveChatContext","summary","getChatContext","category","prefs","getUserPreferences","categories","getTopCategories","name","getPersonalizedContext","viewedProducts","likedProducts","topCategories","styleDNA","searchHistory","getPersonalizedRecommendations","allProducts","viewedIds","likedIds","dislikedIds","score","productCategory","cat","space","colors","budget","priority","room","productText","styleKeywords","kw","price","roomKeywords","getSimilarProducts","productName","productPrice","keywords","w","pName","pCategory","pPrice","priceDiff","Skeleton","variant","baseClasses","variants","jsx","ProductCardSkeleton","jsxs","ToastContext","createContext","TOAST_TYPES","CheckCircle2","XCircle","AlertCircle","Toast","type","title","message","duration","onClose","action","isVisible","setIsVisible","useState","isLeaving","setIsLeaving","config","useEffect","timer","handleClose","ToastContainer","toasts","removeToast","toast","ToastProvider","setToasts","addToast","useCallback","options","prev","t","useToast","useContext","EmptyState","description","secondaryAction","NoSearchResults","onClear","onSuggest","NoFilterResults","onClearFilters","Badge","pulse","sizes","NewBadge","DiscountBadge","percent","HotBadge","BestsellerBadge","LimitedBadge","FreeShippingBadge","StockBadge","inStock","quantity","SmartBadges","maxBadges","badges","topBadges","badge","idx","CATEGORY_ICONS","Home","getCategoryIcon","categoryName","lowerName","key","CategoryIcon","DemoFlow","steps","iconSize","arrowSize","step","React","AIOnboarding","isOpen","targetFeature","messages","content","generateText","prompt","temperature","maxTokens","response","analyzeImage","base64Image","mimeType","testConnection","AIChatAssistant","onShowProducts","setIsOpen","setMessages","inputValue","setInputValue","isLoading","setIsLoading","showHistory","setShowHistory","messagesEndRef","useRef","inputRef","messageIdRef","savedContext","recentlyViewed","welcomeMessage","generateMessageId","productStats","useMemo","minPrice","maxPrice","mainCat","count","searchProducts","terms","desc","term","scrollToBottom","handleFeedback","handleProductClick","allRecommended","handleSendMessage","userMessage","userMsgId","relevantProducts","personalContext","conversationHistory","productList","result","assistantMsgId","getFallbackResponse","foundProducts","msg","handleKeyPress","quickSuggestions","searches","viewed","suggestions","defaults","formatPrice","Fragment","Loader2","suggestion","AIRoomDesigner","onProductRecommendations","selectedImage","setSelectedImage","imagePreview","setImagePreview","isAnalyzing","setIsAnalyzing","analysis","setAnalysis","analysisError","setAnalysisError","recommendations","setRecommendations","aiKeywords","setAiKeywords","fileInputRef","handleImageSelect","file","reader","analyzeRoom","responseText","roomMatch","styleMatch","colorsMatch","furnitureMatch","tippMatch","readableAnalysis","matchedProducts","findMatchingProductsAdvanced","furnitureText","furnitureSynonyms","searchTerms","synonyms","style","words","topScored","selectedProducts","usedCategories","item","additionalProducts","sp","resetAnalysis","CheckCircle","line","i","AIStyleQuiz","onRecommendations","setStep","answers","setAnswers","setStyleDNA","aiExplanation","setAiExplanation","priceRanges","questions","currentQuestion","progress","handleAnswer","optionId","newAnswers","analyzeStyle","allAnswers","selectedKeywords","answer","option","o","findMatchingProductsWithAI","styleLabels","colorLabels","roomLabels","budgetLabels","finalStyleDNA","getLocalStyleDNA","fallbackProducts","findMatchingProductsLocal","fallbackDNA","roomOption","allKeywords","topProducts","tp","roomFiltered","styleMap","priorityMap","QuestionIcon","OptionIcon","isSelected","AIDebugPanel","healthStatus","setHealthStatus","healthMessage","setHealthMessage","testStatus","setTestStatus","testResult","setTestResult","errorDetails","setErrorDetails","checkHealth","runFullTest","getSuggestion","AlertTriangle","CategorySwipe","activeCategory","onCategoryChange","displayedCount","isExpanded","setIsExpanded","canScrollLeft","setCanScrollLeft","canScrollRight","setCanScrollRight","scrollRef","activeData","activeTotalCount","VISIBLE_MOBILE","VISIBLE_DESKTOP","isMobile","setIsMobile","checkMobile","visibleCount","visibleCategories","hasMore","updateScrollIndicators","scrollLeft","scrollWidth","clientWidth","el","scroll","direction","activeEl","Grid3X3","PLACEHOLDER_IMAGE","EnhancedProductCard","onToggleWishlist","isWishlisted","onQuickView","onAddToCart","isHovered","setIsHovered","imageLoaded","setImageLoaded","imageError","setImageError","cardRef","mainImage","discount","displayPrice","element","observer","entry","delay","CATEGORY_IMAGES","getCategoryImage","getCategoryTheme","themes","theme","Breadcrumb","onBack","CategoryHero","productCount","bgImage","SidebarFilters","onFilterChange","priceRange","onPriceRangeChange","filterOptions","brands","prices","toggleFilter","value","current","v","FilterSection","items","RelatedCategories","currentCategory","allCategories","related","PriceStats","stats","stat","FeaturedProducts","onProductClick","onWishlistToggle","wishlist","featured","CompactProductCard","onCompare","isComparing","hasDiscount","AIBanner","onAskAI","ViewControls","sortOption","onSortChange","viewMode","onViewModeChange","onOpenFilters","compareCount","mode","CategoryPage","onLoadMore","setSortOption","setViewMode","setFilters","setPriceRange","showFilters","setShowFilters","compareList","setCompareList","loadMoreRef","displayedProducts","_b","dA","visibleProducts","hasMoreToShow","toggleCompare","ScrollProgress","scrollProgress","setScrollProgress","updateScrollProgress","scrollTop","scrollHeight","BackToTop","toggleVisibility","scrollPercent","scrollToTop","createMotionComponent","initial","animate","exit","transition","whileHover","whileTap","motion","AnimatePresence","onExitComplete","LiveSocialProof","currentProduct","recentPurchases","viewerCount","setViewerCount","showNotification","setShowNotification","currentNotification","setCurrentNotification","baseViewers","interval","change","notifications","random","ModernHero","onExplore","onTryAI","mousePosition","setMousePosition","heroRef","handleMouseMove","rect","AIFeaturesShowcase","onFeatureClick","activeFeature","setActiveFeature","features","feature","_","SocialProof","setCount","targetCount","increment","trustBadges","colorClasses","LiveShowcase","currentIndex","setCurrentIndex","touchStart","setTouchStart","touchEnd","setTouchEnd","carouselRef","showcaseProducts","tags","minSwipeDistance","onTouchStart","onTouchMove","onTouchEnd","distance","isLeftSwipe","isRightSwipe","goNext","goPrev","InteractiveCTA","onGetStarted","aiSection","useLocalStorage","initialValue","storedValue","setStoredValue","valueToStore","useDebounce","debouncedValue","setDebouncedValue","handler","SmartSearch","onSearch","onSelectProduct","onShowRecommendations","setQuery","setSuggestions","aiSuggestions","setAiSuggestions","isAISearching","setIsAISearching","aiInsight","setAiInsight","recentSearches","setRecentSearches","debouncedQuery","searchRef","handleClickOutside","event","basicMatches","performAISearch","searchQuery","priceMatch","amount","multiplier","basicResults","expandedResults","expandSearch","queryLower","expandedTerms","values","results","matches","handleSearch","searchTerm","handleSelectProduct","handleShowAIResults","allResults","clearSearch","search","SimilarProducts","maxResults","similarProducts","setSimilarProducts","aiReason","setAiReason","findSimilarProducts","localSimilar","productContext","combined","findBasicSimilar","handleLike","handleDislike","RecentlyViewed","maxItems","recentProducts","setRecentProducts","recent","handleStorageChange","ProductComparison","comparisonList","onRemove","onAddMore","useComparison","setComparisonList","addToComparison","removeFromComparison","AdvancedFilters","initialFilters","min","max","cap","seen","materials","match","handlePriceChange","toggleCategory","previousFiltersRef","hasRestorableFilters","setHasRestorableFilters","clearFilters","restorePreviousFilters","activeFilterCount","panelContent","applyFilters","QuickAddToCart","onAdd","isAdding","setIsAdding","showSuccess","setShowSuccess","handleQuickAdd","resolve","ProductQuickPeek","activeImage","setActiveImage","images","img","SmartNewsletterPopup","onSubscribe","isSubmitted","setIsSubmitted","email","setEmail","setError","dismissed","subscribed","timeOnSiteTimeout","scrollDepthTriggered","exitIntentTriggered","handleScroll","scrolled","height","handleMouseLeave","handleSubmit","ExitIntentPopup","discountPercent","hasShown","setHasShown","countdown","setCountdown","inactivityTimer","resetTimer","formatTime","seconds","mins","secs","ARProductPreview","isARAvailable","setIsARAvailable","checkARSupport","isSupported","isIOSSafari","ua","isIOS","isSafari","handleARLaunch","usdzUrl","generateMockUSDZ","anchor","launchWebXR","openInARViewer","CompleteTheLook","onViewProduct","bundleItems","setBundleItems","selectedItems","setSelectedItems","bundleTitle","setBundleTitle","findComplementaryProducts","complementaryMap","complements","currentPrice","pCat","fallback","toggleItem","bundleOriginalPrice","sum","bundleDiscount","bundleFinalPrice","savedAmount","handleAddBundle","PersonalizedSection","activeTab","setActiveTab","forYouProducts","trendingProducts","tabs","currentProducts","scrollAmount","tab","isActive","isLiked","viewedAt","formatTimeAgo","date","diffMs","diffMins","diffHours","diffDays","ImageGallery","isZoomed","setIsZoomed","zoomPosition","setZoomPosition","isFullscreen","setIsFullscreen","mainImageRef","imageList","currentImage","goToNext","goToPrev","x","y","toggleZoom","handleTouchStart","handleTouchEnd","diff","handleKeyDown","StickyAddToCart","isShown","setIsShown","addedToCart","setAddedToCart","setQuantity","scrollY","originalPrice","stockLevel","isLowStock","isInStock","handleAddToCart","PriceAlert","targetPrice","setTargetPrice","isAlertSet","setIsAlertSet","suggestedPrice","alertData","removeAlert","PriceAlertModal","onSubmit","FadeInOnScroll","threshold","getTransform","Confetti","onComplete","particles","setParticles","newParticles","timeout","animationFrame","BottomSheet","snapPoints","initialSnap","showHandle","showClose","currentSnap","setCurrentSnap","isDragging","setIsDragging","dragOffset","setDragOffset","touchStartY","setTouchStartY","sheetRef","contentRef","getSheetHeight","handleTouchMove","FilterBottomSheet","activeFilters","onClearAll","onApply","filter","onChange","newValue","_c","GOOGLE_API_KEY","WEBSHOP_DOMAIN","SHOP_ID","DISPLAY_BATCH","fixUrl","cleanUrl","path","ANNOUNCEMENT_MESSAGES","POPULAR_CATEGORIES","Navbar","wishlistCount","onScrollToProducts","mobileMenuOpen","setMobileMenuOpen","isScrolled","setIsScrolled","announcementIndex","setAnnouncementIndex","isDarkMode","setIsDarkMode","showMegaMenu","setShowMegaMenu","isReturningUser","setIsReturningUser","userName","setUserName","mobileMenuClosing","setMobileMenuClosing","touchStartX","setTouchStartX","mobileMenuRef","lastVisit","savedName","closeMobileMenu","openMobileMenu","setTabAndClose","navItems","currentAnnouncement","part","arr","productsSection","Features","Testimonials","ProductModal","aiTip","setAiTip","loadingTip","setLoadingTip","generateStyleTip","_e","_d","param","VisualSearch","searchResults","setSearchResults","analysisText","setAnalysisText","handleImageUpload","base64Data","relevant","RoomPlanner","background","setBackground","placedItems","setPlacedItems","selectedItemId","setSelectedItemId","handleBackgroundUpload","addItem","App","setProducts","totalProductsCount","setTotalProductsCount","hasMoreProducts","setHasMoreProducts","isLoadingMore","setIsLoadingMore","setVisibleCount","visibleCountRef","filteredLengthRef","hasMoreProductsRef","isLoadingMoreRef","setWishlist","setSearchQuery","categoryFilter","setCategoryFilter","isDemoMode","setIsDemoMode","selectedProduct","setSelectedProduct","isChatOpen","setIsChatOpen","showAIOnboarding","setShowAIOnboarding","onboardingFeature","setOnboardingFeature","advancedFilters","setAdvancedFilters","showStyleQuiz","setShowStyleQuiz","showRoomDesigner","setShowRoomDesigner","showAIDebug","setShowAIDebug","aiRecommendedProducts","setAiRecommendedProducts","aiRecommendationLabel","setAiRecommendationLabel","quickPeekProduct","setQuickPeekProduct","showARPreview","setShowARPreview","arProduct","setArProduct","showConfetti","setShowConfetti","showFilterSheet","setShowFilterSheet","showExitIntent","setShowExitIntent","isLoadingUnas","setIsLoadingUnas","unasError","setUnasError","lastUpdated","setLastUpdated","dataSource","setDataSource","comparison","handleProductView","trackProductViewPref","handleShowAIProducts","firstArg","secondArg","recommendedProducts","label","clickedProduct","clickedCat","sameCategory","clickedPrice","similarPrice","r","clearAIRecommendations","toggleWishlist","serverSearchQuery","setServerSearchQuery","serverCategory","setServerCategory","searchTimeoutRef","loadUnasData","silent","newProducts","totalCount","handleServerSearch","handleCategoryChange","loadUnasDataRef","filteredAndSortedProducts","handleLoadMore","categoryCount","sorted","chat","recs","filterId","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110]}