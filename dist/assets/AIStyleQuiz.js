import{c as m,x as Q,H as j,Z as O,S as T,D as $,y as J,z as D,A as W,E as X,R as Y,F as _,G as ee,I as te,U as ae,J as se,j as t,X as re,L as ie,p as le,r as oe,u as ne,K as ce,m as de,N as K}from"./index.js";import{r as x}from"./vendor.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=m("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=m("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=m("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=m("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=m("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=m("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=m("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=m("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=m("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),ve=({products:n,onRecommendations:N,onClose:v})=>{const[u,q]=x.useState(0),[M,H]=x.useState({}),[S,C]=x.useState(!1),[w,L]=x.useState(null),[p,P]=x.useState([]),[ue,pe]=x.useState(""),g=x.useMemo(()=>{if(!n||n.length===0)return null;const e={},a={budget:0,mid:0,premium:0};n.forEach(r=>{const l=(r.category||"Egyéb").split(" > ")[0];e[l]=(e[l]||0)+1;const c=r.salePrice||r.price||0;c<1e5?a.budget++:c<=3e5?a.mid++:a.premium++});const i=Object.entries(e).sort((r,l)=>l[1]-r[1]).slice(0,10).map(([r,l])=>`${r} (${l})`).join(", ");return{total:n.length,topCategories:i,priceRanges:a}},[n]),k=[{id:"space",question:"Milyen a lakásod jelenlegi stílusa?",icon:j,options:[{id:"modern",label:"Modern & Minimalista",icon:me,color:"text-blue-600 bg-blue-50",keywords:["modern","minimalista","letisztult","egyszerű","fehér"]},{id:"scandinavian",label:"Skandináv & Világos",icon:fe,color:"text-emerald-600 bg-emerald-50",keywords:["skandináv","natúr","világos","fa","természetes"]},{id:"industrial",label:"Indusztriális & Nyers",icon:ye,color:"text-gray-600 bg-gray-100",keywords:["indusztriális","loft","fém","ipari","beton"]},{id:"vintage",label:"Vintage & Retro",icon:Q,color:"text-amber-600 bg-amber-50",keywords:["vintage","retro","antik","klasszikus","régi"]},{id:"bohemian",label:"Bohém & Színes",icon:R,color:"text-pink-600 bg-pink-50",keywords:["bohém","színes","egyedi","mintás","kreatív"]}]},{id:"colors",question:"Milyen színeket preferálsz?",icon:R,options:[{id:"neutral",label:"Semleges (Fehér, Bézs, Szürke)",icon:ge,color:"text-gray-500 bg-gray-50",keywords:["fehér","bézs","szürke","krém","natúr"]},{id:"earth",label:"Földszínek (Barna, Zöld)",icon:xe,color:"text-amber-700 bg-amber-50",keywords:["barna","zöld","fa","dió","tölgy"]},{id:"bold",label:"Merész (Kék, Piros)",icon:O,color:"text-red-600 bg-red-50",keywords:["kék","piros","sárga","élénk","színes"]},{id:"dark",label:"Sötét (Fekete, Antracit)",icon:he,color:"text-gray-800 bg-gray-200",keywords:["fekete","antracit","sötét","grafit","éjfekete"]},{id:"pastel",label:"Pasztell (Rózsaszín, Menta)",icon:T,color:"text-secondary-500 bg-secondary-50",keywords:["rózsaszín","menta","pasztell","halvány","lágy"]}]},{id:"budget",question:"Mi a preferált árkategóriád?",icon:$,options:[{id:"budget",label:"Megfizethető (< 100k Ft)",icon:$,color:"text-green-600 bg-green-50"},{id:"mid",label:"Közép (100-300k Ft)",icon:be,color:"text-blue-600 bg-blue-50"},{id:"premium",label:"Prémium (> 300k Ft)",icon:J,color:"text-amber-600 bg-amber-50"},{id:"flexible",label:"Rugalmas",icon:D,color:"text-primary-500 bg-primary-50"}]},{id:"priority",question:"Mi a legfontosabb számodra?",icon:D,options:[{id:"comfort",label:"Kényelem",icon:W,color:"text-primary-500 bg-primary-50",keywords:["kényelmes","puha","tágas"]},{id:"design",label:"Design",icon:ke,color:"text-pink-600 bg-pink-50",keywords:["design","stílusos","elegáns","divatos"]},{id:"durability",label:"Tartósság",icon:X,color:"text-gray-600 bg-gray-100",keywords:["tartós","strapabíró","erős","masszív"]},{id:"versatility",label:"Sokoldalúság",icon:Y,color:"text-blue-600 bg-blue-50",keywords:["praktikus","átalakítható","multifunkciós"]},{id:"eco",label:"Fenntarthatóság",icon:_,color:"text-green-600 bg-green-50",keywords:["öko","natúr","fenntartható","bio"]}]},{id:"room",question:"Melyik helyiségbe keresel bútort?",icon:j,options:[{id:"living",label:"Nappali",icon:ee,color:"text-primary-500 bg-primary-50",keywords:["kanapé","fotel","dohányzó","tv","nappali","ülőgarnitúra","sarok"]},{id:"bedroom",label:"Hálószoba",icon:te,color:"text-secondary-700 bg-secondary-50",keywords:["ágy","matrac","éjjeli","hálószoba","gardrób","komód","franciaágy"]},{id:"dining",label:"Étkező",icon:ae,color:"text-amber-600 bg-amber-50",keywords:["étkező","asztal","szék","tálaló","étkezőasztal","étkezőszék"]},{id:"office",label:"Dolgozószoba",icon:se,color:"text-gray-600 bg-gray-100",keywords:["íróasztal","iroda","forgószék","polc","könyvespolc"]},{id:"all",label:"Teljes lakás",icon:j,color:"text-emerald-600 bg-emerald-50",keywords:[]}]}],y=k[u],E=(u+1)/k.length*100,I=e=>{const a={...M,[y.id]:e};H(a),u<k.length-1?setTimeout(()=>q(u+1),200):setTimeout(()=>B(a),300)},B=async e=>{C(!0);try{const a=[];k.forEach(o=>{const b=e[o.id],h=o.options.find(G=>G.id===b);h!=null&&h.keywords&&a.push(...h.keywords)});const i=await Z(e,a);P(i);const r={modern:"modern, minimalista",scandinavian:"skandináv, világos",industrial:"indusztriális, loft",vintage:"vintage, retro",bohemian:"bohém, színes"},l={neutral:"semleges színeket (fehér, bézs, szürke)",earth:"földszíneket (barna, zöld)",bold:"élénk színeket (kék, piros)",dark:"sötét tónusokat (fekete, antracit)",pastel:"pasztell árnyalatokat"},c={living:"nappaliba",bedroom:"hálószobába",dining:"étkezőbe",office:"dolgozószobába",all:"a teljes lakásba"},z={budget:"100 ezer Ft alatt",mid:"100-300 ezer Ft között",premium:"300 ezer Ft felett",flexible:"rugalmas költségvetéssel"},d=`Te egy profi lakberendező tanácsadó vagy. Készíts személyre szabott profilt és adj konkrét termékajánlásokat!

VÁSÁRLÓ PREFERENCIÁI:
- Stílus: ${r[e.space]||e.space}
- Színek: ${l[e.colors]||e.colors}
- Helyiség: ${c[e.room]||e.room}
- Költségvetés: ${z[e.budget]||e.budget}

ELÉRHETŐ TERMÉKEK (${(g==null?void 0:g.total)||0} db összesen):
${i.slice(0,8).map(o=>`- ${o.name}: ${(o.salePrice||o.price||0).toLocaleString("hu-HU")} Ft`).join(`
`)}

FELADATOD:
1. Írj egy 2-3 mondatos személyre szabott stílusprofilt
2. Magyarázd el, MIÉRT ezeket a termékeket ajánlod (1 mondat)

Legyél barátságos, használj tegezést. Magyarul válaszolj!`,f=await de(d,{temperature:.8,maxTokens:250});let s;f.success&&f.text?s=f.text:s=F(e),L(s),K(e,s),N&&i.length>0&&N(i)}catch(a){console.error("Quiz hiba:",a);const i=V(e);P(i);const r=F(e);L(r),K(e,r)}finally{C(!1)}},Z=async(e,a)=>{var f;if(!n||n.length===0)return[];let i=[...n];e.budget==="budget"?i=i.filter(s=>(s.salePrice||s.price)<1e5):e.budget==="mid"?i=i.filter(s=>{const o=s.salePrice||s.price;return o>=1e5&&o<=3e5}):e.budget==="premium"&&(i=i.filter(s=>(s.salePrice||s.price)>3e5));const r=(f=k.find(s=>s.id==="room"))==null?void 0:f.options.find(s=>s.id===e.room),l=(r==null?void 0:r.keywords)||[],c=[...a,...l],d=i.map(s=>{const o=`${s.name||""} ${s.category||""} ${s.description||""}`.toLowerCase();let b=0;return c.forEach(h=>{o.includes(h.toLowerCase())&&(b+=10)}),l.length>0&&l.forEach(h=>{o.includes(h.toLowerCase())&&(b+=5)}),{product:s,score:b}}).filter(s=>s.score>0).sort((s,o)=>o.score-s.score).slice(0,20).map(s=>s.product);if(d.length>12)return d.sort(()=>Math.random()-.5).slice(0,12);if(d.length<6){const s=i.filter(o=>!d.some(b=>b.id===o.id)).sort(()=>Math.random()-.5).slice(0,12-d.length);return[...d,...s]}return d},V=e=>{if(!n||n.length===0)return[];let a=[...n];e.budget==="budget"?a=a.filter(r=>(r.salePrice||r.price)<1e5):e.budget==="mid"?a=a.filter(r=>{const l=r.salePrice||r.price;return l>=1e5&&l<=3e5}):e.budget==="premium"&&(a=a.filter(r=>(r.salePrice||r.price)>3e5));const i={living:["kanapé","fotel","dohányzó","tv","nappali","ülőgarnitúra"],bedroom:["ágy","matrac","éjjeli","hálószoba","gardrób","komód"],dining:["étkező","asztal","szék","tálaló"],office:["íróasztal","iroda","forgószék","polc"]};if(e.room&&e.room!=="all"){const r=i[e.room]||[];if(r.length>0){const l=a.filter(c=>r.some(z=>(c.name||"").toLowerCase().includes(z)||(c.category||"").toLowerCase().includes(z)));l.length>0&&(a=l)}}return a.sort(()=>Math.random()-.5).slice(0,12)},F=e=>{const a={modern:"Modern, letisztult ízlésed van",scandinavian:"A skandináv egyszerűséget kedveled",industrial:"Az ipari, loft stílus híve vagy",vintage:"A vintage báj rajongója vagy",bohemian:"Egyedi, bohém stílusod van"},i={comfort:"a kényelmet",design:"az esztétikát",durability:"a minőséget",versatility:"a praktikumot",eco:"a környezettudatosságot"};return`${a[e.space]||"Egyedi ízlésed van"}, és ${i[e.priority]||"a minőséget"} helyezed előtérbe. Az ajánlott termékek tökéletesen illenek a stílusodhoz!`},A=e=>(e||0).toLocaleString("hu-HU")+" Ft",U=(y==null?void 0:y.icon)||j;return t.jsx("div",{className:"fixed inset-0 lg:top-[60px] z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:v,children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-700 p-5 relative",children:[t.jsx("button",{onClick:v,className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:t.jsx(re,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(T,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"Style DNA Quiz"}),t.jsx("p",{className:"text-white/80 text-sm",children:g?`${g.total.toLocaleString()} termékből válogatunk`:"Fedezd fel a stílusodat!"})]})]}),!w&&!S&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-1.5",children:[t.jsxs("span",{children:["Kérdés ",u+1,"/",k.length]}),t.jsxs("span",{children:[Math.round(E),"%"]})]}),t.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${E}%`}})})]})]}),t.jsx("div",{className:"p-5",children:S?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(ie,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"AI elemzés folyamatban..."}),t.jsxs("p",{className:"text-gray-500 text-sm",children:[g==null?void 0:g.total.toLocaleString()," termékből keressük a neked valókat"]})]}):w?t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-xl p-5 border border-primary-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(le,{className:"w-5 h-5 text-green-500"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"A Te Style DNA-d"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:w})]}),p.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[t.jsx(oe,{className:"w-4 h-4 text-amber-500"}),"Személyre szabott ajánlatok (",p.length,")"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.slice(0,6).map(e=>{var a;return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center hover:bg-primary-50 transition-colors cursor-pointer",children:[t.jsx("img",{src:((a=e.images)==null?void 0:a[0])||e.image||"/placeholder.png",alt:e.name,className:"w-full aspect-square object-contain rounded bg-white mb-1",onError:i=>{i.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect fill="%23f3f4f6" width="100" height="100"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%239ca3af" font-size="12">Kép</text></svg>'}}),t.jsx("p",{className:"text-[10px] text-gray-600 truncate",children:e.name}),t.jsx("p",{className:"text-xs font-bold text-primary-500",children:A(e.salePrice||e.price)})]},e.id)})}),p.length>6&&t.jsxs("p",{className:"text-center text-xs text-gray-500 mt-2",children:["+ ",p.length-6," további ajánlat"]})]}),t.jsxs("button",{onClick:v,className:"w-full bg-gradient-to-r from-primary-500 to-secondary-700 text-white py-3.5 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(ne,{className:"w-5 h-5"}),"Termékek megtekintése"]})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center shrink-0",children:t.jsx(U,{className:"w-5 h-5 text-primary-500"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:y.question})]}),t.jsx("div",{className:"space-y-2",children:y.options.map(e=>{const a=e.icon,i=M[y.id]===e.id;return t.jsxs("button",{onClick:()=>I(e.id),className:`
                        w-full p-3.5 rounded-xl border-2 text-left transition-all
                        flex items-center gap-3
                        ${i?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}
                      `,children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${e.color}`,children:t.jsx(a,{className:"w-5 h-5"})}),t.jsx("span",{className:"text-sm font-medium text-gray-800 flex-1",children:e.label}),i&&t.jsx(ce,{className:"w-5 h-5 text-primary-500"})]},e.id)})})]})})]})})};export{ve as default};
//# sourceMappingURL=AIStyleQuiz.js.map
