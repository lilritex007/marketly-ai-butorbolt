{"version":3,"file":"AIModuleUnified.js","sources":["../../src/components/landing/AIModuleUnified.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Camera, MessageCircle, Move3d, Sparkles, Home, ArrowRight } from 'lucide-react';\nimport { trackSectionEvent } from '../../services/userPreferencesService';\nimport { CountUp } from '../ui/Animations';\n\nconst FEATURES = [\n  {\n    id: 'style-quiz',\n    title: 'AI Stílus Quiz',\n    subtitle: '5 kérdés a Style DNA-dhoz',\n    cta: 'Style DNA megismerése',\n    icon: Sparkles,\n    stat: null,\n    statLabel: null,\n    isHighlighted: true,\n    displayOrder: 0,\n    border: 'border-amber-200/80',\n    bg: 'from-amber-50/90 to-white',\n    accent: 'from-amber-400 via-amber-500 to-primary-500',\n    iconGradient: 'from-amber-500 to-orange-500',\n    text: 'text-amber-800'\n  },\n  {\n    id: 'visual-search',\n    title: 'Képfelismerés',\n    subtitle: 'Fotózz és keress',\n    cta: 'Keresés indítása',\n    icon: Camera,\n    stat: '99%',\n    statLabel: 'pontosság',\n    isHighlighted: false,\n    displayOrder: 1,\n    border: 'border-sky-200/80',\n    bg: 'from-sky-50/90 to-white',\n    accent: 'from-sky-400 via-blue-500 to-indigo-500',\n    iconGradient: 'from-sky-500 to-blue-600',\n    text: 'text-sky-800'\n  },\n  {\n    id: 'chat',\n    title: 'AI Chat',\n    subtitle: 'Személyes tanácsadó',\n    cta: 'Chat megnyitása',\n    icon: MessageCircle,\n    stat: '24/7',\n    statLabel: 'elérhető',\n    isHighlighted: false,\n    displayOrder: 2,\n    border: 'border-secondary-200/80',\n    bg: 'from-secondary-50/90 to-white',\n    accent: 'from-secondary-400 via-teal-500 to-emerald-500',\n    iconGradient: 'from-secondary-500 to-secondary-600',\n    text: 'text-secondary-800'\n  },\n  {\n    id: 'room-planner',\n    title: 'Szobatervező',\n    subtitle: 'Virtuális elhelyezés',\n    cta: 'Tervezés indítása',\n    icon: Move3d,\n    stat: 'AR',\n    statLabel: 'támogatás',\n    isHighlighted: false,\n    displayOrder: 3,\n    border: 'border-emerald-200/80',\n    bg: 'from-emerald-50/90 to-white',\n    accent: 'from-emerald-400 via-green-500 to-teal-500',\n    iconGradient: 'from-emerald-500 to-green-600',\n    text: 'text-emerald-800'\n  },\n  {\n    id: 'room-designer',\n    title: 'AI Szoba Tervező',\n    subtitle: 'Tervezd meg a tökéletes szobát',\n    cta: 'Szoba megtervezése',\n    icon: Home,\n    stat: null,\n    statLabel: null,\n    isHighlighted: false,\n    displayOrder: 4,\n    border: 'border-indigo-200/80',\n    bg: 'from-indigo-50/90 to-white',\n    accent: 'from-indigo-400 via-violet-500 to-secondary-500',\n    iconGradient: 'from-indigo-500 to-violet-600',\n    text: 'text-indigo-800'\n  }\n].sort((a, b) => a.displayOrder - b.displayOrder);\n\nconst AUTO_SCROLL_MS = 4000;\nconst SECTION_ID = 'ai-module';\n\nfunction StatDisplay({ feature, isMobile, reduceMotion }) {\n  if (!feature.stat) return null;\n  const statPos = feature.isHighlighted ? 'top-4 left-4' : 'top-4 right-4 sm:top-5 sm:right-5';\n  const parsed = feature.stat === '99%' ? { num: 99, suffix: '%' } : feature.stat === '24/7' ? { num: 24, suffix: '/7' } : null;\n\n  return (\n    <div className={`absolute ${statPos} text-right`}>\n      <div className={`${isMobile ? 'text-sm' : 'text-base'} font-bold ${feature.text}`}>\n        {reduceMotion || !parsed ? feature.stat : <CountUp end={parsed.num} suffix={parsed.suffix} duration={1200} />}\n      </div>\n      <div className={`${isMobile ? 'text-[10px]' : 'text-xs'} text-gray-500`}>{feature.statLabel}</div>\n    </div>\n  );\n}\n\nfunction FeatureCard({ feature, layout, onClick, reduceMotion }) {\n  const Icon = feature.icon;\n  const isMobile = layout === 'mobile';\n  const badgePos = 'top-4 right-4 sm:top-5 sm:right-5';\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        trackSectionEvent(SECTION_ID, 'click', feature.id);\n        onClick?.(feature);\n      }}\n      className={`group relative flex-shrink-0 h-[220px] rounded-xl border bg-gradient-to-br ${feature.border} ${feature.bg} text-left shadow-lg hover:shadow-xl hover:ring-2 hover:ring-primary-200/80 active:scale-[0.98] transition-all duration-200 snap-start focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 focus-visible:ring-offset-2 [transform-style:preserve-3d] hover:[transform:perspective(1000px)_rotateX(-2deg)_rotateY(2deg)_translateY(-4px)] motion-reduce:hover:[transform:translateY(-2px)] ${feature.isHighlighted ? 'ring-2 ring-amber-300/60' : ''} ${isMobile ? 'w-full min-w-0' : 'hidden sm:block sm:w-auto sm:min-w-0 sm:h-[240px]'}`}\n      aria-label={`${feature.title} – ${feature.subtitle}`}\n    >\n      <div className={`absolute left-0 bottom-0 w-full h-0.5 bg-gradient-to-r ${feature.accent}`} aria-hidden />\n      <div className={`relative h-full flex flex-col ${isMobile ? 'p-4' : 'p-5'}`}>\n        <div className={`${isMobile ? 'w-10 h-10 mb-3' : 'w-11 h-11 mb-4'} rounded-xl bg-gradient-to-br ${feature.iconGradient} text-white flex items-center justify-center shadow-sm transition-transform duration-200 group-hover:scale-110 group-hover:-translate-y-0.5`}>\n          <Icon className={`${isMobile ? 'w-5 h-5' : 'w-6 h-6'} transition-transform duration-200 group-hover:scale-105`} aria-hidden />\n        </div>\n        <StatDisplay feature={feature} isMobile={isMobile} reduceMotion={reduceMotion} />\n        {feature.isHighlighted && (\n          <span className={`absolute ${badgePos} px-2 py-0.5 rounded-full bg-amber-100 text-amber-800 ${isMobile ? 'text-[10px]' : 'text-xs'} font-bold`}>\n            Próbáld először\n          </span>\n        )}\n        <h3 className={`${isMobile ? 'text-base' : 'text-lg'} font-bold ${feature.text} mb-0.5 sm:mb-1`}>{feature.title}</h3>\n        <p className={`${isMobile ? 'text-xs' : 'text-sm'} text-gray-600 mb-auto`}>{feature.subtitle}</p>\n        <span className={`inline-flex items-center gap-1.5 sm:gap-2 ${isMobile ? 'text-sm' : 'text-sm'} font-semibold ${feature.text} mt-2`}>\n          {feature.cta} <ArrowRight className=\"w-4 h-4 group-hover:translate-x-1 group-hover:scale-110 transition-transform duration-200\" aria-hidden />\n        </span>\n      </div>\n    </button>\n  );\n}\n\nexport default function AIModuleUnified({ onFeatureClick }) {\n  const scrollRef = useRef(null);\n  const [isPaused, setIsPaused] = useState(false);\n  const [cardWidth, setCardWidth] = useState(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isScrolling, setIsScrolling] = useState(false);\n  const [reduceMotion, setReduceMotion] = useState(false);\n\n  useEffect(() => {\n    trackSectionEvent(SECTION_ID, 'impression');\n  }, []);\n\n  useEffect(() => {\n    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReduceMotion(mq.matches);\n    const fn = (e) => setReduceMotion(e.matches);\n    mq.addEventListener('change', fn);\n    return () => mq.removeEventListener('change', fn);\n  }, []);\n\n  const handleClick = (feature) => {\n    onFeatureClick?.(feature);\n  };\n\n  useEffect(() => {\n    const el = scrollRef.current;\n    if (!el) return;\n    const updateWidth = () => {\n      const gap = 20;\n      const w = (el.offsetWidth - gap) / 2;\n      setCardWidth(w + gap);\n    };\n    updateWidth();\n    const ro = new ResizeObserver(updateWidth);\n    ro.observe(el);\n    return () => ro.disconnect();\n  }, []);\n\n  useEffect(() => {\n    const el = scrollRef.current;\n    if (!el || cardWidth <= 0) return;\n    const count = FEATURES.length;\n    const totalWidth = count * cardWidth;\n    const onScroll = () => {\n      const x = el.scrollLeft;\n      let idx = Math.min(count - 1, Math.round(x / cardWidth));\n      if (idx < 0) idx = 0;\n      setActiveIndex(idx);\n    };\n    el.addEventListener('scroll', onScroll, { passive: true });\n    return () => el.removeEventListener('scroll', onScroll);\n  }, [cardWidth]);\n\n  useEffect(() => {\n    if (reduceMotion || isPaused || !scrollRef.current || cardWidth <= 0) return;\n    const el = scrollRef.current;\n    const count = FEATURES.length;\n    const totalWidth = count * cardWidth;\n    const t = setInterval(() => {\n      const curr = el.scrollLeft;\n      const next = curr + cardWidth;\n      if (next >= totalWidth - 20) {\n        el.scrollTo({ left: 0, behavior: 'smooth' });\n      } else {\n        el.scrollTo({ left: next, behavior: 'smooth' });\n      }\n    }, AUTO_SCROLL_MS);\n    return () => clearInterval(t);\n  }, [reduceMotion, isPaused, cardWidth]);\n\n  const handleTouchStart = () => {\n    setIsPaused(true);\n    setIsScrolling(false);\n  };\n\n  const handleTouchEnd = () => {\n    setTimeout(() => setIsPaused(false), 3000);\n    setTimeout(() => setIsScrolling(false), 100);\n  };\n\n  const handleTouchMove = () => {\n    setIsScrolling(true);\n  };\n\n  const [sectionInView, setSectionInView] = useState(false);\n  const sectionRef = useRef(null);\n\n  useEffect(() => {\n    const el = sectionRef.current;\n    if (!el || !(el instanceof Element)) return;\n    const observer = new IntersectionObserver(\n      ([e]) => e.isIntersecting && setSectionInView(true),\n      { threshold: 0.15 }\n    );\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, []);\n\n  return (\n    <section\n      ref={sectionRef}\n      className=\"relative py-20 overflow-hidden bg-gradient-to-b from-primary-50/40 via-white to-white border-t border-gray-100\"\n      aria-labelledby=\"ai-module-heading\"\n    >\n      {/* Gradient orbs háttér */}\n      <div className=\"pointer-events-none absolute inset-0\">\n        <div className=\"absolute top-0 left-1/4 w-[400px] h-[400px] rounded-full bg-primary-200/50 mix-blend-multiply filter blur-[100px] animate-blob motion-reduce:animate-none\" />\n        <div className=\"absolute top-1/2 right-0 w-[350px] h-[350px] rounded-full bg-secondary-300/40 mix-blend-multiply filter blur-[90px] animate-blob animation-delay-2000 motion-reduce:animate-none\" />\n        <div className=\"absolute bottom-0 left-1/2 w-[300px] h-[300px] rounded-full bg-amber-200/40 mix-blend-multiply filter blur-[80px] animate-blob animation-delay-4000 motion-reduce:animate-none\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-12 xl:px-16\">\n        <div className=\"text-center mb-12\">\n          <h2\n            id=\"ai-module-heading\"\n            className=\"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 tracking-tight mb-3\"\n          >\n            AI a <span className=\"bg-gradient-to-r from-primary-500 to-secondary-600 bg-clip-text text-transparent\">szolgálatodban</span>\n          </h2>\n          <p className=\"text-base sm:text-lg text-gray-500 max-w-2xl mx-auto\">\n            Okos funkciók a tökéletes választáshoz\n          </p>\n        </div>\n\n        {/* Mobil: scroll carousel, 2 kártya, auto-scroll */}\n        <div\n          ref={scrollRef}\n          onMouseEnter={() => setIsPaused(true)}\n          onMouseLeave={() => setIsPaused(false)}\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n          onTouchMove={handleTouchMove}\n          className={`flex sm:hidden gap-5 overflow-x-auto overflow-y-hidden snap-x snap-mandatory scroll-smooth pb-2 -mx-4 pl-4 pr-4 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden ${isScrolling ? 'opacity-95' : ''}`}\n          style={{\n            WebkitOverflowScrolling: 'touch',\n            scrollSnapType: 'x mandatory',\n            scrollPaddingLeft: 16\n          }}\n        >\n          {FEATURES.map((feature, idx) => (\n            <div\n              key={feature.id}\n              className={`flex-shrink-0 w-[calc(50%-10px)] min-w-[calc(50%-10px)] transition-all duration-500 ease-out ${(sectionInView || reduceMotion) ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`}\n              style={!reduceMotion ? { transitionDelay: `${idx * 80}ms` } : undefined}\n            >\n              <FeatureCard\n                feature={feature}\n                layout=\"mobile\"\n                onClick={handleClick}\n                reduceMotion={reduceMotion}\n              />\n            </div>\n          ))}\n        </div>\n\n        {/* Dot indicator – mobil */}\n        <div className=\"flex sm:hidden justify-center gap-1.5 mt-4\">\n          {FEATURES.map((_, i) => (\n            <span\n              key={i}\n              className={`block w-2 h-2 rounded-full transition-colors ${i === activeIndex ? 'bg-primary-500' : 'bg-gray-300'}`}\n              aria-hidden\n            />\n          ))}\n        </div>\n\n        {/* Tablet + Desktop: 5 kártya egy sorban, staggered fade-in */}\n        <div className=\"hidden sm:grid sm:grid-cols-2 lg:grid-cols-5 gap-4 lg:gap-5 mt-0\">\n          {FEATURES.map((feature, idx) => {\n            const Icon = feature.icon;\n            const show = sectionInView || reduceMotion;\n            return (\n            <div\n              key={feature.id}\n              className={`transition-all duration-500 ease-out ${show ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-6'}`}\n              style={!reduceMotion ? { transitionDelay: `${idx * 90}ms` } : undefined}\n            >\n              <button\n                type=\"button\"\n                onClick={() => {\n                  trackSectionEvent(SECTION_ID, 'click', feature.id);\n                  handleClick(feature);\n                }}\n                className={`group relative w-full rounded-xl border bg-gradient-to-br ${feature.border} ${feature.bg} h-[220px] lg:h-[240px] text-left shadow-lg hover:shadow-xl hover:ring-2 hover:ring-primary-200/80 active:scale-[0.98] transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 focus-visible:ring-offset-2 overflow-hidden min-w-0 [transform-style:preserve-3d] hover:[transform:perspective(1000px)_rotateX(-2deg)_rotateY(2deg)_translateY(-4px)] motion-reduce:hover:[transform:translateY(-2px)] ${feature.isHighlighted ? 'ring-2 ring-amber-300/60' : ''}`}\n                aria-label={`${feature.title} – ${feature.subtitle}`}\n              >\n                <div className={`absolute left-0 bottom-0 w-full h-0.5 bg-gradient-to-r ${feature.accent}`} aria-hidden />\n                <div className=\"relative h-full flex flex-col p-5\">\n                  <div className={`w-11 h-11 rounded-xl bg-gradient-to-br ${feature.iconGradient} text-white flex items-center justify-center mb-4 shadow-sm transition-transform duration-200 group-hover:scale-110 group-hover:-translate-y-0.5`}>\n                    <Icon className=\"w-6 h-6 transition-transform duration-200 group-hover:scale-105\" aria-hidden />\n                  </div>\n                  {feature.stat && (\n                    <div className={`absolute top-5 ${feature.isHighlighted ? 'left-5' : 'right-5'} text-right`}>\n                      <div className={`text-base font-bold ${feature.text}`}>\n                        {reduceMotion ? feature.stat : feature.stat === '99%' ? (\n                          <CountUp end={99} suffix=\"%\" duration={1200} />\n                        ) : feature.stat === '24/7' ? (\n                          <CountUp end={24} suffix=\"/7\" duration={1200} />\n                        ) : (\n                          feature.stat\n                        )}\n                      </div>\n                      <div className=\"text-xs text-gray-500\">{feature.statLabel}</div>\n                    </div>\n                  )}\n                  {feature.isHighlighted && (\n                    <span className=\"absolute top-5 right-5 px-2.5 py-1 rounded-full bg-amber-100 text-amber-800 text-xs font-bold\">\n                      Próbáld először\n                    </span>\n                  )}\n                  <h3 className={`text-lg font-bold ${feature.text} mb-1`}>{feature.title}</h3>\n                  <p className=\"text-sm text-gray-600 mb-auto\">{feature.subtitle}</p>\n                  <span className={`inline-flex items-center gap-2 text-sm font-semibold ${feature.text} mt-2`}>\n                    {feature.cta} <ArrowRight className=\"w-4 h-4 group-hover:translate-x-1 group-hover:scale-110 transition-transform duration-200\" aria-hidden />\n                  </span>\n                </div>\n              </button>\n            </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":["FEATURES","Sparkles","Camera","MessageCircle","Move3d","Home","a","b","AUTO_SCROLL_MS","SECTION_ID","StatDisplay","feature","isMobile","reduceMotion","statPos","parsed","jsxs","jsx","CountUp","FeatureCard","layout","onClick","Icon","trackSectionEvent","ArrowRight","AIModuleUnified","onFeatureClick","scrollRef","useRef","isPaused","setIsPaused","useState","cardWidth","setCardWidth","activeIndex","setActiveIndex","isScrolling","setIsScrolling","setReduceMotion","useEffect","mq","fn","e","handleClick","el","updateWidth","w","ro","count","onScroll","idx","totalWidth","t","next","handleTouchStart","handleTouchEnd","handleTouchMove","sectionInView","setSectionInView","sectionRef","observer","_","i","show"],"mappings":"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"}